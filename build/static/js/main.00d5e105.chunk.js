(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{145:function(e,t,n){},202:function(e,t){},207:function(e,t,n){},208:function(e,t,n){},253:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},260:function(e,t,n){},261:function(e,t,n){},262:function(e,t,n){},263:function(e,t,n){},264:function(e,t,n){},265:function(e,t,n){},266:function(e,t,n){},267:function(e,t,n){},268:function(e,t,n){},269:function(e,t,n){},270:function(e,t,n){},271:function(e,t,n){},272:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(59),c=n(58),s=n.n(c),o=n(1),i=n(62),l=n(7),u=n(15),d="LOGIN",b="LOGOUT",j="NEW_BOARD_CREATED",p="BOARD_DELETED",f="BOARD_PATCHED",m="GET_LISTS",O="GET_LISTS_AND_CARDS",h="NEW_LISTS_CREATED",g="LIST_DELETED",v="NEW_CARD_CREATED",x="CARD_DELETED",_="CARD_PATCHED",y="NOTE_DISMISSED",w="NOTE_RECEIVED",k={isLogged:!1,accessToken:"",authentication:{},user:{imageURL:""}};var N=n(14),C=[];var E=n(10),I=n(3),L=n(4),A=n(93),S=n.n(A),F=n(147),T=n.n(F),P=n(148),D=n.n(P),B=n(149),R=n.n(B),H={header:"Authorization",scheme:"Bearer",path:"/authentication",jwtStrategy:"jwt",entity:"user",service:"users",cookie:"feathers-jwt",storageKey:"feathers-jwt",storage:localStorage},U=D()("",{reconnectionDelay:5e3,transports:["websocket"]});U.on("connect_error",(function(e){console.log("connection error")}));var z=S()();z.configure(R()(U)),z.configure(T()(H)),z.configure(S.a.authentication());var V=z.service("users"),q=z.service("boards"),G=z.service("lists"),$=z.service("cards"),M=z.service("notifications"),Y=function(e){return/^https:\/\/images\.unsplash\.com\/.{1,}/g.test(e)},Z=function(e){return new Promise((function(t,n){var r=document.createElement("img");r.src=e,r.onload=function(){return t(e)},r.onerror=function(e){n("Your link has no image")}}))},W=function(){var e=Object(L.a)(Object(I.a)().mark((function e(){var t,n;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.readText();case 3:if(t=e.sent,Y(t)){e.next=6;break}return e.abrupt("return",Promise.reject("Your link has no image"));case 6:return e.next=8,Z(t);case 8:return n=e.sent,e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e.catch(0),console.log("e: ",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),J=function(e,t){return e in t},K={};var X=[];var Q=[];var ee=Object(i.a)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case d:return Object(r.a)(Object(r.a)(Object(r.a)({},e),a),{},{isLogged:!0});case b:return k;default:return e}},boards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,a=t.boards,c=void 0===a?[]:a;switch(n){case j:return[].concat(Object(N.a)(e),[r]);case p:return e.filter((function(e){return e._id!==r}));case d:return Object(N.a)(c);case b:return C;case f:return[r].concat(Object(N.a)(e.filter((function(e){return e._id!==r._id}))));default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,c=t.cards;switch(n){case _:var s=e[a.listId].map((function(e){return e._id===a._id?a:e}));return Object(r.a)(Object(r.a)({},e),{},Object(E.a)({},a.listId,s));case h:return Object(r.a)(Object(r.a)({},e),{},Object(E.a)({},a._id,[]));case g:return a in e&&delete e[a],e;case x:var o=a.listId,i=a._id,l=J(o,e);return l?Object(r.a)(Object(r.a)({},e),{},Object(E.a)({},o,e[o].filter((function(e){return e._id!==i})))):Object(r.a)({},e);case v:var u=a.listId,d=J(u,e);return d?Object(r.a)(Object(r.a)({},e),{},Object(E.a)({},u,[].concat(Object(N.a)(e[u]),[a]))):Object(r.a)(Object(r.a)({},e),{},Object(E.a)({},u,[a]));case O:var b=c.reduce((function(e,t){var n=t.listId;return n in e?e[n].push(t):e[n]=[t],e}),{});return Object(r.a)(Object(r.a)({},e),b);default:return e}},lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,a=t.lists;switch(n){case g:return e[0]&&e[0].boardId===r.boardId?e.filter((function(e){return e._id!==r._id})):e;case m:return Object(N.a)(r);case O:return Object(N.a)(a);case h:return e[0]&&e[0].boardId===r.boardId||0===e.length?[].concat(Object(N.a)(e),[r]):e;default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,a=t.notes,c=void 0===a?[]:a;switch(n){case d:return[].concat(Object(N.a)(e),Object(N.a)(c));case b:return Q;case y:return e.filter((function(e){return e._id!==r._id}));case w:return[].concat(Object(N.a)(e),[r]);default:return e}}}),te=(n(207),n(9)),ne=n(6),re=n(23),ae=n(24),ce=n(27),se=n(28),oe=function(){function e(){Object(ae.a)(this,e)}return Object(re.a)(e,[{key:"handleError",value:function(e,t){switch(e.code){case 401:return"function"===typeof t&&t({type:b}),{message:"Invalid username or password",errorClass:e.className||""};case 408:return"function"===typeof t&&console.log("need dispatch in Error Handler"),{message:"Server doesn't respond",errorClass:e.className||""};case 409:return{message:"User with this parameters already exists",errorClass:e.className||""};default:return{message:"Unexpected error",errorClass:""}}}}]),e}(),ie=function(e){Object(ce.a)(n,e);var t=Object(se.a)(n);function n(){var e;Object(ae.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).create=function(){var t=Object(L.a)(Object(I.a)().mark((function t(n,r){var a,c,s,o,i=arguments;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q.create(n);case 3:for(a=t.sent,c=i.length,s=new Array(c>2?c-2:0),o=2;o<c;o++)s[o-2]=i[o];return s.forEach((function(e){"function"===typeof e&&e(a)})),t.abrupt("return",a);case 9:throw t.prev=9,t.t0=t.catch(0),console.log("create a board error",t.t0),e.handleError(t.t0,r);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}(),e.find=Object(L.a)(Object(I.a)().mark((function t(){var n,r,a,c,s,o,i,l=arguments;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.length>0&&void 0!==l[0]?l[0]:{},r=l.length>1?l[1]:void 0,t.prev=2,t.next=5,q.find(n);case 5:for(a=t.sent,c=l.length,s=new Array(c>2?c-2:0),o=2;o<c;o++)s[o-2]=l[o];return s.forEach((function(e){"function"===typeof e&&e(a)})),t.abrupt("return",a);case 11:throw t.prev=11,t.t0=t.catch(2),i=e.handleError(t.t0,r),console.log("find boards error",i),i;case 16:case"end":return t.stop()}}),t,null,[[2,11]])}))),e.delete=Object(L.a)(Object(I.a)().mark((function t(){var n,r,a,c,s,o,i,l=arguments;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.length>0&&void 0!==l[0]?l[0]:"",r=l.length>1?l[1]:void 0,t.prev=2,t.next=5,q.remove(n);case 5:for(a=t.sent,c=a._id,s=l.length,o=new Array(s>2?s-2:0),i=2;i<s;i++)o[i-2]=l[i];return o.forEach((function(e){"function"===typeof e&&e(c)})),t.abrupt("return",new Promise((function(e){return e("done")})));case 12:throw t.prev=12,t.t0=t.catch(2),console.log("delete a board error",t.t0),e.handleError(t.t0,r);case 17:case"end":return t.stop()}}),t,null,[[2,12]])}))),e.patch=function(){var t=Object(L.a)(Object(I.a)().mark((function t(n,r){var a,c,s,o,i,l,u=arguments;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=n.boardId,c=n.data,t.next=4,q.patch(a,c);case 4:for(s=t.sent,o=u.length,i=new Array(o>2?o-2:0),l=2;l<o;l++)i[l-2]=u[l];return i.forEach((function(e){"function"===typeof e&&e(s)})),t.abrupt("return",new Promise((function(e){return e("done")})));case 10:throw t.prev=10,t.t0=t.catch(0),console.log("patch a board error",t.t0),e.handleError(t.t0,r);case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(re.a)(n)}(oe),le=new ie,ue=function(e){Object(ce.a)(n,e);var t=Object(se.a)(n);function n(){var e;Object(ae.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).create=function(){var t=Object(L.a)(Object(I.a)().mark((function t(n,r){var a,c,s,o,i=arguments;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M.create(n);case 3:for(a=t.sent,c=i.length,s=new Array(c>2?c-2:0),o=2;o<c;o++)s[o-2]=i[o];return s.forEach((function(e){"function"===typeof e&&e(a)})),t.abrupt("return",a);case 9:throw t.prev=9,t.t0=t.catch(0),console.log("create a notification error",t.t0),e.handleError(t.t0,r);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}(),e.find=Object(L.a)(Object(I.a)().mark((function t(){var n,r,a,c,s,o,i,l=arguments;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.length>0&&void 0!==l[0]?l[0]:{},r=l.length>1?l[1]:void 0,t.prev=2,t.next=5,M.find(n);case 5:for(a=t.sent,c=l.length,s=new Array(c>2?c-2:0),o=2;o<c;o++)s[o-2]=l[o];return s.forEach((function(e){"function"===typeof e&&e(a)})),t.abrupt("return",a);case 11:throw t.prev=11,t.t0=t.catch(2),i=e.handleError(t.t0,r),console.log("find notifications error",i),i;case 16:case"end":return t.stop()}}),t,null,[[2,11]])}))),e.delete=Object(L.a)(Object(I.a)().mark((function t(){var n,r,a,c,s,o,i,l=arguments;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.length>0&&void 0!==l[0]?l[0]:"",r=l.length>1?l[1]:void 0,t.prev=2,t.next=5,M.remove(n);case 5:for(a=t.sent,c=a._id,s=l.length,o=new Array(s>2?s-2:0),i=2;i<s;i++)o[i-2]=l[i];return o.forEach((function(e){"function"===typeof e&&e(c)})),t.abrupt("return",new Promise((function(e){return e("done")})));case 12:throw t.prev=12,t.t0=t.catch(2),console.log("delete a board error",t.t0),e.handleError(t.t0,r);case 17:case"end":return t.stop()}}),t,null,[[2,12]])}))),e}return Object(re.a)(n)}(oe),de=new ue,be="local",je=document.querySelector(".root"),pe=[{name:"#003b5c",backgroundColor:"#003b5c"},{name:"#7e2861",backgroundColor:"#7e2861"},{name:"#27461c",backgroundColor:"#27461c"},{name:"#4e2118",backgroundColor:"#4e2118"}],fe=function(e){Object(ce.a)(n,e);var t=Object(se.a)(n);function n(){var e;Object(ae.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).login=function(){var t=Object(L.a)(Object(I.a)().mark((function t(n,a){var c,s,o,i,l,u,b,j,p=arguments;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([z.authenticate(Object(r.a)(Object(r.a)({},n),{},{strategy:be})),le.find(),de.find()]);case 3:for(c=t.sent,s=Object(ne.a)(c,3),o=s[0],i=s[1],l=s[2],u=p.length,b=new Array(u>2?u-2:0),j=2;j<u;j++)b[j-2]=p[j];return b.forEach((function(e){"function"===typeof e&&e(o,i.data)})),a({type:d,payload:o,boards:i.data,notes:l.data}),t.abrupt("return",o);case 14:throw t.prev=14,t.t0=t.catch(0),e.handleError(t.t0,a);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,n){return t.apply(this,arguments)}}(),e.logout=function(){var t=Object(L.a)(Object(I.a)().mark((function t(n){var r;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.logout();case 3:return r=t.sent,n({type:b}),t.abrupt("return",r);case 8:throw t.prev=8,t.t0=t.catch(0),e.handleError(t.t0,n);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),e.create=function(){var t=Object(L.a)(Object(I.a)().mark((function t(n){var a;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V.create(Object(r.a)(Object(r.a)({},n),{},{strategy:be}));case 3:return a=t.sent,t.abrupt("return",a);case 7:throw t.prev=7,t.t0=t.catch(0),e.handleError(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),e.loginFromCache=function(){var t=Object(L.a)(Object(I.a)().mark((function t(n){var r,a,c,s,o,i;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("string"===typeof(r=window.localStorage.getItem("feathers-jwt"))&&r.length>0)){t.next=16;break}return t.prev=2,t.next=5,Promise.all([z.reAuthenticate(),le.find(),de.find()]);case 5:a=t.sent,c=Object(ne.a)(a,3),s=c[0],o=c[1],i=c[2],n({type:d,payload:s,boards:o.data,notes:i.data}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),console.log(e.handleError(t.t0));case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}(),e.getBoardMembersInfo=Object(L.a)(Object(I.a)().mark((function t(){var n,r,a,c,s,o,i=arguments;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:[],t.prev=1,t.next=4,V.find({query:{_id:{$in:n}}});case 4:for(r=t.sent,a=r.data,c=i.length,s=new Array(c>1?c-1:0),o=1;o<c;o++)s[o-1]=i[o];return s.forEach((function(e){"function"===typeof e&&e(a)})),t.abrupt("return",a);case 11:throw t.prev=11,t.t0=t.catch(1),e.handleError(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,11]])}))),e.getUsersFromRegex=Object(L.a)(Object(I.a)().mark((function t(){var n,r,a,c,s,o,i=arguments;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:"",t.prev=1,t.next=4,V.find({query:{nameAlias:{$regex:n,$options:"gi"}}});case 4:for(r=t.sent,a=r.data,c=i.length,s=new Array(c>1?c-1:0),o=1;o<c;o++)s[o-1]=i[o];return s.forEach((function(e){"function"===typeof e&&e(a)})),t.abrupt("return",a);case 11:throw t.prev=11,t.t0=t.catch(1),e.handleError(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,11]])}))),e}return Object(re.a)(n)}(oe),me=new fe,Oe=n(276),he=n(274),ge=n(275),ve=(n(208),n(0)),xe=Object(Oe.a)({sources:[he.a,ge.a]});function _e(e){var t=e.imgLink,n=e.name,r=e.size,a=e.classList;return Object(ve.jsx)(ve.Fragment,{children:""===t?Object(ve.jsx)(xe,{alt:"avatar",round:!0,name:n,className:"avatar colored unselectable ".concat(a.join(" ")),size:r,maxInitials:2}):Object(ve.jsx)(xe,{alt:"avatar",round:!0,src:t,name:n,className:"avatar ".concat(a.join(" ")),size:r,maxInitials:2})})}_e.defaultProps={imgLink:"",name:"",size:40,classList:[]};var ye=Object(l.b)((function(e){return{displayName:e.auth.user.displayName,imgLink:e.auth.user.imageURL}}),null)((function(e){var t=e.imgLink,n=e.displayName,r=e.click;return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)("button",{className:"avatar_btn",name:"account",onClick:function(e){e.target.name="account",r(e)},children:Object(ve.jsx)(_e,{imgLink:t,name:n})})})})),we=n(40),ke=n(152),Ne=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=Object(o.useCallback)((function(t){var r;("click"===t.type&&(null===(r=e.current)||void 0===r||!r.contains(t.target))||"keydown"===t.type&&"Escape"===t.code)&&n.forEach((function(e){return e()}))}),[e,n]);Object(o.useEffect)((function(){return document.addEventListener("click",a,{capture:!0}),document.addEventListener("keydown",a),function(){document.removeEventListener("click",a,{capture:!0}),document.removeEventListener("keydown",a)}}),[])},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=je,n=Y(e);Object(o.useEffect)((function(){return n?(t.style.background="",t.style.backgroundRepeat="no-repeat",t.style.backgroundSize="cover",t.style.backgroundImage="url(".concat(e,")")):(t.style.backgroundImage="none",t.style.background=e),function(){t.style.background="",t.style.backgroundRepeat="no-repeat",t.style.backgroundSize="cover",t.style.backgroundImage=""}}),[e,n,t])},Ee=function(e){var t=Object(r.a)(Object(r.a)({},e),{},{isAddForm:!1}),n=Object(o.useState)(t),a=Object(ne.a)(n,2),c=a[0],s=a[1];return{isAddForm:c.isAddForm,formToggle:function(){s(Object(r.a)(Object(r.a)({},t),{},{isAddForm:!c.isAddForm}))},setFormState:s,changeHandler:function(e){var t=e.target.value;s(Object(r.a)(Object(r.a)({},c),{},{name:t}))},formState:c}},Ie=n.p+"static/media/plus.c40a22da.svg";n(253);function Le(e){var t,n=e.toggle,r=e.heading,a=e.popupBody;return Object(ve.jsxs)("section",{className:"board_popup card_design ".concat(null===(t=e.classList)||void 0===t?void 0:t.join(" ")),children:[Object(ve.jsxs)("header",{className:"popup__header",children:[Object(ve.jsx)("h4",{className:"popup__article unselectable",children:r}),Object(ve.jsx)("button",{className:"close__btn",onClick:n,children:Object(ve.jsx)("img",{src:Ie,alt:"close",className:"menu__ico board__ico",title:"Close the dropdown",draggable:!1})})]}),a&&Object(ve.jsx)("ul",{className:"popup__body body_shape",children:a})]})}Le.defaultProps={toggle:function(){return null},heading:"Heading",popupBody:null,classList:[]};n(145);var Ae=function(e){var t=e.initBoardCreationForm;return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("li",{className:"list__body_mt5",children:Object(ve.jsxs)("button",{className:"popup__body__el",onClick:t,children:[Object(ve.jsx)("span",{className:"el__span",children:"Create a board"}),Object(ve.jsx)("p",{className:"el__article",children:"A board is made up of cards ordered on lists. Use it to manage projects, track information, or organize anything."})]})}),Object(ve.jsx)("li",{className:"list__body_mt5",children:Object(ve.jsxs)("button",{className:"popup__body__el",children:[Object(ve.jsx)("span",{className:"el__span",children:"Start with template"}),Object(ve.jsxs)("p",{className:"el__article",children:["Get started faster with a board template."," ",Object(ve.jsx)("span",{style:{color:"var(--pink)"},children:"(not implemented)"})]})]})}),Object(ve.jsx)("li",{className:"list__body_mt5",children:Object(ve.jsxs)("button",{className:"popup__body__el",children:[Object(ve.jsx)("span",{className:"el__span",children:"Create a workspace"}),Object(ve.jsxs)("p",{className:"el__article",children:["A Workspace is a group of boards and people. Use it to organize your company, side hustle, family, or friends."," ",Object(ve.jsx)("span",{style:{color:"var(--pink)"},children:"(not implemented)"})]})]})})]})};function Se(e){var t=e.toggle,n=e.initBoardCreationForm,a=Object(o.useContext)(lt);Ne(a,t);var c={toggle:t,heading:"Create",classList:["add"],popupBody:Ae({initBoardCreationForm:n})};return Object(ve.jsx)(Le,Object(r.a)({},c))}var Fe,Te=[{url:n.p+"static/media/info_img1.7babde8d.jpg",title:"Falling down is an accident, staying down is a choice.",changeTipTitle:"Get a new tip"},{url:n.p+"static/media/info_img2.72a6f499.jpg",title:"Tough times don't last, tough people do.",changeTipTitle:"Get a new tip"},{url:n.p+"static/media/info_img3.7521a109.jpg",title:"Stay in touch.",changeTipTitle:"Get a new tip"},{url:n.p+"static/media/info_img4.50a2ad3c.jpg",title:"Strive for progress not perfection.",changeTipTitle:"Get a new tip"},{url:n.p+"static/media/info_img5.4a863af5.jpg",title:"Don't look back, you're not going that way.",changeTipTitle:"Get a new tip"}],Pe=function(e){var t=e.url,n=e.changeTip,r=e.title,a=e.changeTipTitle;return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("li",{className:"list__body_mt5",children:Object(ve.jsx)("div",{className:"popup__body__el",children:Object(ve.jsx)("img",{src:t,alt:"info",className:"info__image card_design",onClick:n})})}),Object(ve.jsx)("li",{className:"list__body_mt5",children:Object(ve.jsx)("span",{className:"el__span",children:r})}),Object(ve.jsx)("li",{className:"list__body_mt5",children:Object(ve.jsx)("button",{className:"popup__body__el ta_center",onClick:n,children:Object(ve.jsx)("span",{className:"el__span",children:a})})})]})};function De(e){var t=e.toggle,n=Object(o.useContext)(lt),a=Object(o.useState)(0),c=Object(ne.a)(a,2),s=c[0],i=c[1];Ne(n,t);var l={toggle:t,heading:"Information",popupBody:Pe(Object(r.a)(Object(r.a)({},Te[s]),{},{changeTip:function(){i((function(e){return e>=Te.length-1?0:++e}))}}))};return Object(ve.jsx)(Le,Object(r.a)({},l))}var Be=["title","titleId"];function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re.apply(this,arguments)}function He(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ue(e,t){var n=e.title,r=e.titleId,a=He(e,Be);return o.createElement("svg",Re({id:"emjy2Mkp6Pu1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 1280 960",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",ref:t,"aria-labelledby":r},a),n?o.createElement("title",{id:r},n):null,Fe||(Fe=o.createElement("path",{id:"pulse",d:"M138.774788,525.1L249.619634,525.1C280.87182,530.241949,285.441826,485.92911,305.024186,458C318.016939,432.869438,326.903049,480.286264,345.027472,511.5C367.939797,585.323914,377.942191,346.526452,406.932558,193.636824L442.11543,662.410427C450.96695,749.537551,463.164,597.194597,478.53844,502C482.701446,470.032335,490.271629,490.15355,507.040782,511.5C526.563185,540.794177,523.3733,437.840898,539.64346,383.5C557.984866,320.331274,563.137252,452.873029,590.847667,527.2C602.907028,568.704217,610.469762,517.233724,623.250329,502C631.541501,488.549917,634.93232,505.478295,645.552161,517.4C680.193567,539.085026,619.158175,528.527658,756.480965,531.937821",transform:"matrix(1.225226 0 0 1.098308 132.15959 -27.128883)",fill:"none",strokeLinecap:"round"})))}var ze=o.forwardRef(Ue);n.p,n(254);function Ve(e){var t=e.isShown,n=null===e||void 0===e?void 0:e.styles;return!0===t?Object(ve.jsx)("div",{className:"wrapper",style:Object(r.a)({},n),children:Object(ve.jsx)("div",{className:"spinner",children:Object(ve.jsx)(ze,{})})}):null}Ve.defaultProps={isShown:!1};n(255);var qe=Object(o.memo)((function(e){var t=e.closeFn;return Object(ve.jsx)("button",{className:"close__btn btn_static btn_ml10",onClick:t,children:Object(ve.jsx)("img",{src:Ie,alt:"close",className:"board__ico",title:"close",draggable:!1})})}));function Ge(e){var t,n,r=e.submit,a=e.btnText,c=e.loading;if("closeBtn"===e.type)return Object(ve.jsx)(qe,{closeFn:r});return Object(ve.jsx)("section",{className:"progress__btn__section ".concat(null===e||void 0===e||null===(t=e.classList)||void 0===t?void 0:t.join(" ")),children:Object(ve.jsx)("button",{className:"innerCreate__btn sec__btn card_design ".concat(null===e||void 0===e||null===(n=e.btnClassList)||void 0===n?void 0:n.join(" ")),onClick:r,disabled:c,children:c?Object(ve.jsx)(Ve,{isShown:c,styles:{margin:0,width:35,height:35}}):Object(ve.jsx)("span",{className:"btn__span",children:a})})})}Ge.defaultProps={submit:function(){return null},btnText:"Button",loading:!1,classList:[],btnClassList:[],type:"btn"};n(256);var $e=function(e){var t=e.type,n=e.submitProps,a=e.closeFn;switch(t){case"info":return Object(ve.jsx)(Ge,{submit:a,type:"closeBtn"});case"invite":return Object(ve.jsxs)("section",{className:"note__btns",children:[Object(ve.jsx)(Ge,Object(r.a)({},n)),Object(ve.jsx)(Ge,{submit:a,type:"closeBtn"})]});default:return null}};function Me(e){var t=e.type,n=e.text,a=e._id,c=e.inviteToBoardId,s=e.userId,o=e.toggle,i=function(){var e=Object(L.a)(Object(I.a)().mark((function e(){return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.delete(a,null);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("delete note error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(L.a)(Object(I.a)().mark((function e(){return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.patch({boardId:c,data:{type:"accept",accepterId:s}});case 3:o(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("accept invitation to board",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),u=Object(te.c)(i),d=Object(te.c)(l),b={type:t,submitProps:{btnText:"Agree",btnClassList:["btn_small"],submit:d.execute,loading:d.loading},closeFn:u.execute};return Object(ve.jsx)("li",{className:"list__body_mt5",children:Object(ve.jsxs)("div",{className:"note__list__el body_row jc_sb",children:[Object(ve.jsx)("span",{className:"el__span note__span ".concat(t),children:n}),Object(ve.jsx)($e,Object(r.a)({},b))]})})}$e.defaultProps={closeFn:function(){return null},submitProps:{submit:function(){return null},loading:!1,btnText:"Agree",btnClassList:["btn_small"]}},Me.defaultProps={type:"info",text:"Unhandled notification",_id:""};var Ye=function(e){var t=e.notes,n=e.userId,a=e.toggle;return t.length>0?o.Children.toArray(t.map((function(e){return Object(ve.jsx)(Me,Object(r.a)(Object(r.a)({},e),{},{userId:n,toggle:a}))}))):null};function Ze(e){var t=e.toggle,n=e.notes,a=e.userId,c=Object(o.useContext)(lt);Ne(c,t);var s={toggle:t,heading:"Notifications",classList:["note"],popupBody:Ye({notes:n,userId:a,toggle:t})};return Object(ve.jsx)(Le,Object(r.a)({},s))}var We=n(12),Je=Object(o.memo)((function(e){var t=e.imageURL,n=e.displayName,r=e.email,a=e.click,c=e.isDisabled,s=e.classList,o=e.innerBody;return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)("button",{className:"popup__body__el body_row userInfo ".concat(s.join(" ")),onClick:a,disabled:c,children:[o(),Object(ve.jsx)(_e,{imgLink:t,name:n}),Object(ve.jsxs)("div",{className:"account__el",children:[Object(ve.jsx)("span",{className:"el__span",children:n}),Object(ve.jsx)("span",{className:"span_email",children:r})]})]})})}));Je.defaultProps={imageURL:"",displayName:"",email:"",click:function(){},isDisabled:!1,classList:[],innerBody:function(){return null}};var Ke=["logoutHandler"],Xe=function(e){var t=e.logoutHandler,n=Object(a.a)(e,Ke);return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("li",{className:"list__body_mt5",children:Object(ve.jsx)(Je,Object(r.a)({},n))}),Object(ve.jsx)("li",{className:"list__body_mt5",children:Object(ve.jsx)("button",{className:"popup__body__el",onClick:t,children:Object(ve.jsx)("span",{className:"el__span",children:"Log out"})})})]})};var Qe=Object(l.b)((function(e){return{userInfo:e.auth.user}}),(function(e){return{dispatch:e}}))((function(e){var t=e.toggle,n=e.dispatch,a=e.userInfo,c=Object(o.useContext)(lt),s=Object(We.g)();Ne(c,t);var i=function(){var e=Object(L.a)(Object(I.a)().mark((function e(){return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.logout(n);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Logout error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),l={toggle:t,heading:"Account",classList:["account"],popupBody:Xe(Object(r.a)(Object(r.a)({},a),{},{click:function(){s.push("/"),t()},logoutHandler:i}))};return Object(ve.jsx)(Le,Object(r.a)({},l))})),et=(n(260),Object(o.memo)((function(e){var t=e.message,n=e.errorClass;return Object(ve.jsx)("div",{className:"container error ".concat(n),children:Object(ve.jsx)("h4",{children:t})})})));et.defaultProps={message:"Unhandled Error",errorClass:""};n(261);function tt(e){var t,n,a=e.children,c=e.form,s=e.loading,i=e.error,l=Object(o.useState)(null),u=Object(ne.a)(l,2),d=u[0],b=u[1],j=c.className&&""!==c.className?"form ".concat(s?"loading":"card_design"," ").concat(c.className):"form ".concat(s?"loading":"card_design"),p=""!==(null===e||void 0===e||null===(t=e.form)||void 0===t?void 0:t.bg)?{backgroundColor:null===e||void 0===e||null===(n=e.form)||void 0===n?void 0:n.bg}:""!==e.form.link?{backgroundImage:"url(".concat(e.form.link,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}:null;return Object(o.useEffect)((function(){if(i)return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];e.apply(void 0,r);var c=setTimeout((function(){e(null)}),t);return function(){clearTimeout(c),e(null)}}(b,3e3,i)}),[i]),Object(ve.jsxs)("form",Object(r.a)(Object(r.a)({className:j,style:p,onSubmit:function(e){e.preventDefault()}},null===e||void 0===e?void 0:e.containerAttrs),{},{children:[d?Object(ve.jsx)(et,Object(r.a)({},d)):null,s?Object(ve.jsx)(Ve,{isShown:s}):a]}))}tt.defaultProps={children:{},loading:!1,error:null};n(262);function nt(e){var t,n=e.renderBody;return Object(ve.jsx)("section",{className:"overlay ".concat(null===e||void 0===e||null===(t=e.classList)||void 0===t?void 0:t.join(" ")),children:n()})}nt.defaultProps={renderBody:function(){return null},classList:[]};var rt=n.p+"static/media/link.bf0e1ea5.svg",at=Object(o.memo)((function(e){var t=e.form,n=e.changeHandler,r=e.submit;return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("h3",{className:"form__heading",children:"Add board"}),Object(ve.jsx)("input",{type:"text",name:"title",className:"form__input",placeholder:"Enter board title",value:t.title,onChange:n,required:!0,autoFocus:!0}),Object(ve.jsxs)("ul",{className:"form__colorPicker",children:[o.Children.toArray(pe.map((function(e){var t=e.backgroundColor;return Object(ve.jsx)("li",{children:Object(ve.jsx)("button",{className:"colorPicker__el card_design",style:{backgroundColor:t},onClick:n,value:t,name:"bg"})})}))),Object(ve.jsx)("li",{children:Object(ve.jsx)("button",{className:"menu__btn card_design menu_linkBg",onClick:n,name:"link",children:Object(ve.jsx)("img",{src:rt,alt:"link bg",className:"menu__ico",name:"link",title:"Get link of the background from clipboard"})})}),Object(ve.jsx)("li",{children:Object(ve.jsx)("input",{className:"colorPicker__el card_design",name:"bg",type:"color",style:{backgroundColor:"#ffffffb0"},onChange:n})})]}),Object(ve.jsx)("button",{className:"form__btn",onClick:r,disabled:""===t.title||void 0===t.title,children:"Create Board"})]})}));var ct=Object(l.b)(null,(function(e){return{dispatch:e}}))((function(e){var t=e.overlayHandler,n=e.dispatch,a=Object(o.useRef)(null),c={ref:a};Ne(a,(function(){return t(!1)}));var s=Object(o.useState)({bg:"#091921",title:"",link:""}),i=Object(ne.a)(s,2),l=i[0],u=i[1],d=function(){var e=Object(L.a)(Object(I.a)().mark((function e(r){var a;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&"function"===typeof r.preventDefault&&r.preventDefault(),""===l.title){e.next=7;break}return l.bg=l.bg||l.link,e.next=5,le.create(l,n,(function(){return t(!1)}));case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=Object(te.c)(d),j=b.execute,p=b.loading,f=b.error,m=b.status,O=function(){var e=Object(L.a)(Object(I.a)().mark((function e(t){var n,a,c,s;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"function"===typeof t.preventDefault&&t.preventDefault(),n=t.target,a=n.name,c=n.value,"link"!==a){e.next=8;break}return e.next=5,W();case 5:return s=e.sent,u(Object(r.a)(Object(r.a)({},l),{},{bg:"",link:s})),e.abrupt("return");case 8:l[a]!==c&&u(Object(r.a)(Object(r.a)({},l),{},Object(E.a)({},a,c)));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h={form:l,changeHandler:O,submit:j};return Object(ve.jsx)(nt,{renderBody:function(){return Object(ve.jsx)(tt,{form:l,error:f,loading:p,containerAttrs:c,children:"success"===m?Object(ve.jsx)(We.a,{to:"/profile"}):Object(ve.jsx)(at,Object(r.a)({},h))})}})})),st=n.p+"static/media/info.851eea7f.svg",ot=n.p+"static/media/notification.b5905960.svg";n(263);var it=Object(l.b)((function(e){return{notifications:e.notes,userId:e.auth.user._id}}),null)((function(e){var t=e.notifications,n=e.userId,a={add:!1,info:!1,note:!1,account:!1},c=Object(o.useState)(a),s=Object(ne.a)(c,2),i=s[0],l=s[1],u=Object(o.useState)(!1),d=Object(ne.a)(u,2),b=d[0],j=d[1],p=function(e){var t=e.target.name;l(Object(r.a)(Object(r.a)({},a),{},Object(E.a)({},t,!i[t])))};return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("button",{className:"menu__btn",name:"add",onClick:p,title:"Create",children:Object(ve.jsx)("img",{src:Ie,alt:"add",className:"menu__ico",name:"add"})}),i.add&&Object(ve.jsx)(Se,{toggle:function(){return l(Object(r.a)(Object(r.a)({},a),{},{add:!i.add}))},initBoardCreationForm:function(){j(!0),l(a)}}),Object(ve.jsx)("button",{className:"menu__btn",name:"info",onClick:p,title:"Information",children:Object(ve.jsx)("img",{src:st,alt:"info",className:"menu__ico",name:"info"})}),i.info&&Object(ve.jsx)(De,{toggle:function(){return l(Object(r.a)(Object(r.a)({},a),{},{info:!i.info}))}}),Object(ve.jsxs)("button",{className:"menu__btn",name:"note",onClick:p,title:"Notifications",children:[t.length>0?Object(ve.jsx)("div",{className:"badges",children:t.length>=99?99:t.length}):null,Object(ve.jsx)("img",{src:ot,alt:"notification",className:"menu__ico",name:"note"})]}),i.note&&Object(ve.jsx)(Ze,{toggle:function(){return l(Object(r.a)(Object(r.a)({},a),{},{note:!i.note}))},notes:t,userId:n}),Object(ve.jsx)(ye,{click:p}),i.account&&Object(ve.jsx)(Qe,{toggle:function(){return l(Object(r.a)(Object(r.a)({},a),{},{account:!i.account}))}}),b&&Object(ve.jsx)(ct,{overlayHandler:j})]})})),lt=Object(o.createContext)(null);function ut(){var e=Object(o.useRef)(null);return Object(ve.jsx)(lt.Provider,{value:e,children:Object(ve.jsx)("nav",{className:"userSection",ref:e,children:Object(ve.jsx)(it,{})})})}n(264);var dt=Object(o.memo)((function(e){var t=e.isLogged,n=Object(o.useRef)(null),r=Object(o.useRef)(null);return Object(ve.jsxs)("header",{className:"header unselectable",children:[Object(ve.jsx)(u.b,{to:"/",className:"header__link",activeClassName:"",children:Object(ve.jsx)("h1",{className:"header__article",children:"TrelloF"})}),!1===t?Object(ve.jsxs)("div",{className:"header__log",children:[Object(ve.jsx)(u.b,{to:"/login",className:"log__link",ref:n}),Object(ve.jsx)("button",{className:"log__btn",onClick:function(){return n.current.click()},children:"Log in"}),Object(ve.jsx)(u.b,{to:"/signup",className:"log__link",ref:r}),Object(ve.jsx)("button",{className:"log__btn log__btn_sign",onClick:function(){return r.current.click()},children:"Sign up"})]}):Object(ve.jsx)(ut,{})]})}));var bt=Object(l.b)((function(e){return{isLogged:e.auth.isLogged}}),null)((function(e){var t=e.isLogged;return Object(ve.jsx)(dt,{isLogged:t})})),jt=function(e){Object(ce.a)(n,e);var t=Object(se.a)(n);function n(){var e;Object(ae.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).create=function(){var t=Object(L.a)(Object(I.a)().mark((function t(n,r){var a,c,s,o,i=arguments;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.create(n);case 3:for(a=t.sent,c=i.length,s=new Array(c>2?c-2:0),o=2;o<c;o++)s[o-2]=i[o];return s.forEach((function(e){"function"===typeof e&&e(a)})),t.abrupt("return",a);case 9:throw t.prev=9,t.t0=t.catch(0),console.log("create a list error",t.t0),e.handleError(t.t0,r);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}(),e.find=function(){var t=Object(L.a)(Object(I.a)().mark((function t(n,r){var a,c,s,o,i,l=arguments;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.find({query:{props:n}});case 3:for(a=t.sent,c=a.data,s=l.length,o=new Array(s>2?s-2:0),i=2;i<s;i++)o[i-2]=l[i];return o.forEach((function(e){"function"===typeof e&&e(c)})),t.abrupt("return",c);case 10:throw t.prev=10,t.t0=t.catch(0),console.log("find a list error",t.t0),e.handleError(t.t0,r);case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}(),e.delete=function(){var t=Object(L.a)(Object(I.a)().mark((function t(n,r){var a,c,s,o=arguments;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.remove({_id:n});case 3:for(a=o.length,c=new Array(a>2?a-2:0),s=2;s<a;s++)c[s-2]=o[s];return c.forEach((function(e){"function"===typeof e&&e(n)})),t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),console.log("delete list error",t.t0),e.handleError(t.t0,r);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(re.a)(n)}(oe),pt=new jt,ft=function(e){Object(ce.a)(n,e);var t=Object(se.a)(n);function n(){var e;Object(ae.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).create=function(){var t=Object(L.a)(Object(I.a)().mark((function t(n,r){var a,c,s,o,i=arguments;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$.create(n);case 3:for(a=t.sent,c=i.length,s=new Array(c>2?c-2:0),o=2;o<c;o++)s[o-2]=i[o];return s.forEach((function(e){"function"===typeof e&&e(a)})),t.abrupt("return",a);case 9:throw t.prev=9,t.t0=t.catch(0),console.log("create a card error",t.t0),e.handleError(t.t0,r);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}(),e.find=function(){var t=Object(L.a)(Object(I.a)().mark((function t(n,r){var a,c,s,o,i,l=arguments;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$.find({query:{props:n}});case 3:for(a=t.sent,c=a.data,s=l.length,o=new Array(s>2?s-2:0),i=2;i<s;i++)o[i-2]=l[i];return o.forEach((function(e){"function"===typeof e&&e(c)})),t.abrupt("return",c);case 10:throw t.prev=10,t.t0=t.catch(0),console.log("find a card error",t.t0),e.handleError(t.t0,r);case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}(),e.delete=function(){var t=Object(L.a)(Object(I.a)().mark((function t(n,r){return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$.remove({_id:n});case 3:return t.abrupt("return",n);case 6:throw t.prev=6,t.t0=t.catch(0),console.log("delete card error",t.t0),e.handleError(t.t0,r);case 11:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}(),e.patch=function(){var t=Object(L.a)(Object(I.a)().mark((function t(n,r,a){var c;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$.patch(r,n);case 3:return c=t.sent,t.abrupt("return",c);case 7:throw t.prev=7,t.t0=t.catch(0),console.log("patch card error",t.t0),e.handleError(t.t0,a);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n,r){return t.apply(this,arguments)}}(),e}return Object(re.a)(n)}(oe),mt=new ft;function Ot(e){var t=e.textAreaHeight,n=e.name,r=e.toggleOverlay,a=e.removeCard,c=e.patchCard,s=Object(o.useState)({name:n,textAreaHeight:t}),i=Object(ne.a)(s,2),l=i[0],u=i[1],d=Object(o.useRef)(null);Ne(d,r);var b=Object(te.c)(Object(L.a)(Object(I.a)().mark((function e(){var t;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===(t=l.name)||" "===t){e.next=4;break}return e.next=4,c(t);case 4:case"end":return e.stop()}}),e)}))));return Object(ve.jsxs)("section",{className:"edit__card",ref:d,children:[Object(ve.jsxs)("div",{className:"edit__container",children:[Object(ve.jsx)("textarea",{onChange:function(e){var t=e.target.value,n=t.length>60?Math.round(1.19*t.length):75;u({textAreaHeight:n,name:t})},onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},className:"card__text card_textarea",defaultValue:l.name,autoFocus:!0,onFocus:function(e){return e.target.select()},style:{height:"".concat(l.textAreaHeight,"px")}}),Object(ve.jsx)("section",{className:"edit__controls",children:Object(ve.jsx)(Ge,{submit:a,btnText:"Remove",loading:!1,btnClassList:["control__btn"]})})]}),Object(ve.jsx)(Ge,{submit:b.execute,btnText:"Save",loading:b.loading,classList:["edit__submit__section"]})]})}var ht=n.p+"static/media/edit.0df1dbd3.svg";n(265);function gt(e){var t,n=e.removeCard,a=e.card,c=a.name,s=a._id,i=Object(o.useState)(!1),l=Object(ne.a)(i,2),u=l[0],d=l[1],b=Object(o.useRef)(null),j=Object(o.useCallback)(function(){var t=Object(L.a)(Object(I.a)().mark((function t(n){var a;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,mt.patch(Object(r.a)(Object(r.a)({},e.card),{},{name:n}),s);case 3:return a=t.sent,d(!1),t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(0),console.log("card edit error",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),[e.card,s]),p=function(){d((function(e){return!e}))},f={textAreaHeight:(null===b||void 0===b||null===(t=b.current)||void 0===t?void 0:t.scrollHeight)+20,name:c,toggleOverlay:p,removeCard:n,patchCard:j};return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)("div",{className:"card",children:u?Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)(Ot,Object(r.a)({},f))}):Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("span",{className:"card__text unselectable",ref:b,children:c}),Object(ve.jsx)("button",{className:"menu__btn edit__btn",title:"Edit the card",onClick:p,children:Object(ve.jsx)("img",{src:ht,alt:"edit",className:"menu__ico edit__ico"})})]})})})}var vt=Object(o.memo)((function(e){var t=e.inputPlaceholder,n=e.changeHandler,r=e.submit,a=e.closeFn,c=e.btnText,s=e.loading,o=e.btnClassList,i=e.classList;return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("input",{type:"text",name:"list_name",className:"form__input add__list__input",placeholder:t,onChange:n,autoFocus:!0}),Object(ve.jsxs)("div",{className:"add__list__btns",children:[Object(ve.jsx)(Ge,{submit:r,btnText:c,loading:s,btnClassList:o,classList:i}),Object(ve.jsx)(Ge,{type:"closeBtn",submit:a})]})]})}));function xt(e){var t=e._id,n=e.boardId,a=Ee({className:"p_5",name:"",listId:t,boardId:n}),c=a.isAddForm,s=a.formToggle,o=a.changeHandler,i=a.formState,u=Object(l.c)(),d=function(){var e=Object(L.a)(Object(I.a)().mark((function e(t){return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"function"===typeof t.preventDefault&&t.preventDefault(),""!==i.name&&" "!==i.name){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,mt.create(i,u);case 6:s(),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(3),console.log("create card error",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),b=Object(we.a)(d,1e3),j=Object(te.c)(b),p=j.execute,f=j.loading,m={inputPlaceholder:"Enter a title for the card",changeHandler:o,submit:p,closeFn:s,btnText:"Add card",loading:f};return Object(ve.jsx)("div",{className:"list__body",children:c?Object(ve.jsx)(tt,{form:i,children:Object(ve.jsx)(vt,Object(r.a)({},m))}):Object(ve.jsxs)("button",{className:"add__toggler card_design",onClick:s,children:[Object(ve.jsx)("img",{src:Ie,alt:"add",className:"menu__ico",title:"add the card"}),"Add another card"]})})}var _t=n.p+"static/media/more.5666b46a.svg",yt=function(e){var t=e.deleteList;return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)("li",{className:"list__body_mt5",children:Object(ve.jsxs)("button",{className:"popup__body__el",onClick:t,children:[Object(ve.jsx)("span",{className:"el__span",children:"Delete the list"}),Object(ve.jsx)("p",{className:"el__article",children:"Deleting this list"})]})})})};function wt(e){var t=e.deleteFn,n=Object(o.useState)(!1),a=Object(ne.a)(n,2),c=a[0],s=a[1],i=Object(o.useRef)(null),l=function(){s((function(e){return!e}))};Ne(i,(function(){return s(!1)}));var u={toggle:l,heading:"List actions",popupBody:yt({deleteList:t((function(){return s(!1)}))}),classList:["list_drop"]};return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)("section",{className:"list__btnSection",ref:i,children:[Object(ve.jsx)("button",{className:"menu__btn more__btn",onClick:l,children:Object(ve.jsx)("img",{src:_t,alt:"more",className:"menu__ico",title:"List actions"})}),c&&Object(ve.jsx)(Le,Object(r.a)({},u))]})})}n(266);var kt=function(e){var t=e.cards,n=e.deleteCard;return t.map((function(e){return Object(ve.jsx)(gt,{card:e,removeCard:n(e._id)},e._id)}))};var Nt=Object(l.b)((function(e,t){var n=t.list._id;return{cards:e.cards[n]||[]}}),(function(e){return{dispatch:e}}))((function(e){var t=e.dispatch,n=e.list,r=n.name,a=n._id,c=n.boardId,s=e.cards,o=function(){var e=Object(L.a)(Object(I.a)().mark((function e(){return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pt.delete(a,t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("delete list error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),i=Object(te.c)(o);return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("section",{className:"card_design list",children:i.loading?Object(ve.jsx)("div",{className:"centeredContainer",children:Object(ve.jsx)(Ve,{isShown:i.loading})}):Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("header",{className:"popup__header list__header",children:Object(ve.jsx)("h3",{className:"list__heading unselectable",children:r})}),Object(ve.jsx)("section",{className:"list__body",children:Object(ve.jsx)(kt,{cards:s,deleteCard:function(e){return Object(L.a)(Object(I.a)().mark((function n(){return Object(I.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,mt.delete(e,t);case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log("card delete error /list component/",n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))}})}),Object(ve.jsx)("section",{className:"list__body",children:Object(ve.jsx)(xt,{_id:a,boardId:c})})]})}),Object(ve.jsx)(wt,{deleteFn:function(e){return Object(L.a)(Object(I.a)().mark((function t(){return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(),t.next=3,i.execute();case 3:case"end":return t.stop()}}),t)})))}})]})})),Ct=function(e){return e.lists.map((function(e){return Object(ve.jsx)(Nt,{list:e},e._id)}))};var Et=Object(l.b)((function(e,t){var n=t._boardId;return{isLogged:e.auth.isLogged,localBoard:e.boards.find((function(e){return e._id===n})),lists:e.lists}}),(function(e){return{dispatch:e}}))((function(e){var t=e.localBoard,n=e.dispatch,r=e.isLogged,a=e.lists,c=e._boardId,s=Object(te.a)(function(){var e=Object(L.a)(Object(I.a)().mark((function e(t){var r,a,c,s;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([pt.find(t,n),mt.find(t,n)]);case 3:return r=e.sent,a=Object(ne.a)(r,2),c=a[0],s=a[1],n({type:O,lists:c,cards:s}),e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[c,n]),o=s.loading;return Ce(null===t||void 0===t?void 0:t.bg),void 0!==t&&r?Object(ve.jsx)(ve.Fragment,{children:o?Object(ve.jsx)(Ve,{isShown:o}):Object(ve.jsx)(Ct,{lists:a.filter((function(e){return e.boardId===c}))})}):Object(ve.jsx)(We.a,{to:"/"})})),It=Object(o.memo)((function(e){var t=e.inputPlaceholder,n=e.changeHandler,r=e.submit,a=e.closeFn,c=e.btnText,s=e.loading,o=e.btnClassList,i=e.classList;return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("input",{type:"text",name:"list_name",className:"form__input add__list__input",placeholder:t,onChange:n,autoFocus:!0}),Object(ve.jsxs)("div",{className:"add__list__btns",children:[Object(ve.jsx)(Ge,{submit:r,btnText:c,loading:s,btnClassList:o,classList:i}),Object(ve.jsx)(Ge,{type:"closeBtn",submit:a})]})]})}));function Lt(e){var t=e._boardId,n=Ee({className:"add__list__form",name:"",boardId:t}),a=n.isAddForm,c=n.formToggle,s=n.changeHandler,o=n.formState,i=Object(l.c)(),u=function(){var e=Object(L.a)(Object(I.a)().mark((function e(t){return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"function"===typeof t.preventDefault&&t.preventDefault(),""!==o.name&&" "!==o.name){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,pt.create(o,i);case 6:c(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log("create lists error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),d=Object(we.a)(u,1e3),b=Object(te.c)(d),j=b.execute,p=b.loading,f={inputPlaceholder:"Enter list title",changeHandler:s,submit:j,closeFn:c,btnText:"Add list",loading:p};return Object(ve.jsx)("div",{className:a?"add__form":"add__form_wd",children:a?Object(ve.jsx)(tt,{form:o,children:Object(ve.jsx)(It,Object(r.a)({},f))}):Object(ve.jsxs)("button",{className:"add__toggler card_design",onClick:c,children:[Object(ve.jsx)("img",{src:Ie,alt:"add",className:"menu__ico",title:"add the list"}),"Add another list"]})})}function At(e){var t=e.users,n=e.boardId,a=e.ownerId,c=e.setChecks,s=e.checks;return Object(o.useEffect)((function(){c({})}),[t]),Object(ve.jsx)("ul",{className:"innerList",children:o.Children.toArray(t.map((function(e){var t=e._id,o=a===t||e.subs.includes(n),i=function(){c((function(e){return e.hasOwnProperty(t)?Object(r.a)(Object(r.a)({},e),{},Object(E.a)({},t,!e[t])):Object(r.a)(Object(r.a)({},e),{},Object(E.a)({},t,!0))}))},l=s[t]||!1,u=o?function(){return null}:function(){return function(e){var t=e.inputChange,n=e.value;return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)("input",{type:"checkbox",name:"invited",onChange:t,onClick:t,className:"userInfo__check",checked:n})})}({inputChange:i,value:l})};return Object(ve.jsx)("li",{className:"list__body_li",children:Object(ve.jsx)(Je,Object(r.a)(Object(r.a)({},e),{},{isDisabled:o,click:i,innerBody:u}))})})))})}var St=function(e){var t=e.toggle,n=e.changeHandler,a=e.requestUsersState,c=e.loading,s=e.ownerId,i=e.boardId,l=e.requestUsersState,u=l.users,d=l.value,b=Object(o.useState)({}),j=Object(ne.a)(b,2),p=j[0],f=j[1],m={submit:function(){var e=Object(L.a)(Object(I.a)().mark((function e(){var n,r;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Object.entries(p).reduce((function(e,t){var n=Object(ne.a)(t,2),r=n[0];return n[1]&&e.push(r),e}),[])).length){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,r={members:n,type:"subscribe"},e.next=7,le.patch({boardId:i,data:r});case 7:t(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("invite drop component error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),btnText:"SEND INVITATION",loading:c,btnClassList:["w_100pr"],classList:["w_100pr"]};return Object(ve.jsxs)(ve.Fragment,{children:[u.length>0&&Object(ve.jsx)(At,{users:u,boardId:i,ownerId:s,setChecks:f,checks:p}),Object(ve.jsx)("li",{className:"list__body_li",children:Object(ve.jsx)(tt,{form:a,children:Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("input",{type:"text",name:"invite",className:"form__input add__list__input",placeholder:"Email or name",onChange:n,value:d,autoFocus:!0}),Object(ve.jsx)(Ge,Object(r.a)({},m))]})})})]})};function Ft(e){var t=e.toggle,n=e.boardId,a=e.ownerId,c=Object(o.useState)([]),s=Object(ne.a)(c,2),i=s[0],l=s[1],u=function(e){var t=Object(o.useState)(""),n=Object(ne.a)(t,2),r=n[0],a=n[1],c=Object(ke.a)((function(){return Object(we.a)(e,2e3)})),s=Object(te.b)(function(){var e=Object(L.a)(Object(I.a)().mark((function e(t,n){var r;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=4;break}r=[],e.next=7;break;case 4:return e.next=6,c(n);case 6:r=e.sent;case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[r]);return{inputText:r,setInputText:a,search:s}}(function(){var e=Object(L.a)(Object(I.a)().mark((function e(t){return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",me.getUsersFromRegex(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=u.setInputText,b=u.inputText,j=u.search,p=j.loading,f=j.result,m=function(){var e=Object(L.a)(Object(I.a)().mark((function e(t){var n;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,d(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){Array.isArray(f)&&l(f)}),[f]);var O={toggle:t,heading:"Invite to board",classList:["add"],popupBody:St({ownerId:a,changeHandler:m,requestUsersState:{value:b,className:"invite__form",users:i},boardId:n,loading:p,toggle:t})};return Object(ve.jsx)(Le,Object(r.a)({},O))}function Tt(e){var t=e.boardId,n=e.ownerId,r=Object(o.useState)(!1),a=Object(ne.a)(r,2),c=a[0],s=a[1],i=Object(o.useRef)(null),l=function(){s((function(e){return!e}))};return Ne(i,(function(){return s(!1)})),Object(ve.jsxs)("section",{className:"invite__section",ref:i,children:[c&&Object(ve.jsx)(Ft,{toggle:l,boardId:t,ownerId:n}),Object(ve.jsx)("button",{className:"add__toggler card_design invite__btn ".concat(c?"active":""),onClick:l,children:"Invite"})]})}var Pt=n.p+"static/media/owner.7c592e8e.svg",Dt=function(e){var t=e.subs,n=e.ownerId;return Object(ve.jsx)("section",{className:"subsSection",children:t.map((function(e){var t=e._id,r=e.imageURL,a=e.displayName;return t===n?Object(ve.jsxs)("section",{className:"avatar__container",children:[Object(ve.jsx)(_e,{imgLink:r,name:"".concat(a," owner"),size:25}),Object(ve.jsx)("img",{src:Pt,className:"avatar__ico",alt:"owner"})]},t):Object(ve.jsx)(_e,{imgLink:r,name:a,size:25},t)}))})};var Bt=Object(l.b)((function(e,t){var n=t._boardId;return{localBoard:e.boards.find((function(e){return e._id===n}))||{},currentUser:e.auth.user._id}}),null)((function(e){var t=e.currentUser,n=e.localBoard,r=e.localBoard,a=r.title,c=r.memberIds,s=r.ownerId,i=r._id,l=Object(o.useState)([]),u=Object(ne.a)(l,2),d=u[0],b=u[1];return Object(o.useEffect)((function(){return c&&s&&me.getBoardMembersInfo([s].concat(Object(N.a)(c)),(function(e){b((function(t){return[].concat(Object(N.a)(e),Object(N.a)(t))}))})),function(){return b([])}}),[c]),n?Object(ve.jsx)("section",{className:"boards__header",children:Object(ve.jsxs)("div",{className:"header__wrapper card_design",children:[Object(ve.jsx)("h4",{className:"unselectable",title:"Board name",children:a}),Object(ve.jsx)("span",{className:"span_divider"}),Object(ve.jsx)(Dt,{subs:d,ownerId:s}),Object(ve.jsx)("span",{className:"span_divider"}),t===s?Object(ve.jsx)(Tt,{ownerId:s,boardId:i}):null]})}):null}));n(267);var Rt={username:/^[a-zA-Z0-9]{4,16}$/,password:/^(?=.*[0-9])(?=.*[a-zA-Z])(?=\S+$).{4,16}$/,displayName:/^[A-Z]{1}\w{2,10}\s{1}[A-Z]{1}\w{2,11}$/,email:/^[a-zA-Z\d]{1,15}@[a-z]{1,9}\.{1}([a-z]{2,4}){1}$/},Ht={username:"Username must be from 4 to 16 numbers of latin characters",password:"Your password must be 4-16 characters, and include at least one number.",displayName:"Enter your name and surname divided by space. First letters are capital :)",confirmPassword:"Passwords should match",email:"Enter your email"},Ut=function(e,t){var n={message:"",isValidated:!0,name:""};return t in Rt&&!Rt[t].test(e)&&(n.message=Ht[t],n.name=t,n.isValidated=!1),n},zt=function(e,t){var n=e.password,r=e.username,a=e.displayName,c=e.email,s=[],o={data:null,isValidated:!1};if("signup"===t){var i={password:n,username:r,displayName:a,email:c};for(var l in i)s.push(Ut(i[l],l));return o.data=e,o.isValidated=s.every((function(e){return!0===e.isValidated})),o}if("login"===t){var u={password:n,username:r};for(var d in u)s.push(Ut(u[d],d));return o.data=e,o.isValidated=s.every((function(e){return!0===e.isValidated})),o}return o},Vt=(n(268),Object(o.memo)((function(e){var t=e.warn,n=e.form,r=e.changeHandler,a=e.submit;return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("h3",{className:"form__heading",children:"Login"}),Object(ve.jsx)("input",{type:"text",name:"username",className:"form__input",placeholder:"Enter username",value:n.username,onChange:r,required:!0,autoFocus:!0}),t.username?Object(ve.jsx)("span",{className:"form__warning",children:t.username}):null,Object(ve.jsx)("input",{type:"password",name:"password",className:"form__input","data-validatefor":"confirmPassword",placeholder:"Enter password",value:n.password,onChange:r,required:!0}),t.password?Object(ve.jsx)("span",{className:"form__warning",children:t.password}):null,Object(ve.jsx)("button",{className:"form__btn",onClick:a,children:"Log in"}),Object(ve.jsx)(u.b,{to:"/signup",className:"form__link",children:"Sign up for an account"})]})})));var qt=Object(l.b)((function(e){return{isLogged:e.auth.isLogged}}),(function(e){return{dispatch:e}}))((function(e){var t=e.dispatch,n=e.isLogged,a={username:"",password:"",confirmPassword:"",displayName:"",email:"",className:""},c=Object(o.useState)(a),s=Object(ne.a)(c,2),i=s[0],l=s[1],u=Object(o.useState)(a),d=Object(ne.a)(u,2),b=d[0],j=d[1],p=function(){var e=Object(L.a)(Object(I.a)().mark((function e(n){return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.login(n,t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),f=Object(te.c)(p),m=f.execute,O=f.loading,h=f.error;if(!0===n)return Object(ve.jsx)(We.a,{to:"/profile"});var g={warn:b,form:i,changeHandler:function(e){var t=e.target,n=t.name,a=t.value,c=Ut(a,n),s=c.message,o=c.isValidated;j(o?Object(r.a)(Object(r.a)({},b),{},Object(E.a)({},n,"")):Object(r.a)(Object(r.a)({},b),{},Object(E.a)({},n,s))),l(Object(r.a)(Object(r.a)({},i),{},Object(E.a)({},n,a)))},submit:function(e){e&&"function"===typeof e.preventDefault&&e.preventDefault();var t=zt(i,"login"),n=t.data;t.isValidated&&Object.values(b).every((function(e){return""===e}))&&(m(n),l(Object(r.a)(Object(r.a)({},a),{},{username:i.username})))}};return Object(ve.jsx)("div",{className:"form__container",children:Object(ve.jsx)(tt,{form:i,error:h,loading:O,children:Object(ve.jsx)(Vt,Object(r.a)({},g))})})})),Gt=(n(269),Object(o.memo)((function(e){var t=e.confirmBlur,n=e.warn,r=e.form,a=e.changeHandler,c=e.submit;return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("h3",{className:"form__heading",children:"Sign up for your account"}),Object(ve.jsx)("input",{type:"text",name:"username",className:"form__input",placeholder:"Enter username",value:r.username,onChange:a,required:!0,autoFocus:!0}),n.username?Object(ve.jsx)("span",{className:"form__warning",children:n.username}):null,Object(ve.jsx)("input",{type:"password",name:"password",className:"form__input","data-validatefor":"confirmPassword",placeholder:"Enter password",value:r.password,onChange:a,required:!0}),n.password?Object(ve.jsx)("span",{className:"form__warning",children:n.password}):null,Object(ve.jsx)("input",{type:"password",name:"confirmPassword","data-validatefor":"password",className:"form__input",placeholder:"Confirm password",value:r.confirmPassword,onChange:a,onBlur:t,required:!0}),n.confirmPassword?Object(ve.jsx)("span",{className:"form__warning",children:n.confirmPassword}):null,Object(ve.jsx)("input",{type:"text",name:"displayName",className:"form__input",placeholder:"Enter Your full name",value:r.displayName,onChange:a,required:!0}),n.displayName?Object(ve.jsx)("span",{className:"form__warning",children:n.displayName}):null,Object(ve.jsx)("input",{type:"email",name:"email",className:"form__input",placeholder:"Enter Your Email",value:r.email,onChange:a,required:!0}),n.email?Object(ve.jsx)("span",{className:"form__warning",children:n.email}):null,Object(ve.jsx)("button",{className:"form__btn",onClick:c,children:"Sign up"})]})})));var $t=Object(l.b)((function(e){return{isLogged:e.auth.isLogged}}),(function(e){return{dispatch:e}}))((function(e){var t=e.isLogged,n=e.dispatch,a=function(){var e=Object(L.a)(Object(I.a)().mark((function e(t){return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.create(t,n);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),c=Object(te.c)(a),s=c.execute,i=c.loading,l=c.error,u=c.status,d={username:"",password:"",confirmPassword:"",displayName:"",email:"",className:""},b=Object(o.useState)(d),j=Object(ne.a)(b,2),p=j[0],f=j[1],m=Object(o.useState)(d),O=Object(ne.a)(m,2),h=O[0],g=O[1];if(!0===t||"success"===u)return Object(ve.jsx)(We.a,{to:"/profile"});var v={confirmBlur:function(e){var t=e.target,n=t.name,a=t.value,c=t.dataset.validatefor,s=function(e,t){var n={message:"",isValidated:!0};return e!==t&&(n.message=Ht.confirmPassword,n.isValidated=!1),n}(a,p[c]),o=s.message,i=s.isValidated;g(i?Object(r.a)(Object(r.a)({},h),{},Object(E.a)({},n,"")):Object(r.a)(Object(r.a)({},h),{},Object(E.a)({},n,o)))},warn:h,form:p,changeHandler:function(e){var t=e.target,n=t.name,a=t.value,c=Ut(a,n),s=c.message,o=c.isValidated;g(o?Object(r.a)(Object(r.a)({},h),{},Object(E.a)({},n,"")):Object(r.a)(Object(r.a)({},h),{},Object(E.a)({},n,s))),f(Object(r.a)(Object(r.a)({},p),{},Object(E.a)({},n,a)))},submit:function(e){e&&"function"===typeof e.preventDefault&&e.preventDefault();var t=zt(p,"signup"),n=t.data;t.isValidated&&Object.values(h).every((function(e){return""===e}))&&(null===s||void 0===s||s(n),f(d))}};return Object(ve.jsx)("div",{className:"form__container",children:Object(ve.jsx)(tt,{form:p,error:l,loading:i,children:Object(ve.jsx)(Gt,Object(r.a)({},v))})})}));function Mt(e){var t=e._id,n=e.bg,r=e.deleteIco,a=e.title,c=e.bgChecker,s=e.dispatch,i=Object(o.useRef)(null),l=function(){var e=Object(L.a)(Object(I.a)().mark((function e(t){var n;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.target.name,e.next=4,le.delete(n,s);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("delete board err ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),d=Object(te.c)(l),b=d.execute,j=d.loading;return j?Object(ve.jsx)("div",{className:"board__card centeredContainer",children:Object(ve.jsx)(Ve,{isShown:j})}):Object(ve.jsxs)("div",{className:"board__card card_design",name:t,style:c?{backgroundImage:"url(".concat(n,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"}:{background:n},title:a,children:[Object(ve.jsx)(u.b,{to:"/board/".concat(t),ref:i,hidden:!0}),Object(ve.jsx)("button",{className:"close__btn",onClick:b,name:t,children:Object(ve.jsx)("img",{src:r,name:t,alt:"delete",className:"menu__ico board__ico",title:"Delete the board",draggable:!1})}),Object(ve.jsx)("button",{className:"form__btn card__btn",title:"Go to the board",onClick:function(e){i.current.click()},children:a})]})}n(270);var Yt=Object(l.b)((function(e){return{isLogged:e.auth.isLogged,boards:e.boards}}),(function(e){return{dispatch:e}}))((function(e){var t=e.isLogged,n=e.boards,a=e.dispatch;return Ce(),!1===t?Object(ve.jsx)(We.a,{to:"login"}):Object(ve.jsx)("div",{className:"profile container",children:o.Children.toArray(n.map((function(e){var t=Y(e.bg),n=Object(r.a)(Object(r.a)({},e),{},{deleteIco:Ie,bgChecker:t,dispatch:a});return Object(ve.jsx)(Mt,Object(r.a)({},n))})))})})),Zt=[{path:"/login",component:qt},{path:"/signup",component:$t}],Wt=[{path:"/",component:Yt},{path:"/board/:id",component:function(e){var t=e.match.params.id;return Object(ve.jsxs)("section",{className:"boards",children:[Object(ve.jsx)(Bt,{_boardId:t}),Object(ve.jsxs)("div",{className:"container",children:[Object(ve.jsx)(Et,{_boardId:t}),Object(ve.jsx)(Lt,{_boardId:t})]})]})}},{path:"/profile",component:Yt}];var Jt=Object(l.b)((function(e){return{isLogged:e.auth.isLogged}}),null)((function(e){var t=e.isLogged;return Object(ve.jsxs)(We.d,{children:[!0===t?o.Children.toArray(Wt.map((function(e){var t=e.path,n=e.component;return Object(ve.jsx)(We.b,{exact:!0,path:t,component:n})}))):null,o.Children.toArray(Zt.map((function(e){var t=e.path,n=e.component;return Object(ve.jsx)(We.b,{exact:!0,path:t,component:n})}))),Object(ve.jsx)(We.a,{to:"/login"})]})}));n(271);var Kt,Xt=Object(l.b)(null,(function(e){return{dispatch:e}}))((function(e){var t=e.dispatch,n=Object(te.a)(me.loginFromCache,[t]).loading;return Object(ve.jsx)(ve.Fragment,{children:n?Object(ve.jsx)("div",{className:"centeredContainer mt_10",children:Object(ve.jsx)(Ve,{isShown:n})}):Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(bt,{}),Object(ve.jsx)("main",{children:Object(ve.jsx)(Jt,{})})]})})})),Qt=["children"],en=[l.a,u.a].reduce((function(e,t){return function(n){var c=n.children,s=Object(a.a)(n,Qt);return Object(ve.jsx)(e,Object(r.a)(Object(r.a)({},s),{},{children:Object(ve.jsx)(t,{children:c})}))}})),tn=Object(i.b)(ee);Kt=tn.dispatch,M.on("created",(function(e){Kt({type:w,payload:e})})),M.on("removed",(function(e){Kt({type:y,payload:e})})),q.on("patched",(function(e){Kt({type:f,payload:e})})),q.on("created",(function(e){Kt({type:j,payload:e})})),q.on("removed",(function(e){var t=e._id;Kt({type:p,payload:t})})),G.on("created",(function(e){Kt({type:h,payload:e})})),G.on("removed",(function(e){Kt({type:g,payload:e})})),$.on("removed",(function(e){var t=e._id,n=e.listId;Kt({type:x,payload:{_id:t,listId:n}})})),$.on("created",(function(e){Kt({type:v,payload:e})})),$.on("patched",(function(e){Kt({type:_,payload:e})})),window.addEventListener("load",(function(){s.a.render(Object(ve.jsx)(o.StrictMode,{children:Object(ve.jsx)(en,{store:tn,children:Object(ve.jsx)(Xt,{})})}),document.getElementById("root"))})),window.onerror=function(e){console.log("window error",e.message)}}},[[272,1,2]]]);