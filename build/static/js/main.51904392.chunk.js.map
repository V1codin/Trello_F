{"version":3,"sources":["utils/actions.types.js","utils/auth.reducer.js","utils/boards.reducer.js","api/feathers.api.js","utils/helpers.js","utils/cards.reducer.js","utils/lists.reducer.js","utils/notes.reducer.js","utils/main.reducer.js","api/service.api.js","api/board.api.js","api/notification.api.js","utils/constants.js","api/auth.api.js","modules/avatar/index.jsx","components/Account/index.jsx","hooks/hooks.js","assets/plus.svg","modules/dropdown/index.jsx","views/Header/logged/components/dropdowns/Add.jsx","assets/info_img1.jpg","assets/pulse.svg","views/Header/logged/components/dropdowns/images.js","assets/info_img2.jpg","assets/info_img3.jpg","assets/info_img4.jpg","assets/info_img5.jpg","views/Header/logged/components/dropdowns/Info.jsx","modules/process/index.jsx","modules/button/index.jsx","components/Notification/index.jsx","views/Header/logged/components/dropdowns/Note.jsx","modules/userInfo/index.jsx","views/Header/logged/components/dropdowns/Account.jsx","modules/error/index.jsx","modules/formWrapper/index.jsx","modules/overlay/index.jsx","assets/link.svg","components/Overlays/AddBoards/index.jsx","assets/info.svg","assets/notification.svg","views/Header/logged/components/menu/index.jsx","views/Header/logged/index.jsx","views/Header/index.jsx","components/Header/index.jsx","api/list.api.js","api/card.api.js","components/Card/EditSection.jsx","assets/edit.svg","components/Card/index.jsx","components/List/components/addForm/index.jsx","assets/more.svg","components/List/components/dropdown/index.jsx","components/List/index.jsx","components/Board/components/lists/index.jsx","components/Board/components/addForm/index.jsx","components/Board/components/boardHeader/invite/InnerList.jsx","components/Board/components/boardHeader/invite/UserInfoBody.jsx","components/Board/components/boardHeader/invite/InviteDrop.jsx","components/Board/components/boardHeader/invite/index.jsx","assets/owner.svg","components/Board/components/boardHeader/index.jsx","utils/auth.form.validation.js","views/Login/index.jsx","views/Signup/index.jsx","views/Profile/BoardCard.jsx","views/Profile/index.jsx","routes/routes.js","components/Board/index.jsx","routes/Router.jsx","views/App/index.jsx","index.jsx"],"names":["LOGIN_ACTION","LOGOUT_ACTION","NEW_BOARD_CREATED","BOARD_DELETED","BOARD_PATCHED","GET_LISTS","GET_LISTS_AND_CARDS","NEW_LIST_CREATED","LIST_DELETED","NEW_CARD_CREATED","CARD_DELETED","CARD_PATCHED","NOTE_DISMISSED","NOTE_RECEIVED","init","isLogged","accessToken","authentication","user","imageURL","options","header","scheme","path","jwtStrategy","entity","service","cookie","storageKey","storage","localStorage","socket","io","reconnectionDelay","transports","on","e","console","log","client","feathers","configure","feathersio","feathersAuth","userService","boardsService","listsService","cardsService","notificationsService","isLink","background","test","isImage","src","Promise","resolve","reject","img","document","createElement","onload","onerror","getDataFromClipBoard","navigator","clipboard","readText","link","result","isPropInObject","prop","obj","reducer","combineReducers","auth","state","type","payload","boards","filter","_id","cards","updatedList","listId","map","card","deletedCardListId","deletedId","isListOfDeletedCardInState","cardCreatedListId","isListOfCreatedCardInState","additionalCards","reduce","ac","push","lists","boardId","list","length","notes","Service","error","dispatch","code","message","errorClass","className","Board","create","props","callbacks","forEach","cb","handleError","find","errorFromHandler","delete","remove","res","patch","data","board","Notification","note","STRATEGY","BODY_REF","querySelector","addBoardColors","name","backgroundColor","Auth","login","loginPayload","all","authenticate","strategy","logout","loginFromCache","token","window","getItem","reAuthenticate","getBoardMembersInfo","arr","query","$in","getUsersFromRegex","regex","nameAlias","$regex","$options","Ava","createAvatarComponent","sources","SrcSource","ValueSource","Avatar","imgLink","size","classList","alt","round","join","maxInitials","defaultProps","Account","connect","displayName","click","onClick","target","useOuterCLick","parentRef","useCallback","current","contains","callback","useEffect","addEventListener","capture","removeEventListener","useBodyColor","bodyRef","linkChecker","style","backgroundRepeat","backgroundSize","backgroundImage","useAddForm","defaultFormState","formDefState","isAddForm","useState","formState","setFormState","formToggle","changeHandler","value","DropDown","toggle","heading","popupBody","closeIco","title","draggable","PopupBody","initBoardCreationForm","color","AddBoardDrop","useContext","ParentRefContext","dropProps","_path","images","url","changeTipTitle","changeTip","InfoBoardDrop","setState","prevS","_excluded","_extends","Object","assign","bind","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgPulse","_ref","svgRef","titleId","id","xmlns","xmlnsXlink","viewBox","shapeRendering","textRendering","ref","d","transform","fill","strokeLinecap","ForwardRef","Process","isShown","wrapperStyles","styles","CloseBtn","memo","closeFn","plus","Button","submit","btnText","loading","btnClassList","disabled","margin","width","height","ButtonSection","submitProps","Note","text","inviteToBoardId","userId","deleteNote","acceptNote","accepterId","dismissNote","useAsyncCallback","acceptInvite","btnProps","execute","Children","toArray","NoteBoardDrop","UserInfo","email","isDisabled","innerBody","logoutHandler","AccountDrop","userInfo","history","useHistory","ErrorBlock","FormWrapper","children","form","localError","setError","formClasses","customBgStyle","bg","stateFn","timer","args","time","setTimeout","clearTimeout","errorDisplay","onSubmit","preventDefault","containerAttrs","Overlay","renderBody","FormBody","placeholder","onChange","required","autoFocus","undefined","AddBoardOverlay","overlayHandler","useRef","setForm","status","bodyProps","to","Menu","notifications","defState","add","info","account","overlay","setOverlay","clickHandler","createContext","LoggedHeader","sectionRef","Provider","HeaderView","loginLink","signupLink","activeClassName","Header","List","Card","patchedCard","EditSection","textAreaHeight","toggleOverlay","removeCard","patchCard","cardState","setCardState","parentEl","patchHandler","Math","onKeyPress","defaultValue","onFocus","select","isOverlay","spanRef","newName","prev","editProps","scrollHeight","edit","inputPlaceholder","AddForm","useDispatch","createCardsHandler","debouncedRequest","AwesomeDebouncePromise","deleteList","ListDropDown","deleteFn","isDropDown","setDropDown","moreDots","CardsIterator","deleteCard","deleteHandler","ListsIterator","ListsWrapper","_boardId","localBoard","item","useAsync","createListHandler","InnerList","users","ownerId","setChecks","checks","subs","includes","inputChange","checkboxes","checked","UserInfoBody","requestUsersState","buttonProps","members","entries","InviteDrop","setUsers","fetchFn","inputText","setInputText","debouncedSearch","useConstant","search","useAsyncAbortable","_","useDebouncedFetch","Array","isArray","Invite","isDrop","setDrop","SubscribersSection","ownerIco","BoardHeader","currentUser","memberIds","setSubs","masks","username","password","warns","confirmPassword","inputValidation","string","isValidated","formValidation","tempResult","forValidation","every","warn","Login","formDefault","setWarn","sendRequest","values","confirmBlur","onBlur","Signup","validatefor","dataset","pass","confirmValidation","BoardCard","deleteIco","bgChecker","navLinkRef","deleteBoardHandler","hidden","Profile","boardProps","publicRoutes","component","authenticatedRoutes","match","params","Router","route","exact","App","Providers","BrowserRouter","Ac","Prov","rest","store","createStore","composeWithDevTools","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.51904392.chunk.js","sourcesContent":["const LOGIN_ACTION = 'LOGIN';\r\nconst LOGOUT_ACTION = 'LOGOUT';\r\n\r\nconst NEW_BOARD_CREATED = 'NEW_BOARD_CREATED';\r\nconst BOARD_DELETED = 'BOARD_DELETED';\r\nconst BOARD_PATCHED = 'BOARD_PATCHED';\r\n\r\nconst GET_LISTS = 'GET_LISTS';\r\nconst GET_LISTS_AND_CARDS = 'GET_LISTS_AND_CARDS';\r\nconst NEW_LIST_CREATED = 'NEW_LISTS_CREATED';\r\nconst LIST_DELETED = 'LIST_DELETED';\r\n\r\nconst NEW_CARD_CREATED = 'NEW_CARD_CREATED';\r\nconst CARD_DELETED = 'CARD_DELETED';\r\nconst GET_CARDS = 'GET_CARDS';\r\nconst CARD_PATCHED = 'CARD_PATCHED';\r\n\r\nconst NOTE_DISMISSED = 'NOTE_DISMISSED';\r\nconst NOTE_RECEIVED = 'NOTE_RECEIVED';\r\n\r\nexport {\r\n  LIST_DELETED,\r\n  NEW_LIST_CREATED,\r\n  GET_LISTS,\r\n  LOGIN_ACTION,\r\n  LOGOUT_ACTION,\r\n  NEW_BOARD_CREATED,\r\n  BOARD_DELETED,\r\n  BOARD_PATCHED,\r\n  GET_CARDS,\r\n  GET_LISTS_AND_CARDS,\r\n  NEW_CARD_CREATED,\r\n  CARD_DELETED,\r\n  CARD_PATCHED,\r\n  NOTE_DISMISSED,\r\n  NOTE_RECEIVED\r\n};\r\n","import { LOGIN_ACTION, LOGOUT_ACTION } from './actions.types';\r\n\r\nconst checker = false;\r\n\r\nconst init = {\r\n  isLogged: checker,\r\n  accessToken: '',\r\n  authentication: {},\r\n  user: {\r\n    imageURL: ''\r\n  }\r\n};\r\n\r\nfunction auth(state = init, { type, payload }) {\r\n  switch (type) {\r\n    case LOGIN_ACTION:\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n        isLogged: true\r\n      };\r\n\r\n    case LOGOUT_ACTION:\r\n      return init;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport { auth };\r\n","import {\r\n  NEW_BOARD_CREATED,\r\n  BOARD_DELETED,\r\n  LOGIN_ACTION,\r\n  LOGOUT_ACTION,\r\n  BOARD_PATCHED\r\n} from './actions.types';\r\n\r\nconst init = [];\r\n\r\nfunction boards(state = init, { type, payload, boards = [] }) {\r\n  switch (type) {\r\n    case NEW_BOARD_CREATED:\r\n      return [...state, payload];\r\n    case BOARD_DELETED:\r\n      return state.filter(({ _id }) => _id !== payload);\r\n    case LOGIN_ACTION:\r\n      return [...boards];\r\n    case LOGOUT_ACTION:\r\n      return init;\r\n    case BOARD_PATCHED:\r\n      return [payload, ...state.filter(({ _id }) => _id !== payload._id)];\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport { boards };\r\n","import feathers from \"@feathersjs/client\";\r\nimport feathersAuth from \"@feathersjs/authentication-client\";\r\nimport io from \"socket.io-client\";\r\nimport feathersio from \"@feathersjs/socketio-client\";\r\n\r\nconst options = {\r\n  header: \"Authorization\",\r\n  scheme: \"Bearer\",\r\n  path: \"/authentication\",\r\n  jwtStrategy: \"jwt\",\r\n  entity: \"user\",\r\n  service: \"users\",\r\n  cookie: \"feathers-jwt\",\r\n  storageKey: \"feathers-jwt\",\r\n  storage: localStorage,\r\n};\r\n\r\nconst socket = io(\"\", {\r\n  reconnectionDelay: 5000,\r\n  transports: [\"websocket\"],\r\n});\r\n\r\nsocket.on(\"connect_error\", (e) => {\r\n  console.log(\"connection error\");\r\n});\r\n\r\nconst client = feathers();\r\n\r\nclient.configure(feathersio(socket));\r\nclient.configure(feathersAuth(options));\r\nclient.configure(feathers.authentication());\r\n\r\nconst userService = client.service(\"users\");\r\nconst boardsService = client.service(\"boards\");\r\n\r\nconst listsService = client.service(\"lists\");\r\nconst cardsService = client.service(\"cards\");\r\n\r\nconst notificationsService = client.service(\"notifications\");\r\n\r\nexport {\r\n  client,\r\n  userService,\r\n  boardsService,\r\n  listsService,\r\n  cardsService,\r\n  notificationsService,\r\n};\r\n","import {\r\n  boardsService,\r\n  listsService,\r\n  cardsService,\r\n  notificationsService\r\n} from '../api/feathers.api';\r\nimport {\r\n  NEW_BOARD_CREATED,\r\n  BOARD_DELETED,\r\n  BOARD_PATCHED,\r\n  NEW_LIST_CREATED,\r\n  LIST_DELETED,\r\n  CARD_DELETED,\r\n  NEW_CARD_CREATED,\r\n  CARD_PATCHED,\r\n  NOTE_DISMISSED,\r\n  NOTE_RECEIVED\r\n} from '../utils/actions.types';\r\n\r\nconst isLink = (background) => {\r\n  return /^https:\\/\\/images\\.unsplash\\.com\\/.{1,}/g.test(background);\r\n};\r\n\r\nconst isImage = (src) => {\r\n  return new Promise((resolve, reject) => {\r\n    const img = document.createElement('img');\r\n    img.src = src;\r\n\r\n    img.onload = () => resolve(src);\r\n\r\n    img.onerror = (e) => {\r\n      reject('Your link has no image');\r\n    };\r\n  });\r\n};\r\n\r\nconst getDataFromClipBoard = async () => {\r\n  try {\r\n    const link = await navigator.clipboard.readText();\r\n    if (!isLink(link)) return Promise.reject('Your link has no image');\r\n\r\n    const result = await isImage(link);\r\n    return result;\r\n  } catch (e) {\r\n    console.log('e: ', e);\r\n    throw e;\r\n  }\r\n};\r\n\r\nconst isPropInObject = (prop, obj) => prop in obj;\r\n\r\nconst addListenersForServerChanges = (dispatch) => {\r\n  /*\r\n  ? server has channels for publish events below\r\n  ? every user joins to his own channel (by user id)\r\n  ? and channels (if there are some) from users SUBS\r\n  ? after login\r\n  */\r\n\r\n  // ? avoiding re render after any creation of any user\r\n\r\n  // ? events for updating data in case of subscription\r\n\r\n  notificationsService.on('created', (payload) => {\r\n    dispatch({\r\n      type: NOTE_RECEIVED,\r\n      payload\r\n    });\r\n  });\r\n\r\n  notificationsService.on('removed', (payload) => {\r\n    dispatch({\r\n      type: NOTE_DISMISSED,\r\n      payload\r\n    });\r\n  });\r\n\r\n  boardsService.on('patched', (payload) => {\r\n    dispatch({\r\n      type: BOARD_PATCHED,\r\n      payload\r\n    });\r\n  });\r\n\r\n  boardsService.on('created', (payload) => {\r\n    dispatch({\r\n      type: NEW_BOARD_CREATED,\r\n      payload\r\n    });\r\n  });\r\n\r\n  boardsService.on('removed', ({ _id }) => {\r\n    dispatch({\r\n      type: BOARD_DELETED,\r\n      payload: _id\r\n    });\r\n  });\r\n\r\n  listsService.on('created', (payload) => {\r\n    dispatch({\r\n      type: NEW_LIST_CREATED,\r\n      payload\r\n    });\r\n  });\r\n\r\n  listsService.on('removed', (payload) => {\r\n    dispatch({\r\n      type: LIST_DELETED,\r\n      payload\r\n    });\r\n  });\r\n\r\n  /*\r\n  TODO suggestion\r\n  ? get a new card/list \r\n  ? for every changed data (action type GET_LISTS/GET_CARDS)\r\n  ? instead of\r\n  */\r\n\r\n  cardsService.on('removed', ({ _id, listId }) => {\r\n    dispatch({\r\n      type: CARD_DELETED,\r\n      payload: { _id, listId }\r\n    });\r\n  });\r\n\r\n  cardsService.on('created', (payload) => {\r\n    dispatch({\r\n      type: NEW_CARD_CREATED,\r\n      payload\r\n    });\r\n  });\r\n\r\n  cardsService.on('patched', (payload) => {\r\n    dispatch({\r\n      type: CARD_PATCHED,\r\n      payload\r\n    });\r\n  });\r\n};\r\n\r\nconst errorDisplay = (stateFn, timer = 1000, ...args) => {\r\n  stateFn(...args);\r\n\r\n  const time = setTimeout(() => {\r\n    stateFn(null);\r\n  }, timer);\r\n\r\n  return () => {\r\n    clearTimeout(time);\r\n    stateFn(null);\r\n  };\r\n};\r\n\r\nexport { isLink, getDataFromClipBoard, isPropInObject, addListenersForServerChanges, errorDisplay };\r\n","import {\r\n  GET_LISTS_AND_CARDS,\r\n  NEW_CARD_CREATED,\r\n  CARD_DELETED,\r\n  LIST_DELETED,\r\n  NEW_LIST_CREATED,\r\n  CARD_PATCHED\r\n} from './actions.types';\r\n\r\nimport { isPropInObject } from './helpers';\r\n\r\nconst init = {};\r\n\r\nfunction cards(state = init, { type, payload, cards }) {\r\n  switch (type) {\r\n    case CARD_PATCHED:\r\n      const updatedList = state[payload.listId].map((card) => {\r\n        if (card._id === payload._id) return payload;\r\n\r\n        return card;\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        [payload.listId]: updatedList\r\n      };\r\n\r\n    case NEW_LIST_CREATED:\r\n      return {\r\n        ...state,\r\n        [payload._id]: []\r\n      };\r\n\r\n    case LIST_DELETED:\r\n      if (payload in state) delete state[payload];\r\n\r\n      return state;\r\n    case CARD_DELETED:\r\n      const deletedCardListId = payload.listId;\r\n      const deletedId = payload._id;\r\n\r\n      // ? switch case is bs cause of no creating scopes\r\n      const isListOfDeletedCardInState = isPropInObject(deletedCardListId, state);\r\n\r\n      if (isListOfDeletedCardInState) {\r\n        return {\r\n          ...state,\r\n          [deletedCardListId]: state[deletedCardListId].filter(({ _id }) => _id !== deletedId)\r\n        };\r\n      }\r\n\r\n      return { ...state };\r\n\r\n    case NEW_CARD_CREATED:\r\n      const cardCreatedListId = payload.listId;\r\n\r\n      // ? switch case is bs cause of no creating scopes\r\n      const isListOfCreatedCardInState = isPropInObject(cardCreatedListId, state);\r\n\r\n      if (isListOfCreatedCardInState) {\r\n        return {\r\n          ...state,\r\n          [cardCreatedListId]: [...state[cardCreatedListId], payload]\r\n        };\r\n      }\r\n      return {\r\n        ...state,\r\n        [cardCreatedListId]: [payload]\r\n      };\r\n\r\n    case GET_LISTS_AND_CARDS:\r\n      const additionalCards = cards.reduce((ac, card) => {\r\n        const { listId } = card;\r\n\r\n        if (listId in ac) {\r\n          ac[listId].push(card);\r\n        } else {\r\n          ac[listId] = [card];\r\n        }\r\n        return ac;\r\n      }, {});\r\n\r\n      return {\r\n        ...state,\r\n        ...additionalCards\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport { cards };\r\n","import {\r\n  LIST_DELETED,\r\n  NEW_LIST_CREATED,\r\n  GET_LISTS,\r\n  GET_LISTS_AND_CARDS\r\n} from '../utils/actions.types';\r\n\r\nconst init = [];\r\n\r\nfunction lists(state = init, { type, payload, lists }) {\r\n  switch (type) {\r\n    case LIST_DELETED:\r\n      // ? avoid re-renders if a list is deleted from non active board\r\n      if (state[0] && state[0].boardId === payload.boardId) {\r\n        return state.filter((list) => list._id !== payload._id);\r\n      }\r\n      return state;\r\n    case GET_LISTS:\r\n      return [...payload];\r\n    case GET_LISTS_AND_CARDS:\r\n      return [...lists];\r\n    case NEW_LIST_CREATED:\r\n      // ? avoid re-renders if a list is created from non active board\r\n      if ((state[0] && state[0].boardId === payload.boardId) || state.length === 0) {\r\n        return [...state, payload];\r\n      }\r\n\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport { lists };\r\n","import { LOGIN_ACTION, LOGOUT_ACTION, NOTE_DISMISSED, NOTE_RECEIVED } from './actions.types';\r\n\r\nconst init = [];\r\n\r\nfunction notes(state = init, { type, payload, notes = [] }) {\r\n  switch (type) {\r\n    case LOGIN_ACTION:\r\n      return [...state, ...notes];\r\n    case LOGOUT_ACTION:\r\n      return init;\r\n\r\n    case NOTE_DISMISSED:\r\n      return state.filter(({ _id }) => _id !== payload._id);\r\n    case NOTE_RECEIVED:\r\n      return [...state, payload];\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport { notes };\r\n","import { combineReducers } from 'redux';\r\nimport { auth } from './auth.reducer';\r\nimport { boards } from './boards.reducer';\r\nimport { cards } from './cards.reducer';\r\nimport { lists } from './lists.reducer';\r\nimport { notes } from './notes.reducer';\r\n\r\nconst reducer = combineReducers({ auth, boards, cards, lists, notes });\r\n\r\nexport { reducer };\r\n","import { LOGOUT_ACTION } from '../utils/actions.types';\r\n\r\nclass Service {\r\n  handleError(error, dispatch) {\r\n    const { code } = error;\r\n    switch (code) {\r\n      case 401:\r\n        if (typeof dispatch === 'function') dispatch({ type: LOGOUT_ACTION });\r\n        return {\r\n          message: 'Invalid username or password',\r\n          errorClass: error.className || ''\r\n        };\r\n      case 408:\r\n        if (typeof dispatch === 'function') {\r\n          console.log('need dispatch in Error Handler');\r\n        }\r\n        return {\r\n          message: \"Server doesn't respond\",\r\n          errorClass: error.className || ''\r\n        };\r\n\r\n      case 409:\r\n        return {\r\n          message: 'User with this parameters already exists',\r\n          errorClass: error.className || ''\r\n        };\r\n\r\n      default:\r\n        return {\r\n          message: 'Unexpected error',\r\n          errorClass: ''\r\n        };\r\n    }\r\n  }\r\n}\r\n\r\nexport { Service };\r\n","import { Service } from './service.api';\r\nimport { boardsService } from './feathers.api';\r\n\r\nclass Board extends Service {\r\n  create = async (props, dispatch, ...callbacks) => {\r\n    try {\r\n      const payload = await boardsService.create(props);\r\n\r\n      callbacks.forEach((cb) => {\r\n        if (typeof cb === 'function') {\r\n          cb(payload);\r\n        }\r\n      });\r\n\r\n      return payload;\r\n    } catch (e) {\r\n      console.log('create a board error', e);\r\n      const errorFromHandler = this.handleError(e, dispatch);\r\n      throw errorFromHandler;\r\n    }\r\n  };\r\n\r\n  find = async (props = {}, dispatch, ...callbacks) => {\r\n    try {\r\n      const boards = await boardsService.find(props);\r\n\r\n      callbacks.forEach((cb) => {\r\n        if (typeof cb === 'function') {\r\n          cb(boards);\r\n        }\r\n      });\r\n\r\n      return boards;\r\n    } catch (e) {\r\n      const errorFromHandler = this.handleError(e, dispatch);\r\n      console.log('find boards error', errorFromHandler);\r\n      throw errorFromHandler;\r\n    }\r\n  };\r\n\r\n  delete = async (props = '', dispatch, ...callbacks) => {\r\n    try {\r\n      const { _id } = await boardsService.remove(props);\r\n\r\n      callbacks.forEach((cb) => {\r\n        if (typeof cb === 'function') {\r\n          cb(_id);\r\n        }\r\n      });\r\n\r\n      return new Promise((res) => res('done'));\r\n    } catch (e) {\r\n      console.log('delete a board error', e);\r\n      const errorFromHandler = this.handleError(e, dispatch);\r\n      throw errorFromHandler;\r\n    }\r\n  };\r\n\r\n  patch = async (props, dispatch, ...callbacks) => {\r\n    try {\r\n      const { boardId, data } = props;\r\n      const payload = await boardsService.patch(boardId, data);\r\n\r\n      callbacks.forEach((cb) => {\r\n        if (typeof cb === 'function') {\r\n          cb(payload);\r\n        }\r\n      });\r\n\r\n      return new Promise((res) => res('done'));\r\n    } catch (e) {\r\n      console.log('patch a board error', e);\r\n      const errorFromHandler = this.handleError(e, dispatch);\r\n      throw errorFromHandler;\r\n    }\r\n  };\r\n}\r\n\r\nconst board = new Board();\r\n\r\nexport { board };\r\n","import { Service } from './service.api';\r\nimport { notificationsService } from './feathers.api';\r\n\r\nclass Notification extends Service {\r\n  // ! create only for dev so far\r\n  create = async (props, dispatch, ...callbacks) => {\r\n    try {\r\n      const payload = await notificationsService.create(props);\r\n\r\n      callbacks.forEach((cb) => {\r\n        if (typeof cb === 'function') {\r\n          cb(payload);\r\n        }\r\n      });\r\n\r\n      return payload;\r\n    } catch (e) {\r\n      console.log('create a notification error', e);\r\n      const errorFromHandler = this.handleError(e, dispatch);\r\n      throw errorFromHandler;\r\n    }\r\n  };\r\n\r\n  find = async (props = {}, dispatch, ...callbacks) => {\r\n    try {\r\n      const notes = await notificationsService.find(props);\r\n\r\n      callbacks.forEach((cb) => {\r\n        if (typeof cb === 'function') {\r\n          cb(notes);\r\n        }\r\n      });\r\n\r\n      return notes;\r\n    } catch (e) {\r\n      const errorFromHandler = this.handleError(e, dispatch);\r\n      console.log('find notifications error', errorFromHandler);\r\n      throw errorFromHandler;\r\n    }\r\n  };\r\n\r\n  delete = async (props = '', dispatch, ...callbacks) => {\r\n    try {\r\n      const { _id } = await notificationsService.remove(props);\r\n\r\n      callbacks.forEach((cb) => {\r\n        if (typeof cb === 'function') {\r\n          cb(_id);\r\n        }\r\n      });\r\n\r\n      return new Promise((res) => res('done'));\r\n    } catch (e) {\r\n      console.log('delete a board error', e);\r\n      const errorFromHandler = this.handleError(e, dispatch);\r\n      throw errorFromHandler;\r\n    }\r\n  };\r\n}\r\n\r\nconst note = new Notification();\r\n\r\nexport { note };\r\n","const STRATEGY = \"local\";\r\nconst STANDARD_BG = \"#091921\";\r\nconst BG_IMAGE = \"\";\r\n\r\nconst BODY_REF = document.querySelector(\".root\");\r\n\r\nconst addBoardColors = [\r\n  {\r\n    name: \"#003b5c\",\r\n    backgroundColor: \"#003b5c\",\r\n  },\r\n  {\r\n    name: \"#7e2861\",\r\n    backgroundColor: \"#7e2861\",\r\n  },\r\n  {\r\n    name: \"#27461c\",\r\n    backgroundColor: \"#27461c\",\r\n  },\r\n  {\r\n    name: \"#4e2118\",\r\n    backgroundColor: \"#4e2118\",\r\n  },\r\n];\r\n\r\nconst authFormTypeLogin = \"login\";\r\nconst authFormTypeSignup = \"signup\";\r\n\r\nexport {\r\n  STRATEGY,\r\n  STANDARD_BG,\r\n  BODY_REF,\r\n  BG_IMAGE,\r\n  addBoardColors,\r\n  authFormTypeLogin,\r\n  authFormTypeSignup,\r\n};\r\n","import { Service } from './service.api';\r\nimport { client, userService } from './feathers.api';\r\n\r\nimport { board } from './board.api';\r\nimport { note } from './notification.api';\r\n\r\nimport { LOGIN_ACTION, LOGOUT_ACTION } from '../utils/actions.types';\r\nimport { STRATEGY } from '../utils/constants';\r\n\r\nclass Auth extends Service {\r\n  login = async (loginPayload, dispatch, ...callbacks) => {\r\n    try {\r\n      const [payload, boards, notes] = await Promise.all([\r\n        client.authenticate({\r\n          ...loginPayload,\r\n          strategy: STRATEGY\r\n        }),\r\n        board.find(),\r\n        note.find()\r\n      ]);\r\n\r\n      callbacks.forEach((cb) => {\r\n        if (typeof cb === 'function') {\r\n          cb(payload, boards.data);\r\n        }\r\n      });\r\n\r\n      dispatch({\r\n        type: LOGIN_ACTION,\r\n        payload,\r\n        boards: boards.data,\r\n        notes: notes.data\r\n      });\r\n\r\n      return payload;\r\n    } catch (e) {\r\n      const errorFromHandler = this.handleError(e, dispatch);\r\n      throw errorFromHandler;\r\n    }\r\n  };\r\n\r\n  logout = async (dispatch) => {\r\n    try {\r\n      const res = await client.logout();\r\n\r\n      dispatch({\r\n        type: LOGOUT_ACTION\r\n      });\r\n\r\n      return res;\r\n    } catch (e) {\r\n      const errorFromHandler = this.handleError(e, dispatch);\r\n      throw errorFromHandler;\r\n    }\r\n  };\r\n\r\n  create = async (props) => {\r\n    try {\r\n      const res = await userService.create({ ...props, strategy: STRATEGY });\r\n\r\n      return res;\r\n    } catch (e) {\r\n      const errorFromHandler = this.handleError(e);\r\n      throw errorFromHandler;\r\n    }\r\n  };\r\n\r\n  loginFromCache = async (dispatch) => {\r\n    const token = window.localStorage.getItem('feathers-jwt');\r\n\r\n    if (typeof token === 'string' && token.length > 0) {\r\n      try {\r\n        const [payload, boards, notes] = await Promise.all([\r\n          client.reAuthenticate(),\r\n          board.find(),\r\n          note.find()\r\n        ]);\r\n\r\n        dispatch({\r\n          type: LOGIN_ACTION,\r\n          payload,\r\n          boards: boards.data,\r\n          notes: notes.data\r\n        });\r\n      } catch (e) {\r\n        console.log(this.handleError(e));\r\n      }\r\n    }\r\n  };\r\n\r\n  getBoardMembersInfo = async (arr = [], ...callbacks) => {\r\n    try {\r\n      const { data } = await userService.find({ query: { _id: { $in: arr } } });\r\n\r\n      callbacks.forEach((cb) => {\r\n        if (typeof cb === 'function') {\r\n          cb(data);\r\n        }\r\n      });\r\n\r\n      return data;\r\n    } catch (e) {\r\n      const errorFromHandler = this.handleError(e);\r\n      throw errorFromHandler;\r\n    }\r\n  };\r\n\r\n  getUsersFromRegex = async (regex = '', ...callbacks) => {\r\n    try {\r\n      const { data } = await userService.find({\r\n        query: { nameAlias: { $regex: regex, $options: 'gi' } }\r\n      });\r\n\r\n      callbacks.forEach((cb) => {\r\n        if (typeof cb === 'function') {\r\n          cb(data);\r\n        }\r\n      });\r\n\r\n      return data;\r\n    } catch (e) {\r\n      const errorFromHandler = this.handleError(e);\r\n      throw errorFromHandler;\r\n    }\r\n  };\r\n}\r\n\r\nconst auth = new Auth();\r\n\r\nexport { auth };\r\n","import PropTypes from 'prop-types';\r\n\r\nimport { createAvatarComponent, SrcSource, ValueSource } from 'react-avatar';\r\n// import Ava from \"react-avatar\";\r\n\r\nimport './Avatar.css';\r\n\r\nconst Ava = createAvatarComponent({ sources: [SrcSource, ValueSource] });\r\nfunction Avatar(props) {\r\n  const { imgLink, name, size, classList } = props;\r\n\r\n  return (\r\n    <>\r\n      {imgLink === '' ? (\r\n        <Ava\r\n          alt=\"avatar\"\r\n          round={true}\r\n          name={name}\r\n          className={`avatar colored unselectable ${classList.join(' ')}`}\r\n          size={size}\r\n          maxInitials={2}\r\n        />\r\n      ) : (\r\n        <Ava\r\n          alt=\"avatar\"\r\n          round={true}\r\n          src={imgLink}\r\n          name={name}\r\n          className={`avatar ${classList.join(' ')}`}\r\n          size={size}\r\n          maxInitials={2}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nAvatar.defaultProps = {\r\n  imgLink: '',\r\n  name: '',\r\n  size: 40,\r\n  classList: []\r\n};\r\n\r\nAvatar.propTypes = {\r\n  imgLink: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  size: PropTypes.number,\r\n  classList: PropTypes.arrayOf(PropTypes.string)\r\n};\r\n\r\nexport { Avatar };\r\n","import { connect } from 'react-redux';\r\n\r\nimport { Avatar } from '../../modules/avatar';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    displayName: state.auth.user.displayName,\r\n    imgLink: state.auth.user.imageURL\r\n  };\r\n};\r\n\r\nfunction RowAccount(props) {\r\n  const { imgLink, displayName, click } = props;\r\n\r\n  const accountMenuToggle = (e) => {\r\n    // ? in click function -> [name] : !dropDownState[name]\r\n    // ? for closing one drop when open another\r\n    // ? if it's clicked to inner avatar components instead of the button\r\n    e.target.name = 'account';\r\n    click(e);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button className=\"avatar_btn\" name=\"account\" onClick={accountMenuToggle}>\r\n        <Avatar imgLink={imgLink} name={displayName} />\r\n      </button>\r\n    </>\r\n  );\r\n}\r\n\r\nconst Account = connect(mapStateToProps, null)(RowAccount);\r\n\r\nexport { Account };\r\n","import AwesomeDebouncePromise from 'awesome-debounce-promise';\r\nimport useConstant from 'use-constant';\r\n\r\nimport { useCallback, useState, useEffect } from 'react';\r\nimport { useAsyncAbortable } from 'react-async-hook';\r\nimport { isLink } from '../utils/helpers';\r\nimport { BG_IMAGE, BODY_REF } from '../utils/constants';\r\n\r\nconst useToggle = (initialState = false) => {\r\n  const [state, setState] = useState(initialState);\r\n\r\n  const toggle = useCallback((newS) => {\r\n    if (typeof newS === 'boolean') {\r\n      setState(newS);\r\n    } else {\r\n      setState((state) => !state);\r\n    }\r\n  }, []);\r\n\r\n  return [state, toggle];\r\n};\r\n\r\nconst useOuterCLick = (parentRef, ...callbacks) => {\r\n  const click = useCallback(\r\n    (e) => {\r\n      if (\r\n        (e.type === 'click' && !parentRef.current?.contains(e.target)) ||\r\n        (e.type === 'keydown' && e.code === 'Escape')\r\n      ) {\r\n        callbacks.forEach((callback) => callback());\r\n      }\r\n    },\r\n    [parentRef, callbacks]\r\n  );\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', click, { capture: true });\r\n\r\n    document.addEventListener('keydown', click);\r\n\r\n    return () => {\r\n      document.removeEventListener('click', click, { capture: true });\r\n      document.removeEventListener('keydown', click);\r\n    };\r\n    // eslint-disable-next-line\r\n  }, []);\r\n};\r\n\r\nconst useBodyColor = (background = BG_IMAGE) => {\r\n  const bodyRef = BODY_REF;\r\n  const linkChecker = isLink(background);\r\n\r\n  useEffect(() => {\r\n    if (!linkChecker) {\r\n      bodyRef.style.backgroundImage = 'none';\r\n      bodyRef.style.background = background;\r\n    } else {\r\n      bodyRef.style.background = '';\r\n      bodyRef.style.backgroundRepeat = 'no-repeat';\r\n      bodyRef.style.backgroundSize = 'cover';\r\n      bodyRef.style.backgroundImage = `url(${background})`;\r\n    }\r\n\r\n    return () => {\r\n      bodyRef.style.background = '';\r\n      bodyRef.style.backgroundRepeat = 'no-repeat';\r\n      bodyRef.style.backgroundSize = 'cover';\r\n      bodyRef.style.backgroundImage = '';\r\n    };\r\n  }, [background, linkChecker, bodyRef]);\r\n};\r\n\r\nconst useAddForm = (defaultFormState) => {\r\n  const formDefState = {\r\n    ...defaultFormState,\r\n    isAddForm: false\r\n  };\r\n  const [formState, setFormState] = useState(formDefState);\r\n\r\n  const formToggle = () => {\r\n    setFormState({\r\n      ...formDefState,\r\n      isAddForm: !formState.isAddForm\r\n    });\r\n  };\r\n\r\n  const changeHandler = (e) => {\r\n    const { value } = e.target;\r\n    setFormState({\r\n      ...formState,\r\n      name: value\r\n    });\r\n  };\r\n\r\n  return {\r\n    isAddForm: formState.isAddForm,\r\n    formToggle,\r\n    setFormState,\r\n    changeHandler,\r\n    formState\r\n  };\r\n};\r\n\r\nconst useDebouncedFetch = (fetchFn) => {\r\n  const [inputText, setInputText] = useState('');\r\n\r\n  const debouncedSearch = useConstant(() => AwesomeDebouncePromise(fetchFn, 2000));\r\n\r\n  const search = useAsyncAbortable(\r\n    async (_, text) => {\r\n      let res;\r\n\r\n      if (text.length === 0) {\r\n        res = [];\r\n      } else {\r\n        res = await debouncedSearch(text);\r\n      }\r\n\r\n      return res;\r\n    },\r\n    [inputText]\r\n  );\r\n\r\n  return {\r\n    inputText,\r\n    setInputText,\r\n    search\r\n  };\r\n};\r\n\r\nexport { useToggle, useOuterCLick, useBodyColor, useAddForm, useDebouncedFetch };\r\n","export default __webpack_public_path__ + \"static/media/plus.c40a22da.svg\";","import PropTypes from 'prop-types';\r\n\r\nimport closeIco from '../../assets/plus.svg';\r\nimport './DropDown.css';\r\n\r\nfunction DropDown(props) {\r\n  const { toggle, heading, popupBody } = props;\r\n\r\n  return (\r\n    <section className={`board_popup card_design ${props.classList?.join(' ')}`}>\r\n      <header className=\"popup__header\">\r\n        <h4 className=\"popup__article unselectable\">{heading}</h4>\r\n        <button className=\"close__btn\" onClick={toggle}>\r\n          <img\r\n            src={closeIco}\r\n            alt=\"close\"\r\n            className=\"menu__ico board__ico\"\r\n            title=\"Close the dropdown\"\r\n            draggable={false}\r\n          />\r\n        </button>\r\n      </header>\r\n      {popupBody && <ul className=\"popup__body body_shape\">{popupBody}</ul>}\r\n    </section>\r\n  );\r\n}\r\n\r\nDropDown.defaultProps = {\r\n  toggle: () => null,\r\n  heading: 'Heading',\r\n  popupBody: null,\r\n  classList: []\r\n};\r\n\r\nDropDown.propTypes = {\r\n  toggle: PropTypes.func.isRequired,\r\n  heading: PropTypes.string.isRequired,\r\n  popupBody: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\r\n  classList: PropTypes.arrayOf(PropTypes.string)\r\n};\r\n\r\nexport { DropDown };\r\n","import { useContext } from 'react';\r\nimport { ParentRefContext } from '../../';\r\n\r\nimport { useOuterCLick } from '../../../../../hooks/hooks';\r\n\r\nimport { DropDown } from '../../../../../modules/dropdown';\r\n\r\nimport './DropDowns.css';\r\n\r\nconst PopupBody = (props) => {\r\n  const { initBoardCreationForm } = props;\r\n  return (\r\n    <>\r\n      <li className=\"list__body_mt5\">\r\n        <button className=\"popup__body__el\" onClick={initBoardCreationForm}>\r\n          <span className=\"el__span\">Create a board</span>\r\n          <p className=\"el__article\">\r\n            A board is made up of cards ordered on lists. Use it to manage\r\n            projects, track information, or organize anything.\r\n          </p>\r\n        </button>\r\n      </li>\r\n      <li className=\"list__body_mt5\">\r\n        <button className=\"popup__body__el\">\r\n          <span className=\"el__span\">Start with template</span>\r\n          <p className=\"el__article\">\r\n            Get started faster with a board template.{' '}\r\n            <span style={{ color: 'var(--pink)' }}>(not implemented)</span>\r\n          </p>\r\n        </button>\r\n      </li>\r\n      <li className=\"list__body_mt5\">\r\n        <button className=\"popup__body__el\">\r\n          <span className=\"el__span\">Create a workspace</span>\r\n          <p className=\"el__article\">\r\n            A Workspace is a group of boards and people. Use it to organize your\r\n            company, side hustle, family, or friends.{' '}\r\n            <span style={{ color: 'var(--pink)' }}>(not implemented)</span>\r\n          </p>\r\n        </button>\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nfunction AddBoardDrop(props) {\r\n  const { toggle, initBoardCreationForm } = props;\r\n  const parentRef = useContext(ParentRefContext);\r\n  useOuterCLick(parentRef, toggle);\r\n\r\n  const dropProps = {\r\n    toggle,\r\n    heading: 'Create',\r\n    classList: ['add'],\r\n    popupBody: PopupBody({ initBoardCreationForm })\r\n  };\r\n\r\n  return <DropDown {...dropProps} />;\r\n}\r\n\r\nexport { AddBoardDrop };\r\n","export default __webpack_public_path__ + \"static/media/info_img1.7babde8d.jpg\";","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPulse(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"emjy2Mkp6Pu1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 1280 960\",\n    shapeRendering: \"geometricPrecision\",\n    textRendering: \"geometricPrecision\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    id: \"pulse\",\n    d: \"M138.774788,525.1L249.619634,525.1C280.87182,530.241949,285.441826,485.92911,305.024186,458C318.016939,432.869438,326.903049,480.286264,345.027472,511.5C367.939797,585.323914,377.942191,346.526452,406.932558,193.636824L442.11543,662.410427C450.96695,749.537551,463.164,597.194597,478.53844,502C482.701446,470.032335,490.271629,490.15355,507.040782,511.5C526.563185,540.794177,523.3733,437.840898,539.64346,383.5C557.984866,320.331274,563.137252,452.873029,590.847667,527.2C602.907028,568.704217,610.469762,517.233724,623.250329,502C631.541501,488.549917,634.93232,505.478295,645.552161,517.4C680.193567,539.085026,619.158175,528.527658,756.480965,531.937821\",\n    transform: \"matrix(1.225226 0 0 1.098308 132.15959 -27.128883)\",\n    fill: \"none\",\n    strokeLinecap: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPulse);\nexport default __webpack_public_path__ + \"static/media/pulse.c0137b4f.svg\";\nexport { ForwardRef as ReactComponent };","import image_1 from '../../../../../assets/info_img1.jpg';\r\nimport image_2 from '../../../../../assets/info_img2.jpg';\r\nimport image_3 from '../../../../../assets/info_img3.jpg';\r\nimport image_4 from '../../../../../assets/info_img4.jpg';\r\nimport image_5 from '../../../../../assets/info_img5.jpg';\r\n\r\nconst images = [\r\n  {\r\n    url: image_1,\r\n    title: 'Falling down is an accident, staying down is a choice.',\r\n    changeTipTitle: 'Get a new tip'\r\n  },\r\n  {\r\n    url: image_2,\r\n    title: \"Tough times don't last, tough people do.\",\r\n    changeTipTitle: 'Get a new tip'\r\n  },\r\n  {\r\n    url: image_3,\r\n    title: 'Stay in touch.',\r\n    changeTipTitle: 'Get a new tip'\r\n  },\r\n  {\r\n    url: image_4,\r\n    title: 'Strive for progress not perfection.',\r\n    changeTipTitle: 'Get a new tip'\r\n  },\r\n  {\r\n    url: image_5,\r\n    title: \"Don't look back, you're not going that way.\",\r\n    changeTipTitle: 'Get a new tip'\r\n  }\r\n];\r\n\r\nexport { images };\r\n","export default __webpack_public_path__ + \"static/media/info_img2.72a6f499.jpg\";","export default __webpack_public_path__ + \"static/media/info_img3.7521a109.jpg\";","export default __webpack_public_path__ + \"static/media/info_img4.50a2ad3c.jpg\";","export default __webpack_public_path__ + \"static/media/info_img5.4a863af5.jpg\";","import { useContext, useState } from 'react';\r\nimport { ParentRefContext } from '../../';\r\n\r\nimport { useOuterCLick } from '../../../../../hooks/hooks';\r\n\r\nimport { DropDown } from '../../../../../modules/dropdown';\r\nimport { images } from './images';\r\n\r\nimport './DropDowns.css';\r\n\r\nconst PopupBody = (props) => {\r\n  const { url, changeTip, title, changeTipTitle } = props;\r\n  return (\r\n    <>\r\n      <li className=\"list__body_mt5\">\r\n        <div className=\"popup__body__el\">\r\n          <img\r\n            src={url}\r\n            alt=\"info\"\r\n            className=\"info__image card_design\"\r\n            onClick={changeTip}\r\n          />\r\n        </div>\r\n      </li>\r\n      <li className=\"list__body_mt5\">\r\n        <span className=\"el__span\">{title}</span>\r\n      </li>\r\n      <li className=\"list__body_mt5\">\r\n        <button className=\"popup__body__el ta_center\" onClick={changeTip}>\r\n          <span className=\"el__span\">{changeTipTitle}</span>\r\n        </button>\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nfunction InfoBoardDrop(props) {\r\n  const { toggle } = props;\r\n  const parentRef = useContext(ParentRefContext);\r\n\r\n  const [state, setState] = useState(0);\r\n\r\n  useOuterCLick(parentRef, toggle);\r\n\r\n  const changeTip = () => {\r\n    setState((prevS) => {\r\n      if (prevS >= images.length - 1) {\r\n        return 0;\r\n      }\r\n      return ++prevS;\r\n    });\r\n  };\r\n\r\n  const dropProps = {\r\n    toggle,\r\n    heading: 'Information',\r\n    popupBody: PopupBody({ ...images[state], changeTip })\r\n  };\r\n\r\n  return <DropDown {...dropProps} />;\r\n}\r\n\r\nexport { InfoBoardDrop };\r\n","import React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\n// ? import svg as react component for render row svg\r\nimport { ReactComponent as Spinner } from '../../assets/pulse.svg';\r\n\r\nimport './Process.css';\r\n\r\nfunction Process(props) {\r\n  const { isShown } = props;\r\n  const wrapperStyles = props?.styles;\r\n\r\n  return isShown === true ? (\r\n    <div className=\"wrapper\" style={{ ...wrapperStyles }}>\r\n      <div className=\"spinner\">\r\n        <Spinner />\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n}\r\n\r\nProcess.defaultProps = {\r\n  isShown: false\r\n};\r\n\r\nProcess.propTypes = {\r\n  isShown: PropTypes.bool.isRequired,\r\n  wrapperStyles: PropTypes.object\r\n};\r\n\r\nexport { Process };\r\n","import PropTypes from 'prop-types';\r\nimport { memo } from 'react';\r\n\r\nimport { Process } from '../process';\r\nimport plus from '../../assets/plus.svg';\r\n\r\nimport './Button.css';\r\n\r\nconst CloseBtn = memo((props) => {\r\n  const { closeFn } = props;\r\n  return (\r\n    <button className=\"close__btn btn_static btn_ml10\" onClick={closeFn}>\r\n      <img src={plus} alt=\"close\" className=\"board__ico\" title=\"close\" draggable={false} />\r\n    </button>\r\n  );\r\n});\r\n\r\nfunction Button(props) {\r\n  const { submit, btnText, loading, type } = props;\r\n\r\n  if (type === 'closeBtn') return <CloseBtn closeFn={submit} />;\r\n\r\n  const progressStyles = {\r\n    margin: 0,\r\n    width: 35,\r\n    height: 35\r\n  };\r\n\r\n  return (\r\n    <section className={`progress__btn__section ${props?.classList?.join(' ')}`}>\r\n      <button\r\n        className={`innerCreate__btn sec__btn card_design ${props?.btnClassList?.join(' ')}`}\r\n        onClick={submit}\r\n        disabled={loading}\r\n      >\r\n        {!loading ? (\r\n          <span className=\"btn__span\">{btnText}</span>\r\n        ) : (\r\n          <Process isShown={loading} styles={progressStyles} />\r\n        )}\r\n      </button>\r\n    </section>\r\n  );\r\n}\r\n\r\nButton.defaultProps = {\r\n  submit: () => null,\r\n  btnText: 'Button',\r\n  loading: false,\r\n  classList: [],\r\n  btnClassList: [],\r\n\r\n  type: 'btn'\r\n};\r\n\r\nButton.propTypes = {\r\n  submit: PropTypes.func.isRequired,\r\n  btnText: PropTypes.string.isRequired,\r\n  loading: PropTypes.bool.isRequired,\r\n  classList: PropTypes.arrayOf(PropTypes.string),\r\n  btnClassList: PropTypes.arrayOf(PropTypes.string),\r\n\r\n  type: PropTypes.string.isRequired\r\n};\r\n\r\nexport { Button };\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { useAsyncCallback } from 'react-async-hook';\r\n\r\nimport { note } from '../../api/notification.api';\r\nimport { board } from '../../api/board.api';\r\n\r\nimport { Button } from '../../modules/button';\r\n\r\nimport './Note.css';\r\n\r\nconst ButtonSection = (props) => {\r\n  const { type, submitProps, closeFn } = props;\r\n\r\n  switch (type) {\r\n    case 'info':\r\n      return <Button submit={closeFn} type=\"closeBtn\" />;\r\n    case 'invite':\r\n      return (\r\n        <section className=\"note__btns\">\r\n          <Button {...submitProps} />\r\n          <Button submit={closeFn} type=\"closeBtn\" />\r\n        </section>\r\n      );\r\n\r\n    default:\r\n      return null;\r\n  }\r\n};\r\n\r\nfunction Note(props) {\r\n  const { type, text, _id, inviteToBoardId, userId, toggle } = props;\r\n\r\n  const deleteNote = async () => {\r\n    try {\r\n      await note.delete(_id, null);\r\n    } catch (e) {\r\n      console.log('delete note error', e);\r\n    }\r\n  };\r\n\r\n  const acceptNote = async () => {\r\n    try {\r\n      await board.patch({ boardId: inviteToBoardId, data: { type: 'accept', accepterId: userId } });\r\n      toggle();\r\n    } catch (e) {\r\n      console.log('accept invitation to board', e);\r\n    }\r\n  };\r\n\r\n  const dismissNote = useAsyncCallback(deleteNote);\r\n  const acceptInvite = useAsyncCallback(acceptNote);\r\n\r\n  const btnProps = {\r\n    type,\r\n    submitProps: {\r\n      btnText: 'Agree',\r\n      btnClassList: ['btn_small'],\r\n      submit: acceptInvite.execute,\r\n      loading: acceptInvite.loading\r\n    },\r\n    closeFn: dismissNote.execute\r\n  };\r\n\r\n  return (\r\n    <li className=\"list__body_mt5\">\r\n      <div className=\"note__list__el body_row jc_sb\">\r\n        <span className={`el__span note__span ${type}`}>{text}</span>\r\n        <ButtonSection {...btnProps} />\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nButtonSection.defaultProps = {\r\n  closeFn: () => null,\r\n  submitProps: {\r\n    submit: () => null,\r\n    loading: false,\r\n    btnText: 'Agree',\r\n    btnClassList: ['btn_small']\r\n  }\r\n};\r\n\r\nButtonSection.propTypes = {\r\n  closeFn: PropTypes.func.isRequired,\r\n  submitProps: PropTypes.shape({\r\n    submit: PropTypes.func.isRequired,\r\n    loading: PropTypes.bool.isRequired,\r\n    btnText: PropTypes.string.isRequired,\r\n    btnClassList: PropTypes.arrayOf(PropTypes.string).isRequired\r\n  }).isRequired\r\n};\r\n\r\nNote.defaultProps = {\r\n  type: 'info',\r\n  text: 'Unhandled notification',\r\n  _id: ''\r\n};\r\n\r\nNote.propTypes = {\r\n  type: PropTypes.string.isRequired,\r\n  text: PropTypes.string.isRequired,\r\n  _id: PropTypes.string.isRequired\r\n};\r\n\r\nexport { Note };\r\n","import { useContext, Children } from 'react';\r\nimport { ParentRefContext } from '../../';\r\n\r\nimport { useOuterCLick } from '../../../../../hooks/hooks';\r\n\r\nimport { Note } from '../../../../../components/Notification';\r\nimport { DropDown } from '../../../../../modules/dropdown';\r\n\r\nconst PopupBody = (props) => {\r\n  const { notes, userId, toggle } = props;\r\n\r\n  return notes.length > 0\r\n    ? Children.toArray(\r\n        notes.map((note) => {\r\n          return <Note {...note} userId={userId} toggle={toggle} />;\r\n        })\r\n      )\r\n    : null;\r\n};\r\n\r\nfunction NoteBoardDrop(props) {\r\n  const { toggle, notes, userId } = props;\r\n  const parentRef = useContext(ParentRefContext);\r\n\r\n  useOuterCLick(parentRef, toggle);\r\n\r\n  const dropProps = {\r\n    toggle,\r\n    heading: 'Notifications',\r\n    classList: ['note'],\r\n    popupBody: PopupBody({ notes, userId, toggle })\r\n  };\r\n\r\n  return <DropDown {...dropProps} />;\r\n}\r\n\r\nexport { NoteBoardDrop };\r\n","import PropTypes from 'prop-types';\r\n\r\nimport { memo } from 'react';\r\n\r\nimport { Avatar } from '../avatar';\r\n\r\nconst UserInfo = memo((props) => {\r\n  const {\r\n    imageURL,\r\n    displayName,\r\n    email,\r\n    click,\r\n    isDisabled,\r\n    classList,\r\n    innerBody\r\n  } = props;\r\n\r\n  return (\r\n    <>\r\n      <button\r\n        className={`popup__body__el body_row userInfo ${classList.join(' ')}`}\r\n        onClick={click}\r\n        disabled={isDisabled}\r\n      >\r\n        {innerBody()}\r\n        <Avatar imgLink={imageURL} name={displayName} />\r\n        <div className=\"account__el\">\r\n          <span className=\"el__span\">{displayName}</span>\r\n          <span className=\"span_email\">{email}</span>\r\n        </div>\r\n      </button>\r\n    </>\r\n  );\r\n});\r\n\r\nUserInfo.defaultProps = {\r\n  imageURL: '',\r\n  displayName: '',\r\n  email: '',\r\n  click: () => {},\r\n  isDisabled: false,\r\n  classList: [],\r\n  innerBody: () => null\r\n};\r\n\r\nUserInfo.propTypes = {\r\n  imageURL: PropTypes.string.isRequired,\r\n  displayName: PropTypes.string.isRequired,\r\n  email: PropTypes.string.isRequired,\r\n  isDisabled: PropTypes.bool,\r\n\r\n  innerBody: PropTypes.func,\r\n  classList: PropTypes.arrayOf(PropTypes.string),\r\n  click: PropTypes.func\r\n};\r\n\r\nexport { UserInfo };\r\n","import { useContext } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { ParentRefContext } from '../../';\r\nimport { auth } from '../../../../../api/auth.api';\r\nimport { useOuterCLick } from '../../../../../hooks/hooks';\r\n\r\nimport { UserInfo } from '../../../../../modules/userInfo';\r\nimport { DropDown } from '../../../../../modules/dropdown';\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    dispatch\r\n  };\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userInfo: state.auth.user\r\n  };\r\n};\r\n\r\nconst PopupBody = (props) => {\r\n  const { logoutHandler, ...res } = props;\r\n\r\n  return (\r\n    <>\r\n      <li className=\"list__body_mt5\">\r\n        <UserInfo {...res} />\r\n      </li>\r\n      <li className=\"list__body_mt5\">\r\n        <button className=\"popup__body__el\" onClick={logoutHandler}>\r\n          <span className=\"el__span\">Log out</span>\r\n        </button>\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nfunction RowAccountDrop(props) {\r\n  const { toggle, dispatch, userInfo } = props;\r\n\r\n  const parentRef = useContext(ParentRefContext);\r\n  const history = useHistory();\r\n\r\n  const click = () => {\r\n    history.push('/');\r\n    toggle();\r\n  };\r\n\r\n  useOuterCLick(parentRef, toggle);\r\n\r\n  const logoutHandler = async () => {\r\n    try {\r\n      await auth.logout(dispatch);\r\n    } catch (e) {\r\n      console.log('Logout error', e);\r\n    }\r\n  };\r\n\r\n  const dropProps = {\r\n    toggle,\r\n    heading: 'Account',\r\n    classList: ['account'],\r\n    popupBody: PopupBody({ ...userInfo, click, logoutHandler })\r\n  };\r\n\r\n  return <DropDown {...dropProps} />;\r\n}\r\nconst AccountDrop = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(RowAccountDrop);\r\n\r\nexport { AccountDrop };\r\n","import PropTypes from 'prop-types';\r\n\r\nimport { memo } from 'react';\r\n\r\nimport './Error.css';\r\n\r\nconst ErrorBlock = memo((props) => {\r\n  const { message, errorClass } = props;\r\n\r\n  return (\r\n    <div className={`container error ${errorClass}`}>\r\n      <h4>{message}</h4>\r\n    </div>\r\n  );\r\n});\r\n\r\nErrorBlock.defaultProps = {\r\n  message: 'Unhandled Error',\r\n  errorClass: ''\r\n};\r\n\r\nErrorBlock.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n  errorClass: PropTypes.string.isRequired\r\n};\r\n\r\nexport { ErrorBlock };\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\nimport { errorDisplay } from '../../utils/helpers';\r\n\r\nimport { ErrorBlock } from '../error';\r\nimport { Process } from '../process';\r\n\r\nimport './Form.css';\r\n\r\nfunction FormWrapper(props) {\r\n  const { children, form, loading, error } = props;\r\n  const [localError, setError] = useState(null);\r\n\r\n  const formClasses =\r\n    form.className && form.className !== ''\r\n      ? `form ${!loading ? 'card_design' : 'loading'} ${form.className}`\r\n      : `form ${!loading ? 'card_design' : 'loading'}`;\r\n\r\n  const customBgStyle =\r\n    props?.form?.bg !== ''\r\n      ? {\r\n          backgroundColor: props?.form?.bg\r\n        }\r\n      : props.form.link !== ''\r\n      ? {\r\n          backgroundImage: `url(${props.form.link})`,\r\n          backgroundSize: 'cover',\r\n          backgroundRepeat: 'no-repeat'\r\n        }\r\n      : null;\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      return errorDisplay(setError, 3000, error);\r\n    }\r\n  }, [error]);\r\n\r\n  return (\r\n    <form\r\n      className={formClasses}\r\n      style={customBgStyle}\r\n      // ? for firefox (AwesomeDebouncePromise doesn't fire preventDefault in firefox)\r\n      onSubmit={(e) => {\r\n        e.preventDefault();\r\n      }}\r\n      {...props?.containerAttrs}\r\n    >\r\n      {localError ? <ErrorBlock {...localError} /> : null}\r\n      {loading ? <Process isShown={loading} /> : children}\r\n    </form>\r\n  );\r\n}\r\n\r\nFormWrapper.defaultProps = {\r\n  children: {},\r\n  loading: false,\r\n  error: null\r\n};\r\n\r\nFormWrapper.propTypes = {\r\n  children: PropTypes.object.isRequired,\r\n  containerAttrs: PropTypes.any,\r\n  form: PropTypes.object.isRequired,\r\n  loading: PropTypes.bool,\r\n\r\n  error: PropTypes.object\r\n};\r\nexport { FormWrapper };\r\n","import PropTypes from 'prop-types';\r\n\r\nimport './Overlay.css';\r\n\r\nfunction Overlay(props) {\r\n  const { renderBody } = props;\r\n  return (\r\n    <section className={`overlay ${props?.classList?.join(' ')}`}>\r\n      {renderBody()}\r\n    </section>\r\n  );\r\n}\r\n\r\nOverlay.defaultProps = {\r\n  renderBody: () => null,\r\n  classList: []\r\n};\r\n\r\nOverlay.propTypes = {\r\n  renderBody: PropTypes.func.isRequired,\r\n  classList: PropTypes.arrayOf(PropTypes.string)\r\n};\r\n\r\nexport { Overlay };\r\n","export default __webpack_public_path__ + \"static/media/link.bf0e1ea5.svg\";","import { useState, useRef, memo, Children } from 'react';\r\nimport { useAsyncCallback } from 'react-async-hook';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { board } from '../../../api/board.api';\r\nimport { useOuterCLick } from '../../../hooks/hooks';\r\nimport { addBoardColors } from '../../../utils/constants';\r\n\r\nimport { getDataFromClipBoard } from '../../../utils/helpers';\r\nimport { STANDARD_BG } from '../../../utils/constants';\r\n\r\nimport { FormWrapper } from '../../../modules/formWrapper';\r\nimport { Overlay } from '../../../modules/overlay';\r\n\r\nimport link from '../../../assets/link.svg';\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return { dispatch };\r\n};\r\n\r\nconst FormBody = memo((props) => {\r\n  const { form, changeHandler, submit } = props;\r\n\r\n  return (\r\n    <>\r\n      <h3 className=\"form__heading\">Add board</h3>\r\n      <input\r\n        type=\"text\"\r\n        name=\"title\"\r\n        className=\"form__input\"\r\n        placeholder=\"Enter board title\"\r\n        value={form.title}\r\n        onChange={changeHandler}\r\n        required\r\n        autoFocus\r\n      />\r\n      <ul className=\"form__colorPicker\">\r\n        {Children.toArray(\r\n          addBoardColors.map((color) => {\r\n            const { backgroundColor } = color;\r\n            return (\r\n              <li>\r\n                <button\r\n                  className=\"colorPicker__el card_design\"\r\n                  style={{ backgroundColor: backgroundColor }}\r\n                  onClick={changeHandler}\r\n                  value={backgroundColor}\r\n                  name=\"bg\"\r\n                ></button>\r\n              </li>\r\n            );\r\n          })\r\n        )}\r\n        <li>\r\n          <button\r\n            className=\"menu__btn card_design menu_linkBg\"\r\n            onClick={changeHandler}\r\n            name=\"link\"\r\n          >\r\n            <img\r\n              src={link}\r\n              alt=\"link bg\"\r\n              className=\"menu__ico\"\r\n              name=\"link\"\r\n              title=\"Get link of the background from clipboard\"\r\n            />\r\n          </button>\r\n        </li>\r\n        <li>\r\n          <input\r\n            className=\"colorPicker__el card_design\"\r\n            name=\"bg\"\r\n            type=\"color\"\r\n            style={{ backgroundColor: '#ffffffb0' }}\r\n            onChange={changeHandler}\r\n          />\r\n        </li>\r\n      </ul>\r\n      <button\r\n        className=\"form__btn\"\r\n        onClick={submit}\r\n        disabled={form.title === '' || form.title === undefined ? true : false}\r\n      >\r\n        Create Board\r\n      </button>\r\n    </>\r\n  );\r\n});\r\n\r\nfunction RowAddBoardOverlay(props) {\r\n  const { overlayHandler, dispatch } = props;\r\n\r\n  const parentRef = useRef(null);\r\n\r\n  const containerAttrs = {\r\n    ref: parentRef\r\n  };\r\n\r\n  useOuterCLick(parentRef, () => overlayHandler(false));\r\n\r\n  const [form, setForm] = useState({\r\n    bg: STANDARD_BG,\r\n    title: '',\r\n    link: ''\r\n  });\r\n\r\n  const submit = async (e) => {\r\n    if (e && typeof e.preventDefault === 'function') e.preventDefault();\r\n    if (form.title !== '') {\r\n      form.bg = form.bg || form.link;\r\n\r\n      const result = await board.create(form, dispatch, () =>\r\n        overlayHandler(false)\r\n      );\r\n\r\n      return result;\r\n    }\r\n  };\r\n\r\n  const { execute, loading, error, status } = useAsyncCallback(submit);\r\n\r\n  const changeHandler = async (e) => {\r\n    if (e && typeof e.preventDefault === 'function') e.preventDefault();\r\n\r\n    const { name, value } = e.target;\r\n\r\n    if (name === 'link') {\r\n      const res = await getDataFromClipBoard();\r\n      setForm({\r\n        ...form,\r\n        bg: '',\r\n        link: res\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (form[name] !== value) {\r\n      setForm({\r\n        ...form,\r\n        [name]: value\r\n      });\r\n    }\r\n  };\r\n\r\n  const bodyProps = { form, changeHandler, submit: execute };\r\n\r\n  const renderBody = () => (\r\n    <FormWrapper\r\n      form={form}\r\n      error={error}\r\n      loading={loading}\r\n      containerAttrs={containerAttrs}\r\n    >\r\n      {status === 'success' ? (\r\n        <Redirect to=\"/profile\" />\r\n      ) : (\r\n        <FormBody {...bodyProps} />\r\n      )}\r\n    </FormWrapper>\r\n  );\r\n\r\n  return <Overlay renderBody={renderBody} />;\r\n}\r\n\r\nconst AddBoardOverlay = connect(null, mapDispatchToProps)(RowAddBoardOverlay);\r\n\r\nexport { AddBoardOverlay };\r\n","export default __webpack_public_path__ + \"static/media/info.851eea7f.svg\";","export default __webpack_public_path__ + \"static/media/notification.b5905960.svg\";","import { useState } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Account } from '../../../../../components/Account';\r\nimport { AddBoardDrop } from '../dropdowns/Add';\r\nimport { InfoBoardDrop } from '../dropdowns/Info';\r\nimport { NoteBoardDrop } from '../dropdowns/Note';\r\nimport { AccountDrop } from '../dropdowns/Account';\r\nimport { AddBoardOverlay } from '../../../../../components/Overlays/AddBoards';\r\n\r\nimport plus from '../../../../../assets/plus.svg';\r\nimport info from '../../../../../assets/info.svg';\r\nimport note from '../../../../../assets/notification.svg';\r\n\r\nimport './Menu.css';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    notifications: state.notes,\r\n    userId: state.auth.user._id\r\n  };\r\n};\r\n\r\nfunction RowMenu(props) {\r\n  const { notifications, userId } = props;\r\n\r\n  const defState = {\r\n    add: false,\r\n    info: false,\r\n    note: false,\r\n    account: false\r\n  };\r\n  const [state, setState] = useState(defState);\r\n  const [overlay, setOverlay] = useState(false);\r\n\r\n  const clickHandler = (e) => {\r\n    const {\r\n      target: { name }\r\n    } = e;\r\n\r\n    setState({ ...defState, [name]: !state[name] });\r\n  };\r\n\r\n  const initBoardCreationForm = () => {\r\n    setOverlay(true);\r\n    setState(defState);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button\r\n        className=\"menu__btn\"\r\n        name=\"add\"\r\n        onClick={clickHandler}\r\n        title=\"Create\"\r\n      >\r\n        <img src={plus} alt=\"add\" className=\"menu__ico\" name=\"add\" />\r\n      </button>\r\n      {state.add && (\r\n        <AddBoardDrop\r\n          toggle={() => setState({ ...defState, add: !state.add })}\r\n          initBoardCreationForm={initBoardCreationForm}\r\n        />\r\n      )}\r\n      <button\r\n        className=\"menu__btn\"\r\n        name=\"info\"\r\n        onClick={clickHandler}\r\n        title=\"Information\"\r\n      >\r\n        <img src={info} alt=\"info\" className=\"menu__ico\" name=\"info\" />\r\n      </button>\r\n      {state.info && (\r\n        <InfoBoardDrop\r\n          toggle={() => setState({ ...defState, info: !state.info })}\r\n        />\r\n      )}\r\n      <button\r\n        className=\"menu__btn\"\r\n        name=\"note\"\r\n        onClick={clickHandler}\r\n        title=\"Notifications\"\r\n      >\r\n        {notifications.length > 0 ? (\r\n          <div className=\"badges\">\r\n            {notifications.length >= 99 ? 99 : notifications.length}\r\n          </div>\r\n        ) : null}\r\n        <img src={note} alt=\"notification\" className=\"menu__ico\" name=\"note\" />\r\n      </button>\r\n      {state.note && (\r\n        <NoteBoardDrop\r\n          toggle={() => setState({ ...defState, note: !state.note })}\r\n          notes={notifications}\r\n          userId={userId}\r\n        />\r\n      )}\r\n\r\n      <Account click={clickHandler} />\r\n      {state.account && (\r\n        <AccountDrop\r\n          toggle={() => setState({ ...defState, account: !state.account })}\r\n        />\r\n      )}\r\n      {overlay && <AddBoardOverlay overlayHandler={setOverlay} />}\r\n    </>\r\n  );\r\n}\r\n\r\nconst Menu = connect(mapStateToProps, null)(RowMenu);\r\n\r\nexport { Menu };\r\n","import { createContext } from 'react';\r\nimport { useRef } from 'react';\r\n\r\nimport { Menu } from './components/menu';\r\n\r\nconst ParentRefContext = createContext(null);\r\n\r\nfunction LoggedHeader() {\r\n  const sectionRef = useRef(null);\r\n\r\n  // TODO refactor Menu for HOC and pass ref through forwardRef instead of context\r\n  return (\r\n    <ParentRefContext.Provider value={sectionRef}>\r\n      <nav className=\"userSection\" ref={sectionRef}>\r\n        <Menu />\r\n      </nav>\r\n    </ParentRefContext.Provider>\r\n  );\r\n}\r\n\r\nexport { LoggedHeader, ParentRefContext };\r\n","import { useRef, memo } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { LoggedHeader } from './logged';\r\n\r\nimport './Header.css';\r\n\r\nconst HeaderView = memo((props) => {\r\n  const { isLogged } = props;\r\n\r\n  const loginLink = useRef(null);\r\n  const signupLink = useRef(null);\r\n\r\n  return (\r\n    <header className=\"header unselectable\">\r\n      {/* // ? active = '' because there is class active with background color */}\r\n      <NavLink to=\"/\" className=\"header__link\" activeClassName=\"\">\r\n        <h1 className=\"header__article\">TrelloF</h1>\r\n      </NavLink>\r\n      {isLogged === false ? (\r\n        <div className=\"header__log\">\r\n          <NavLink to=\"/login\" className=\"log__link\" ref={loginLink}></NavLink>\r\n          <button\r\n            className=\"log__btn\"\r\n            onClick={() => loginLink.current.click()}\r\n          >\r\n            Log in\r\n          </button>\r\n          <NavLink\r\n            to=\"/signup\"\r\n            className=\"log__link\"\r\n            ref={signupLink}\r\n          ></NavLink>\r\n          <button\r\n            className=\"log__btn log__btn_sign\"\r\n            onClick={() => signupLink.current.click()}\r\n          >\r\n            Sign up\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <LoggedHeader />\r\n      )}\r\n    </header>\r\n  );\r\n});\r\n\r\nexport { HeaderView };\r\n","import { HeaderView } from '../../views/Header';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isLogged: state.auth.isLogged\r\n  };\r\n};\r\n\r\nfunction RowHeader(props) {\r\n  const { isLogged } = props;\r\n\r\n  return <HeaderView isLogged={isLogged} />;\r\n}\r\n\r\nconst Header = connect(mapStateToProps, null)(RowHeader);\r\n\r\nexport { Header };\r\n","import { Service } from './service.api';\r\nimport { listsService } from './feathers.api';\r\n\r\nclass List extends Service {\r\n  create = async (props, dispatch, ...callbacks) => {\r\n    try {\r\n      const payload = await listsService.create(props);\r\n\r\n      callbacks.forEach((cb) => {\r\n        if (typeof cb === 'function') {\r\n          cb(payload);\r\n        }\r\n      });\r\n\r\n      return payload;\r\n    } catch (e) {\r\n      console.log('create a list error', e);\r\n      const errorFromHandler = this.handleError(e, dispatch);\r\n      throw errorFromHandler;\r\n    }\r\n  };\r\n  find = async (props, dispatch, ...callbacks) => {\r\n    try {\r\n      const { data } = await listsService.find({ query: { props } });\r\n\r\n      callbacks.forEach((cb) => {\r\n        if (typeof cb === 'function') {\r\n          cb(data);\r\n        }\r\n      });\r\n\r\n      return data;\r\n    } catch (e) {\r\n      console.log('find a list error', e);\r\n      const errorFromHandler = this.handleError(e, dispatch);\r\n      throw errorFromHandler;\r\n    }\r\n  };\r\n  delete = async (id, dispatch, ...callbacks) => {\r\n    try {\r\n      await listsService.remove({ _id: id });\r\n\r\n      callbacks.forEach((cb) => {\r\n        if (typeof cb === 'function') {\r\n          cb(id);\r\n        }\r\n      });\r\n\r\n      return id;\r\n    } catch (e) {\r\n      console.log('delete list error', e);\r\n      const errorFromHandler = this.handleError(e, dispatch);\r\n      throw errorFromHandler;\r\n    }\r\n  };\r\n}\r\n\r\nconst list = new List();\r\n\r\nexport { list };\r\n","import { cardsService } from './feathers.api';\r\nimport { Service } from './service.api';\r\n\r\nclass Card extends Service {\r\n  create = async (props, dispatch, ...callbacks) => {\r\n    try {\r\n      const payload = await cardsService.create(props);\r\n\r\n      callbacks.forEach((cb) => {\r\n        if (typeof cb === 'function') {\r\n          cb(payload);\r\n        }\r\n      });\r\n\r\n      return payload;\r\n    } catch (e) {\r\n      console.log('create a card error', e);\r\n      const errorFromHandler = this.handleError(e, dispatch);\r\n      throw errorFromHandler;\r\n    }\r\n  };\r\n  find = async (props, dispatch, ...callbacks) => {\r\n    try {\r\n      const { data } = await cardsService.find({ query: { props } });\r\n\r\n      callbacks.forEach((cb) => {\r\n        if (typeof cb === 'function') {\r\n          cb(data);\r\n        }\r\n      });\r\n\r\n      return data;\r\n    } catch (e) {\r\n      console.log('find a card error', e);\r\n      const errorFromHandler = this.handleError(e, dispatch);\r\n      throw errorFromHandler;\r\n    }\r\n  };\r\n  delete = async (id, dispatch) => {\r\n    try {\r\n      await cardsService.remove({ _id: id });\r\n\r\n      return id;\r\n    } catch (e) {\r\n      console.log('delete card error', e);\r\n      const errorFromHandler = this.handleError(e, dispatch);\r\n      throw errorFromHandler;\r\n    }\r\n  };\r\n\r\n  patch = async (data, id, dispatch) => {\r\n    try {\r\n      const patchedCard = await cardsService.patch(id, data);\r\n\r\n      return patchedCard;\r\n    } catch (e) {\r\n      console.log('patch card error', e);\r\n      const errorFromHandler = this.handleError(e, dispatch);\r\n      throw errorFromHandler;\r\n    }\r\n  };\r\n}\r\n\r\nconst card = new Card();\r\n\r\nexport { card };\r\n","import React from 'react';\r\nimport { useRef, useState } from 'react';\r\nimport { useAsyncCallback } from 'react-async-hook';\r\n\r\nimport { useOuterCLick } from '../../hooks/hooks';\r\n\r\nimport { Button } from '../../modules/button';\r\n\r\nfunction EditSection(props) {\r\n  const { textAreaHeight, name, toggleOverlay, removeCard, patchCard } = props;\r\n\r\n  const [cardState, setCardState] = useState({ name, textAreaHeight });\r\n  const parentEl = useRef(null);\r\n  useOuterCLick(parentEl, toggleOverlay);\r\n\r\n  const changeHandler = (e) => {\r\n    const { value } = e.target;\r\n\r\n    // ? 1.19 and 60 are tested values\r\n    // ? min-height: 75px of the card\r\n    const height = value.length > 60 ? Math.round(value.length * 1.19) : 75;\r\n\r\n    setCardState({\r\n      textAreaHeight: height,\r\n      name: value\r\n    });\r\n  };\r\n\r\n  const textAreaFocus = (e) => e.target.select();\r\n\r\n  const patchHandler = useAsyncCallback(async () => {\r\n    const { name } = cardState;\r\n    if (name !== '' && name !== ' ') {\r\n      await patchCard(name);\r\n    }\r\n  });\r\n\r\n  return (\r\n    <section className=\"edit__card\" ref={parentEl}>\r\n      <div className=\"edit__container\">\r\n        <textarea\r\n          onChange={changeHandler}\r\n          onKeyPress={(e) => {\r\n            if (e.key === 'Enter') e.preventDefault();\r\n          }}\r\n          className=\"card__text card_textarea\"\r\n          defaultValue={cardState.name}\r\n          autoFocus\r\n          onFocus={textAreaFocus}\r\n          style={{ height: `${cardState.textAreaHeight}px` }}\r\n        ></textarea>\r\n        <section className=\"edit__controls\">\r\n          <Button\r\n            {...{\r\n              submit: removeCard,\r\n              btnText: 'Remove',\r\n              loading: false,\r\n              btnClassList: ['control__btn']\r\n            }}\r\n          />\r\n        </section>\r\n      </div>\r\n\r\n      <Button\r\n        {...{\r\n          submit: patchHandler.execute,\r\n          btnText: 'Save',\r\n          loading: patchHandler.loading,\r\n          classList: ['edit__submit__section']\r\n        }}\r\n      />\r\n    </section>\r\n  );\r\n}\r\n\r\nexport { EditSection };\r\n","export default __webpack_public_path__ + \"static/media/edit.0df1dbd3.svg\";","import { useState, useRef, useCallback } from 'react';\r\n\r\nimport { card } from '../../api/card.api';\r\n\r\nimport { EditSection } from './EditSection';\r\n\r\nimport edit from '../../assets/edit.svg';\r\n\r\nimport './Card.css';\r\n\r\nfunction Card(props) {\r\n  const {\r\n    removeCard,\r\n    card: { name, _id }\r\n  } = props;\r\n\r\n  const [isOverlay, setOverlay] = useState(false);\r\n  const spanRef = useRef(null);\r\n\r\n  const patchCard = useCallback(\r\n    async (newName) => {\r\n      try {\r\n        const patchedCard = await card.patch(\r\n          { ...props.card, name: newName },\r\n          _id\r\n        );\r\n        setOverlay(false);\r\n\r\n        return patchedCard;\r\n      } catch (e) {\r\n        console.log('card edit error', e);\r\n      }\r\n    },\r\n    [props.card, _id]\r\n  );\r\n\r\n  const textAreaHeight = spanRef?.current?.scrollHeight + 20;\r\n\r\n  const toggleOverlay = () => {\r\n    setOverlay((prev) => !prev);\r\n  };\r\n\r\n  const editProps = {\r\n    textAreaHeight,\r\n    name,\r\n    toggleOverlay,\r\n    removeCard,\r\n    patchCard\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"card\">\r\n        {isOverlay ? (\r\n          <>\r\n            <EditSection {...editProps} />\r\n          </>\r\n        ) : (\r\n          <>\r\n            <span className=\"card__text unselectable\" ref={spanRef}>\r\n              {name}\r\n            </span>\r\n            <button\r\n              className=\"menu__btn edit__btn\"\r\n              title=\"Edit the card\"\r\n              onClick={toggleOverlay}\r\n            >\r\n              <img src={edit} alt=\"edit\" className=\"menu__ico edit__ico\" />\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport { Card };\r\n","import AwesomeDebouncePromise from 'awesome-debounce-promise';\r\n\r\nimport { memo } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useAsyncCallback } from 'react-async-hook';\r\n\r\nimport { useAddForm } from '../../../../hooks/hooks';\r\nimport { card } from '../../../../api/card.api';\r\n\r\nimport { FormWrapper } from '../../../../modules/formWrapper';\r\nimport { Button } from '../../../../modules/button';\r\n\r\nimport plus from '../../../../assets/plus.svg';\r\n\r\nconst FormBody = memo((props) => {\r\n  const {\r\n    inputPlaceholder,\r\n    changeHandler,\r\n    submit,\r\n    closeFn,\r\n    btnText,\r\n    loading,\r\n    btnClassList,\r\n    classList\r\n  } = props;\r\n\r\n  return (\r\n    <>\r\n      <input\r\n        type=\"text\"\r\n        name=\"list_name\"\r\n        className=\"form__input add__list__input\"\r\n        placeholder={inputPlaceholder}\r\n        onChange={changeHandler}\r\n        autoFocus\r\n      />\r\n      <div className=\"add__list__btns\">\r\n        <Button {...{ submit, btnText, loading, btnClassList, classList }} />\r\n        <Button {...{ type: 'closeBtn', submit: closeFn }} />\r\n      </div>\r\n    </>\r\n  );\r\n});\r\n\r\nfunction AddForm(props) {\r\n  const { _id, boardId } = props;\r\n\r\n  const { isAddForm, formToggle, changeHandler, formState } = useAddForm({\r\n    className: 'p_5',\r\n    name: '',\r\n    listId: _id,\r\n    boardId\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const createCardsHandler = async (e) => {\r\n    if (e && typeof e.preventDefault === 'function') e.preventDefault();\r\n    if (formState.name === '' || formState.name === ' ') return;\r\n\r\n    try {\r\n      await card.create(formState, dispatch);\r\n      formToggle();\r\n    } catch (e) {\r\n      console.log('create card error', e);\r\n      throw e;\r\n    }\r\n  };\r\n\r\n  const debouncedRequest = AwesomeDebouncePromise(createCardsHandler, 1000);\r\n\r\n  const { execute, loading } = useAsyncCallback(debouncedRequest);\r\n\r\n  const bodyProps = {\r\n    inputPlaceholder: 'Enter a title for the card',\r\n    changeHandler,\r\n    submit: execute,\r\n    closeFn: formToggle,\r\n    btnText: 'Add card',\r\n    loading\r\n  };\r\n\r\n  return (\r\n    <div className=\"list__body\">\r\n      {!isAddForm ? (\r\n        <button className=\"add__toggler card_design\" onClick={formToggle}>\r\n          <img\r\n            src={plus}\r\n            alt=\"add\"\r\n            className=\"menu__ico\"\r\n            title=\"add the card\"\r\n          />\r\n          Add another card\r\n        </button>\r\n      ) : (\r\n        <FormWrapper form={formState}>\r\n          <FormBody {...bodyProps} />\r\n        </FormWrapper>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { AddForm };\r\n","export default __webpack_public_path__ + \"static/media/more.5666b46a.svg\";","import React from 'react';\r\n\r\nimport { useState, useRef } from 'react';\r\n\r\nimport { useOuterCLick } from '../../../../hooks/hooks';\r\nimport { DropDown } from '../../../../modules/dropdown';\r\n\r\nimport moreDots from '../../../../assets/more.svg';\r\n\r\nconst PopupBody = (props) => {\r\n  const { deleteList } = props;\r\n  return (\r\n    <>\r\n      <li className=\"list__body_mt5\">\r\n        <button className=\"popup__body__el\" onClick={deleteList}>\r\n          <span className=\"el__span\">Delete the list</span>\r\n          <p className=\"el__article\">Deleting this list</p>\r\n        </button>\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nfunction ListDropDown(props) {\r\n  const { deleteFn } = props;\r\n\r\n  const [isDropDown, setDropDown] = useState(false);\r\n\r\n  const parentRef = useRef(null);\r\n\r\n  const toggle = () => {\r\n    setDropDown((prev) => !prev);\r\n  };\r\n\r\n  useOuterCLick(parentRef, () => setDropDown(false));\r\n\r\n  const dropProps = {\r\n    toggle,\r\n    heading: 'List actions',\r\n    popupBody: PopupBody({ deleteList: deleteFn(() => setDropDown(false)) }),\r\n    classList: ['list_drop']\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <section className=\"list__btnSection\" ref={parentRef}>\r\n        <button className=\"menu__btn more__btn\" onClick={toggle}>\r\n          <img\r\n            src={moreDots}\r\n            alt=\"more\"\r\n            className=\"menu__ico\"\r\n            title=\"List actions\"\r\n          />\r\n        </button>\r\n        {isDropDown && <DropDown {...dropProps} />}\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport { ListDropDown };\r\n","import { connect } from 'react-redux';\r\nimport { useAsyncCallback } from 'react-async-hook';\r\n\r\nimport { list } from '../../api/list.api';\r\nimport { card } from '../../api/card.api';\r\n\r\nimport { Card } from '../../components/Card';\r\nimport { AddForm } from './components/addForm';\r\nimport { ListDropDown } from './components/dropdown';\r\nimport { Process } from '../../modules/process';\r\n\r\nimport './List.css';\r\n\r\nconst mapStateToProps = (state, props) => {\r\n  const {\r\n    list: { _id }\r\n  } = props;\r\n\r\n  return {\r\n    cards: state.cards[_id] || []\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    dispatch\r\n  };\r\n};\r\n\r\nconst CardsIterator = (props) => {\r\n  const { cards, deleteCard } = props;\r\n  return cards.map((card) => (\r\n    <Card card={card} key={card._id} removeCard={deleteCard(card._id)} />\r\n  ));\r\n};\r\n\r\nfunction RowList(props) {\r\n  const {\r\n    dispatch,\r\n    list: { name, _id, boardId },\r\n    cards\r\n  } = props;\r\n\r\n  const deleteList = async () => {\r\n    try {\r\n      await list.delete(_id, dispatch);\r\n    } catch (e) {\r\n      console.log('delete list error', e);\r\n    }\r\n  };\r\n\r\n  const deleteCard = (id) => async () => {\r\n    try {\r\n      await card.delete(id, dispatch);\r\n    } catch (e) {\r\n      console.log('card delete error /list component/', e);\r\n    }\r\n  };\r\n\r\n  const deleteHandler = useAsyncCallback(deleteList);\r\n\r\n  const deleteFn = (cb) => async () => {\r\n    cb();\r\n    await deleteHandler.execute();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <section className=\"card_design list\">\r\n        {deleteHandler.loading ? (\r\n          <div className=\"centeredContainer\">\r\n            <Process isShown={deleteHandler.loading} />\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <header className=\"popup__header list__header\">\r\n              <h3 className=\"list__heading unselectable\">{name}</h3>\r\n            </header>\r\n\r\n            <section className=\"list__body\">\r\n              <CardsIterator {...{ cards, deleteCard }} />\r\n            </section>\r\n            <section className=\"list__body\">\r\n              <AddForm {...{ _id, boardId }} />\r\n            </section>\r\n          </>\r\n        )}\r\n      </section>\r\n      <ListDropDown deleteFn={deleteFn} />\r\n    </>\r\n  );\r\n}\r\n\r\nconst List = connect(mapStateToProps, mapDispatchToProps)(RowList);\r\n\r\nexport { List };\r\n","import { Redirect } from \"react-router-dom\";\r\nimport { useAsync } from \"react-async-hook\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { useBodyColor } from \"../../../../hooks/hooks\";\r\nimport { list } from \"../../../../api/list.api\";\r\nimport { card } from \"../../../../api/card.api\";\r\nimport { GET_LISTS_AND_CARDS } from \"../../../../utils/actions.types\";\r\n\r\nimport { Process } from \"../../../../modules/process\";\r\nimport { List } from \"../../../List\";\r\n\r\nconst mapStateToProps = (state, props) => {\r\n  const { _boardId } = props;\r\n\r\n  return {\r\n    isLogged: state.auth.isLogged,\r\n    localBoard: state.boards.find((item) => item._id === _boardId),\r\n    lists: state.lists,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    dispatch,\r\n  };\r\n};\r\n\r\nconst ListsIterator = (props) => {\r\n  const { lists } = props;\r\n  return lists.map((list) => <List key={list._id} list={list} />);\r\n};\r\n\r\nfunction RowListsWrapper(props) {\r\n  const { localBoard, dispatch, isLogged, lists, _boardId } = props;\r\n\r\n  const { loading } = useAsync(\r\n    async (id) => {\r\n      try {\r\n        const result = await Promise.all([\r\n          list.find(id, dispatch),\r\n          card.find(id, dispatch),\r\n        ]);\r\n\r\n        const [lists, cards] = result;\r\n\r\n        dispatch({\r\n          type: GET_LISTS_AND_CARDS,\r\n          lists,\r\n          cards,\r\n        });\r\n        return result;\r\n      } catch (e) {\r\n        throw e;\r\n      }\r\n    },\r\n    [_boardId, dispatch]\r\n  );\r\n\r\n  useBodyColor(localBoard?.bg);\r\n\r\n  if (localBoard === undefined || !isLogged) return <Redirect to=\"/\" />;\r\n\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <Process isShown={loading} />\r\n      ) : (\r\n        <ListsIterator\r\n          lists={lists.filter(({ boardId }) => boardId === _boardId)}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nconst ListsWrapper = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(RowListsWrapper);\r\n\r\nexport { ListsWrapper };\r\n","import AwesomeDebouncePromise from 'awesome-debounce-promise';\r\n\r\nimport { memo } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useAsyncCallback } from 'react-async-hook';\r\n\r\nimport { useAddForm } from '../../../../hooks/hooks';\r\nimport { list } from '../../../../api/list.api';\r\n\r\nimport { FormWrapper } from '../../../../modules/formWrapper';\r\nimport { Button } from '../../../../modules/button';\r\n\r\nimport plus from '../../../../assets/plus.svg';\r\n\r\nconst FormBody = memo((props) => {\r\n  const {\r\n    inputPlaceholder,\r\n    changeHandler,\r\n    submit,\r\n    closeFn,\r\n    btnText,\r\n    loading,\r\n    btnClassList,\r\n    classList\r\n  } = props;\r\n\r\n  return (\r\n    <>\r\n      <input\r\n        type=\"text\"\r\n        name=\"list_name\"\r\n        className=\"form__input add__list__input\"\r\n        placeholder={inputPlaceholder}\r\n        onChange={changeHandler}\r\n        autoFocus\r\n      />\r\n      <div className=\"add__list__btns\">\r\n        <Button {...{ submit, btnText, loading, btnClassList, classList }} />\r\n        <Button {...{ type: 'closeBtn', submit: closeFn }} />\r\n      </div>\r\n    </>\r\n  );\r\n});\r\n\r\nfunction AddForm(props) {\r\n  const { _boardId } = props;\r\n\r\n  const { isAddForm, formToggle, changeHandler, formState } = useAddForm({\r\n    className: 'add__list__form',\r\n    name: '',\r\n    boardId: _boardId\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const createListHandler = async (e) => {\r\n    if (e && typeof e.preventDefault === 'function') e.preventDefault();\r\n    if (formState.name === '' || formState.name === ' ') return;\r\n\r\n    try {\r\n      await list.create(formState, dispatch);\r\n      formToggle();\r\n    } catch (e) {\r\n      console.log('create lists error', e);\r\n    }\r\n  };\r\n\r\n  const debouncedRequest = AwesomeDebouncePromise(createListHandler, 1000);\r\n\r\n  const { execute, loading } = useAsyncCallback(debouncedRequest);\r\n\r\n  const bodyProps = {\r\n    inputPlaceholder: 'Enter list title',\r\n    changeHandler,\r\n    submit: execute,\r\n    closeFn: formToggle,\r\n    btnText: 'Add list',\r\n    loading\r\n  };\r\n\r\n  return (\r\n    <div className={isAddForm ? 'add__form' : 'add__form_wd'}>\r\n      {!isAddForm ? (\r\n        <button className=\"add__toggler card_design\" onClick={formToggle}>\r\n          <img\r\n            src={plus}\r\n            alt=\"add\"\r\n            className=\"menu__ico\"\r\n            title=\"add the list\"\r\n          />\r\n          Add another list\r\n        </button>\r\n      ) : (\r\n        <FormWrapper form={formState}>\r\n          <FormBody {...bodyProps} />\r\n        </FormWrapper>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { AddForm };\r\n","import React from 'react';\r\n\r\nimport { useEffect, Children } from 'react';\r\n\r\nimport { UserInfo } from '../../../../../modules/userInfo';\r\nimport { UserInfoBody } from './UserInfoBody';\r\n\r\nfunction InnerList(props) {\r\n  const { users, boardId, ownerId, setChecks, checks } = props;\r\n\r\n  useEffect(() => {\r\n    // ? clear checkboxes after each request to server\r\n    setChecks({});\r\n\r\n    // eslint-disable-next-line\r\n  }, [users]);\r\n\r\n  return (\r\n    <ul className=\"innerList\">\r\n      {Children.toArray(\r\n        users.map((user) => {\r\n          const { _id } = user;\r\n\r\n          const isDisabled =\r\n            ownerId === _id ? true : user.subs.includes(boardId);\r\n\r\n          const inputChange = () => {\r\n            setChecks((prev) => {\r\n              // ? set value of a checkbox on change or set true after first button click\r\n              if (prev.hasOwnProperty(_id)) {\r\n                return { ...prev, [_id]: !prev[_id] };\r\n              }\r\n              return { ...prev, [_id]: true };\r\n            });\r\n          };\r\n\r\n          const value = checks[_id] || false;\r\n\r\n          const checkboxes = isDisabled\r\n            ? () => null\r\n            : () => UserInfoBody({ inputChange, value });\r\n\r\n          return (\r\n            <li className=\"list__body_li\">\r\n              <UserInfo\r\n                {...user}\r\n                isDisabled={isDisabled}\r\n                click={inputChange}\r\n                innerBody={checkboxes}\r\n              />\r\n            </li>\r\n          );\r\n        })\r\n      )}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport { InnerList };\r\n","import React from 'react';\r\n\r\nfunction UserInfoBody(props) {\r\n  const { inputChange, value } = props;\r\n\r\n  return (\r\n    <>\r\n      <input\r\n        type=\"checkbox\"\r\n        name=\"invited\"\r\n        onChange={inputChange}\r\n        onClick={inputChange}\r\n        className=\"userInfo__check\"\r\n        checked={value}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport { UserInfoBody };\r\n","import React from 'react';\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\nimport { useDebouncedFetch } from '../../../../../hooks/hooks';\r\n\r\nimport { auth } from '../../../../../api/auth.api';\r\nimport { board } from '../../../../../api/board.api';\r\n\r\nimport { Button } from '../../../../../modules/button';\r\nimport { FormWrapper } from '../../../../../modules/formWrapper';\r\nimport { DropDown } from '../../../../../modules/dropdown';\r\nimport { InnerList } from './InnerList';\r\n\r\n// TODO to avoid many re-renders make decompose\r\n// TODO create redux state for checkbox values\r\n\r\n// ! TO DO SUBMIT BUTTON\r\n\r\nconst PopupBody = (props) => {\r\n  const {\r\n    toggle,\r\n    changeHandler,\r\n    requestUsersState,\r\n    loading,\r\n    ownerId,\r\n    boardId,\r\n    requestUsersState: { users, value }\r\n  } = props;\r\n\r\n  const [checks, setChecks] = useState({});\r\n\r\n  const buttonProps = {\r\n    submit: async () => {\r\n      const members = Object.entries(checks).reduce((ac, item) => {\r\n        const [id, isOn] = item;\r\n        if (isOn) ac.push(id);\r\n\r\n        return ac;\r\n      }, []);\r\n\r\n      if (!members.length) return;\r\n\r\n      try {\r\n        const data = { members, type: 'subscribe' };\r\n\r\n        await board.patch({ boardId, data });\r\n        toggle();\r\n      } catch (e) {\r\n        console.log('invite drop component error', e);\r\n      }\r\n    },\r\n    btnText: 'SEND INVITATION',\r\n    loading,\r\n    btnClassList: ['w_100pr'],\r\n    classList: ['w_100pr']\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {users.length > 0 && (\r\n        <InnerList\r\n          users={users}\r\n          boardId={boardId}\r\n          ownerId={ownerId}\r\n          setChecks={setChecks}\r\n          checks={checks}\r\n        />\r\n      )}\r\n\r\n      <li className=\"list__body_li\">\r\n        <FormWrapper form={requestUsersState}>\r\n          <>\r\n            <input\r\n              type=\"text\"\r\n              name=\"invite\"\r\n              className=\"form__input add__list__input\"\r\n              placeholder=\"Email or name\"\r\n              onChange={changeHandler}\r\n              value={value}\r\n              autoFocus\r\n            />\r\n            <Button {...buttonProps} />\r\n          </>\r\n        </FormWrapper>\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nfunction InviteDrop(props) {\r\n  const { toggle, boardId, ownerId } = props;\r\n\r\n  const [users, setUsers] = useState([]);\r\n\r\n  const {\r\n    setInputText,\r\n    inputText,\r\n    search: { loading, result }\r\n  } = useDebouncedFetch(async (text) => auth.getUsersFromRegex(text));\r\n\r\n  const changeHandler = async (e) => {\r\n    const { value } = e.target;\r\n    setInputText(value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (Array.isArray(result)) {\r\n      setUsers(result);\r\n    }\r\n  }, [result]);\r\n\r\n  const requestUsersState = {\r\n    value: inputText,\r\n    className: 'invite__form',\r\n    users\r\n  };\r\n\r\n  const dropProps = {\r\n    toggle,\r\n    heading: 'Invite to board',\r\n    classList: ['add'],\r\n    popupBody: PopupBody({\r\n      ownerId,\r\n      changeHandler,\r\n      requestUsersState,\r\n      boardId,\r\n      loading,\r\n      toggle\r\n    })\r\n  };\r\n\r\n  return <DropDown {...dropProps} />;\r\n}\r\n\r\nexport { InviteDrop };\r\n","import { useState, useRef } from 'react';\r\n\r\nimport { useOuterCLick } from '../../../../../hooks/hooks';\r\n\r\nimport { InviteDrop } from './InviteDrop';\r\n\r\nfunction Invite(props) {\r\n  const { boardId, ownerId } = props;\r\n\r\n  const [isDrop, setDrop] = useState(false);\r\n  const parentRef = useRef(null);\r\n\r\n  const toggle = () => {\r\n    setDrop((prev) => !prev);\r\n  };\r\n\r\n  useOuterCLick(parentRef, () => setDrop(false));\r\n\r\n  return (\r\n    <section className=\"invite__section\" ref={parentRef}>\r\n      {isDrop && (\r\n        <InviteDrop toggle={toggle} boardId={boardId} ownerId={ownerId} />\r\n      )}\r\n      <button\r\n        className={`add__toggler card_design invite__btn ${\r\n          isDrop ? 'active' : ''\r\n        }`}\r\n        onClick={toggle}\r\n      >\r\n        Invite\r\n      </button>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport { Invite };\r\n","export default __webpack_public_path__ + \"static/media/owner.7c592e8e.svg\";","import { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { auth } from '../../../../api/auth.api';\r\n\r\nimport { Invite } from './invite';\r\nimport { Avatar } from '../../../../modules/avatar';\r\n\r\nimport ownerIco from '../../../../assets/owner.svg';\r\n\r\nconst mapStateToProps = (state, props) => {\r\n  const { _boardId } = props;\r\n  const localBoard = state.boards.find((item) => item._id === _boardId) || {};\r\n  const currentUser = state.auth.user._id;\r\n\r\n  return {\r\n    localBoard,\r\n    currentUser\r\n  };\r\n};\r\n\r\nconst SubscribersSection = (props) => {\r\n  const { subs, ownerId } = props;\r\n\r\n  return (\r\n    <section className=\"subsSection\">\r\n      {/* \r\n      // ? destructuring in arguments only for not writing {}\r\n       */}\r\n      {subs.map(({ _id, imageURL, displayName }) =>\r\n        _id === ownerId ? (\r\n          <section className=\"avatar__container\" key={_id}>\r\n            <Avatar\r\n              imgLink={imageURL}\r\n              name={`${displayName} owner`}\r\n              size={25}\r\n            />\r\n            <img src={ownerIco} className=\"avatar__ico\" alt=\"owner\" />\r\n          </section>\r\n        ) : (\r\n          <Avatar key={_id} imgLink={imageURL} name={displayName} size={25} />\r\n        )\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nfunction RowBoardHeader(props) {\r\n  const {\r\n    currentUser,\r\n    localBoard,\r\n    localBoard: { title, memberIds, ownerId, _id }\r\n  } = props;\r\n\r\n  const [subs, setSubs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (memberIds && ownerId) {\r\n      auth.getBoardMembersInfo([ownerId, ...memberIds], (data) => {\r\n        setSubs((prev) => [...data, ...prev]);\r\n      });\r\n    }\r\n\r\n    return () => setSubs([]);\r\n\r\n    // eslint-disable-next-line\r\n  }, [memberIds]);\r\n\r\n  if (!localBoard) return null;\r\n\r\n  return (\r\n    <section className=\"boards__header\">\r\n      <div className=\"header__wrapper card_design\">\r\n        <h4 className=\"unselectable\" title=\"Board name\">\r\n          {title}\r\n        </h4>\r\n        <span className=\"span_divider\"></span>\r\n        <SubscribersSection subs={subs} ownerId={ownerId} />\r\n        <span className=\"span_divider\"></span>\r\n        {currentUser === ownerId ? (\r\n          <Invite ownerId={ownerId} boardId={_id} />\r\n        ) : null}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nconst BoardHeader = connect(mapStateToProps, null)(RowBoardHeader);\r\n\r\nexport { BoardHeader };\r\n","const masks = {\r\n  username: /^[a-zA-Z0-9]{4,16}$/,\r\n  password: /^(?=.*[0-9])(?=.*[a-zA-Z])(?=\\S+$).{4,16}$/,\r\n  displayName: /^[A-Z]{1}\\w{2,10}\\s{1}[A-Z]{1}\\w{2,11}$/,\r\n  email: /^[a-zA-Z\\d]{1,15}@[a-z]{1,9}\\.{1}([a-z]{2,4}){1}$/\r\n};\r\n\r\nconst warns = {\r\n  username: 'Username must be from 4 to 16 numbers of latin characters',\r\n  password:\r\n    'Your password must be 4-16 characters, and include at least one number.',\r\n  displayName:\r\n    'Enter your name and surname divided by space. First letters are capital :)',\r\n  confirmPassword: 'Passwords should match',\r\n  email: 'Enter your email'\r\n};\r\n\r\nconst inputValidation = (string, name) => {\r\n  const res = { message: '', isValidated: true, name: '' };\r\n\r\n  // * if there is the name in masks and if it if not valid\r\n  // * update result object and turn validation check to false\r\n\r\n  if (name in masks && !masks[name].test(string)) {\r\n    res.message = warns[name];\r\n    res.name = name;\r\n    res.isValidated = false;\r\n  }\r\n\r\n  return res;\r\n};\r\n\r\nconst confirmValidation = (pass, confirmPassword) => {\r\n  const res = { message: '', isValidated: true };\r\n\r\n  if (pass !== confirmPassword) {\r\n    res.message = warns.confirmPassword;\r\n    res.isValidated = false;\r\n  }\r\n\r\n  return res;\r\n};\r\n\r\nconst formValidation = (obj, type) => {\r\n  const { password, username, displayName, email } = obj;\r\n  const tempResult = [];\r\n  const res = { data: null, isValidated: false };\r\n\r\n  // * Switch/case has only one block... So 'else if'.\r\n  if (type === 'signup') {\r\n    const forValidation = { password, username, displayName, email };\r\n\r\n    for (let item in forValidation) {\r\n      tempResult.push(inputValidation(forValidation[item], item));\r\n    }\r\n\r\n    res.data = obj;\r\n    res.isValidated = tempResult.every((result) => result.isValidated === true);\r\n\r\n    return res;\r\n  } else if (type === 'login') {\r\n    const forValidation = { password, username };\r\n\r\n    for (let item in forValidation) {\r\n      tempResult.push(inputValidation(forValidation[item], item));\r\n    }\r\n\r\n    res.data = obj;\r\n    res.isValidated = tempResult.every((result) => result.isValidated === true);\r\n\r\n    return res;\r\n  }\r\n\r\n  return res;\r\n};\r\n\r\nexport { formValidation, inputValidation, confirmValidation };\r\n","import { Redirect } from 'react-router-dom';\r\nimport { useState, memo } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useAsyncCallback } from 'react-async-hook';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { FormWrapper } from '../../modules/formWrapper';\r\nimport {\r\n  formValidation,\r\n  inputValidation\r\n} from '../../utils/auth.form.validation';\r\n\r\n// ? type for validation function\r\nimport { authFormTypeLogin as type } from '../../utils/constants';\r\n\r\nimport { auth } from '../../api/auth.api';\r\n\r\nimport './Login.css';\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    dispatch\r\n  };\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isLogged: state.auth.isLogged\r\n  };\r\n};\r\n\r\nconst FormBody = memo((props) => {\r\n  const { warn, form, changeHandler, submit } = props;\r\n\r\n  return (\r\n    <>\r\n      <h3 className=\"form__heading\">Login</h3>\r\n      <input\r\n        type=\"text\"\r\n        name=\"username\"\r\n        className=\"form__input\"\r\n        placeholder=\"Enter username\"\r\n        value={form.username}\r\n        onChange={changeHandler}\r\n        required\r\n        autoFocus\r\n      />\r\n      {warn.username ? (\r\n        <span className=\"form__warning\">{warn.username}</span>\r\n      ) : null}\r\n      <input\r\n        type=\"password\"\r\n        name=\"password\"\r\n        className=\"form__input\"\r\n        data-validatefor=\"confirmPassword\"\r\n        placeholder=\"Enter password\"\r\n        value={form.password}\r\n        onChange={changeHandler}\r\n        required\r\n      />\r\n      {warn.password ? (\r\n        <span className=\"form__warning\">{warn.password}</span>\r\n      ) : null}\r\n      <button className=\"form__btn\" onClick={submit}>\r\n        Log in\r\n      </button>\r\n      <NavLink to=\"/signup\" className=\"form__link\">\r\n        Sign up for an account\r\n      </NavLink>\r\n    </>\r\n  );\r\n});\r\n\r\nfunction RowLogin(props) {\r\n  const { dispatch, isLogged } = props;\r\n\r\n  const formDefault = {\r\n    username: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    displayName: '',\r\n    email: '',\r\n    className: ''\r\n  };\r\n\r\n  const [form, setForm] = useState(formDefault);\r\n  const [warn, setWarn] = useState(formDefault);\r\n\r\n  const sendRequest = async (data) => {\r\n    try {\r\n      await auth.login(data, dispatch);\r\n    } catch (e) {\r\n      throw e;\r\n    }\r\n  };\r\n\r\n  const { execute, loading, error } = useAsyncCallback(sendRequest);\r\n\r\n  const changeHandler = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    const { message, isValidated } = inputValidation(value, name);\r\n\r\n    // * onchange validation with toggling warnings by update local warnings state.\r\n    // * updating local form state after\r\n    if (!isValidated) {\r\n      setWarn({\r\n        ...warn,\r\n        [name]: message\r\n      });\r\n    } else {\r\n      setWarn({\r\n        ...warn,\r\n        [name]: ''\r\n      });\r\n    }\r\n\r\n    setForm({\r\n      ...form,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const submit = (e) => {\r\n    if (e && typeof e.preventDefault === 'function') e.preventDefault();\r\n\r\n    const { data, isValidated } = formValidation(form, type);\r\n\r\n    // * validation passed and there is no warnings\r\n    if (isValidated && Object.values(warn).every((message) => message === '')) {\r\n      execute(data);\r\n      setForm({\r\n        ...formDefault,\r\n        username: form.username\r\n      });\r\n    }\r\n    return;\r\n  };\r\n\r\n  if (isLogged === true) return <Redirect to=\"/profile\" />;\r\n\r\n  const bodyProps = {\r\n    warn,\r\n    form,\r\n    changeHandler,\r\n    submit\r\n  };\r\n\r\n  return (\r\n    <div className=\"form__container\">\r\n      <FormWrapper form={form} error={error} loading={loading}>\r\n        <FormBody {...bodyProps} />\r\n      </FormWrapper>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Login = connect(mapStateToProps, mapDispatchToProps)(RowLogin);\r\n\r\nexport { Login };\r\n","import { Redirect } from 'react-router-dom';\r\nimport { useState, memo } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useAsyncCallback } from 'react-async-hook';\r\n\r\nimport { FormWrapper } from '../../modules/formWrapper';\r\n\r\nimport {\r\n  formValidation,\r\n  inputValidation,\r\n  confirmValidation\r\n} from '../../utils/auth.form.validation';\r\n\r\n// ? type for validation fn\r\nimport { authFormTypeSignup as type } from '../../utils/constants';\r\n\r\nimport { auth } from '../../api/auth.api';\r\n\r\nimport './Signup.css';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isLogged: state.auth.isLogged\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    dispatch\r\n  };\r\n};\r\n\r\nconst FormBody = memo((props) => {\r\n  const { confirmBlur, warn, form, changeHandler, submit } = props;\r\n\r\n  return (\r\n    <>\r\n      <h3 className=\"form__heading\">Sign up for your account</h3>\r\n      <input\r\n        type=\"text\"\r\n        name=\"username\"\r\n        className=\"form__input\"\r\n        placeholder=\"Enter username\"\r\n        value={form.username}\r\n        onChange={changeHandler}\r\n        required\r\n        autoFocus\r\n      />\r\n      {warn.username ? (\r\n        <span className=\"form__warning\">{warn.username}</span>\r\n      ) : null}\r\n      <input\r\n        type=\"password\"\r\n        name=\"password\"\r\n        className=\"form__input\"\r\n        data-validatefor=\"confirmPassword\"\r\n        placeholder=\"Enter password\"\r\n        value={form.password}\r\n        onChange={changeHandler}\r\n        required\r\n      />\r\n      {warn.password ? (\r\n        <span className=\"form__warning\">{warn.password}</span>\r\n      ) : null}\r\n\r\n      <input\r\n        type=\"password\"\r\n        name=\"confirmPassword\"\r\n        data-validatefor=\"password\"\r\n        className=\"form__input\"\r\n        placeholder=\"Confirm password\"\r\n        value={form.confirmPassword}\r\n        onChange={changeHandler}\r\n        onBlur={confirmBlur}\r\n        required\r\n      />\r\n\r\n      {warn.confirmPassword ? (\r\n        <span className=\"form__warning\">{warn.confirmPassword}</span>\r\n      ) : null}\r\n\r\n      <input\r\n        type=\"text\"\r\n        name=\"displayName\"\r\n        className=\"form__input\"\r\n        placeholder=\"Enter Your full name\"\r\n        value={form.displayName}\r\n        onChange={changeHandler}\r\n        required\r\n      />\r\n      {warn.displayName ? (\r\n        <span className=\"form__warning\">{warn.displayName}</span>\r\n      ) : null}\r\n\r\n      <input\r\n        type=\"email\"\r\n        name=\"email\"\r\n        className=\"form__input\"\r\n        placeholder=\"Enter Your Email\"\r\n        value={form.email}\r\n        onChange={changeHandler}\r\n        required\r\n      />\r\n      {warn.email ? <span className=\"form__warning\">{warn.email}</span> : null}\r\n      <button className=\"form__btn\" onClick={submit}>\r\n        Sign up\r\n      </button>\r\n    </>\r\n  );\r\n});\r\n\r\nfunction RowSignup(props) {\r\n  const { isLogged, dispatch } = props;\r\n\r\n  const sendRequest = async (data) => {\r\n    try {\r\n      await auth.create(data, dispatch);\r\n    } catch (e) {\r\n      throw e;\r\n    }\r\n  };\r\n\r\n  const { execute, loading, error, status } = useAsyncCallback(sendRequest);\r\n\r\n  const formDefault = {\r\n    username: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    displayName: '',\r\n    email: '',\r\n    className: ''\r\n  };\r\n\r\n  const [form, setForm] = useState(formDefault);\r\n  const [warn, setWarn] = useState(formDefault);\r\n\r\n  const changeHandler = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    const { message, isValidated } = inputValidation(value, name);\r\n\r\n    // * onchange validation with toggling warnings by update local warnings state.\r\n    // * updating local form state after\r\n    if (!isValidated) {\r\n      setWarn({\r\n        ...warn,\r\n        [name]: message\r\n      });\r\n    } else {\r\n      setWarn({\r\n        ...warn,\r\n        [name]: ''\r\n      });\r\n    }\r\n\r\n    setForm({\r\n      ...form,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const confirmBlur = (e) => {\r\n    const {\r\n      name,\r\n      value,\r\n      dataset: { validatefor }\r\n    } = e.target;\r\n\r\n    // * onblur validation with toggling warnings by update local warnings state.\r\n    const { message, isValidated } = confirmValidation(\r\n      value,\r\n      form[validatefor]\r\n    );\r\n\r\n    if (!isValidated) {\r\n      setWarn({\r\n        ...warn,\r\n        [name]: message\r\n      });\r\n    } else {\r\n      setWarn({\r\n        ...warn,\r\n        [name]: ''\r\n      });\r\n    }\r\n  };\r\n\r\n  const submit = (e) => {\r\n    if (e && typeof e.preventDefault === 'function') e.preventDefault();\r\n\r\n    const { data, isValidated } = formValidation(form, type);\r\n\r\n    // * validation passed and there is no warnings\r\n    if (isValidated && Object.values(warn).every((message) => message === '')) {\r\n      execute?.(data);\r\n      setForm(formDefault);\r\n    }\r\n    return;\r\n  };\r\n\r\n  if (isLogged === true || status === 'success')\r\n    return <Redirect to=\"/profile\" />;\r\n\r\n  const bodyProps = { confirmBlur, warn, form, changeHandler, submit };\r\n\r\n  return (\r\n    <div className=\"form__container\">\r\n      <FormWrapper form={form} error={error} loading={loading}>\r\n        <FormBody {...bodyProps} />\r\n      </FormWrapper>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Signup = connect(mapStateToProps, mapDispatchToProps)(RowSignup);\r\n\r\nexport { Signup };\r\n","import { useRef } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useAsyncCallback } from 'react-async-hook';\r\nimport { board } from '../../api/board.api';\r\n\r\nimport { Process } from '../../modules/process';\r\n\r\nfunction BoardCard(props) {\r\n  const { _id, bg, deleteIco, title, bgChecker, dispatch } = props;\r\n  const navLinkRef = useRef(null);\r\n\r\n  const deleteBoardHandler = async (e) => {\r\n    try {\r\n      const { name } = e.target;\r\n      await board.delete(name, dispatch);\r\n    } catch (e) {\r\n      console.log('delete board err ', e);\r\n    }\r\n  };\r\n\r\n  const { execute, loading } = useAsyncCallback(deleteBoardHandler);\r\n\r\n  const boardRedirect = (e) => {\r\n    navLinkRef.current.click();\r\n  };\r\n\r\n  return loading ? (\r\n    <div className=\"board__card centeredContainer\">\r\n      <Process isShown={loading} />\r\n    </div>\r\n  ) : (\r\n    <div\r\n      className=\"board__card card_design\"\r\n      name={_id}\r\n      style={\r\n        bgChecker\r\n          ? {\r\n              backgroundImage: `url(${bg})`,\r\n              backgroundRepeat: 'no-repeat',\r\n              backgroundSize: 'cover'\r\n            }\r\n          : { background: bg }\r\n      }\r\n      title={title}\r\n    >\r\n      <NavLink to={`/board/${_id}`} ref={navLinkRef} hidden></NavLink>\r\n      <button className=\"close__btn\" onClick={execute} name={_id}>\r\n        <img\r\n          src={deleteIco}\r\n          name={_id}\r\n          alt=\"delete\"\r\n          className=\"menu__ico board__ico\"\r\n          title=\"Delete the board\"\r\n          draggable={false}\r\n        />\r\n      </button>\r\n      <button\r\n        className=\"form__btn card__btn\"\r\n        title=\"Go to the board\"\r\n        onClick={boardRedirect}\r\n      >\r\n        {title}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { BoardCard };\r\n\r\n/*\r\n\r\n? prev\r\n\r\nimport { useRef } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useAsyncCallback } from \"react-async-hook\";\r\nimport { board } from \"../../api/board.api\";\r\n\r\nimport { Process } from \"../../modules/process\";\r\n\r\nfunction BoardCard(props) {\r\n  const { _id, bg, deleteIco, title, bgChecker, dispatch } = props;\r\n  const navLinkRef = useRef(null);\r\n\r\n  const deleteBoardHandler = async (e) => {\r\n    try {\r\n      const { name } = e.target;\r\n      await board.delete(name, dispatch);\r\n    } catch (e) {\r\n      console.log(\"delete board err \", e);\r\n    }\r\n  };\r\n\r\n  const { execute, loading } = useAsyncCallback(deleteBoardHandler);\r\n\r\n  const boardRedirect = (e) => {\r\n    navLinkRef.current.click();\r\n  };\r\n\r\n  return loading ? (\r\n    <div className=\"board__card card_design\">\r\n      <Process isShown={loading} />\r\n    </div>\r\n  ) : (\r\n    <div\r\n      className=\"board__card card_design\"\r\n      name={_id}\r\n      style={\r\n        bgChecker\r\n          ? {\r\n              backgroundImage: `url(${bg})`,\r\n              backgroundRepeat: \"no-repeat\",\r\n              backgroundSize: \"cover\",\r\n            }\r\n          : { background: bg }\r\n      }\r\n      title={title}\r\n    >\r\n      <NavLink to={`/board/${_id}`} ref={navLinkRef} hidden></NavLink>\r\n      <button className=\"close__btn\" onClick={execute} name={_id}>\r\n        <img\r\n          src={deleteIco}\r\n          name={_id}\r\n          alt=\"delete\"\r\n          className=\"menu__ico board__ico\"\r\n          title=\"Delete the board\"\r\n          draggable={false}\r\n        />\r\n      </button>\r\n      <button\r\n        className=\"form__btn card__btn\"\r\n        title=\"Go to the board\"\r\n        onClick={boardRedirect}\r\n      >\r\n        {title}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { BoardCard };\r\n\r\n\r\n\r\n*/\r\n","import { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Children } from 'react';\r\n\r\nimport { useBodyColor } from '../../hooks/hooks';\r\nimport { BoardCard } from './BoardCard';\r\nimport { isLink } from '../../utils/helpers';\r\n\r\nimport deleteIco from '../../assets/plus.svg';\r\n\r\nimport './Profile.css';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isLogged: state.auth.isLogged,\r\n    boards: state.boards\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    dispatch\r\n  };\r\n};\r\n\r\nfunction RowProfile(props) {\r\n  const { isLogged, boards, dispatch } = props;\r\n  useBodyColor();\r\n\r\n  if (isLogged === false) return <Redirect to=\"login\" />;\r\n\r\n  return (\r\n    <div className=\"profile container\">\r\n      {Children.toArray(\r\n        boards.map((board) => {\r\n          const bgChecker = isLink(board.bg);\r\n\r\n          const boardProps = {\r\n            ...board,\r\n            deleteIco,\r\n            bgChecker,\r\n            dispatch\r\n          };\r\n          return <BoardCard {...boardProps} />;\r\n        })\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Profile = connect(mapStateToProps, mapDispatchToProps)(RowProfile);\r\n\r\nexport { Profile };\r\n","import { Board } from '../components/Board';\r\nimport { Login } from '../views/Login';\r\nimport { Signup } from '../views/Signup';\r\nimport { Profile } from '../views/Profile';\r\n\r\nconst publicRoutes = [\r\n  {\r\n    path: '/login',\r\n    component: Login\r\n  },\r\n  {\r\n    path: '/signup',\r\n    component: Signup\r\n  }\r\n];\r\n\r\nconst authenticatedRoutes = [\r\n  {\r\n    path: '/',\r\n    component: Profile\r\n  },\r\n  {\r\n    path: '/board/:id',\r\n    component: Board\r\n  },\r\n  {\r\n    path: '/profile',\r\n    component: Profile\r\n  }\r\n];\r\n\r\nexport { publicRoutes, authenticatedRoutes };\r\n","import { ListsWrapper } from './components/lists';\r\nimport { AddForm } from './components/addForm';\r\nimport { BoardHeader } from './components/boardHeader';\r\n\r\nimport './Board.css';\r\n\r\nfunction Board(props) {\r\n  const {\r\n    match: {\r\n      params: { id }\r\n    }\r\n  } = props;\r\n\r\n  return (\r\n    <section className=\"boards\">\r\n      <BoardHeader _boardId={id} />\r\n\r\n      <div className=\"container\">\r\n        <ListsWrapper _boardId={id} />\r\n        <AddForm _boardId={id} />\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport { Board };\r\n","import { Children } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport { publicRoutes, authenticatedRoutes } from './routes.js';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isLogged: state.auth.isLogged\r\n  };\r\n};\r\n\r\nfunction RowRouter(props) {\r\n  const { isLogged } = props;\r\n\r\n  return (\r\n    <Switch>\r\n      {isLogged === true\r\n        ? Children.toArray(\r\n            authenticatedRoutes.map((route) => {\r\n              const { path, component } = route;\r\n              return <Route exact path={path} component={component} />;\r\n            })\r\n          )\r\n        : null}\r\n\r\n      {Children.toArray(\r\n        publicRoutes.map((route) => {\r\n          const { path, component } = route;\r\n          return <Route exact path={path} component={component} />;\r\n        })\r\n      )}\r\n      <Redirect to=\"/login\" />\r\n    </Switch>\r\n  );\r\n}\r\n\r\nconst Router = connect(mapStateToProps, null)(RowRouter);\r\n\r\nexport { Router };\r\n","import { connect } from 'react-redux';\r\nimport { useAsync } from 'react-async-hook';\r\n\r\nimport { auth } from '../../api/auth.api';\r\n\r\nimport { Header } from '../../components/Header';\r\nimport { Router } from '../../routes/Router';\r\nimport { Process } from '../../modules/process';\r\n\r\nimport './App.css';\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    dispatch\r\n  };\r\n};\r\n\r\nfunction RowApp(props) {\r\n  const { dispatch } = props;\r\n\r\n  const { loading } = useAsync(auth.loginFromCache, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <div className=\"centeredContainer mt_10\">\r\n          <Process isShown={loading} />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <Header />\r\n          <main>{<Router />}</main>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nconst App = connect(null, mapDispatchToProps)(RowApp);\r\n\r\nexport { App };\r\n","import ReactDOM from \"react-dom\";\r\n\r\nimport { StrictMode } from \"react\";\r\nimport { createStore } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nimport { reducer } from \"./utils/main.reducer\";\r\n\r\nimport { addListenersForServerChanges } from \"./utils/helpers\";\r\n\r\nimport \"./index.css\";\r\n\r\nimport { App } from \"./views/App\";\r\n\r\nconst combineProviders = (providers) =>\r\n  providers.reduce((Ac, Prov) => {\r\n    return (args) => {\r\n      const { children, ...rest } = args;\r\n      return (\r\n        <Ac {...rest}>\r\n          <Prov>{children}</Prov>\r\n        </Ac>\r\n      );\r\n    };\r\n  });\r\n\r\nconst Providers = combineProviders([Provider, BrowserRouter]);\r\n\r\nconst store = createStore(reducer, composeWithDevTools());\r\naddListenersForServerChanges(store.dispatch);\r\n\r\nReactDOM.render(\r\n  <StrictMode>\r\n    <Providers store={store}>\r\n      <App />\r\n    </Providers>\r\n  </StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nwindow.onerror = (e) => {\r\n  console.log(\"window error\", e.message);\r\n};\r\n"],"sourceRoot":""}