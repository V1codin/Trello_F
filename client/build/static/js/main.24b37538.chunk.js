(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{132:function(e,t,n){},194:function(e,t){},199:function(e,t,n){},200:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){},242:function(e,t,n){},243:function(e,t,n){},247:function(e,t,n){},248:function(e,t,n){},249:function(e,t,n){},250:function(e,t,n){},251:function(e,t,n){},252:function(e,t,n){},253:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){},258:function(e,t,n){},259:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(56),c=n(54),s=n.n(c),o=n(1),i=n(41),u=n(7),l=n(134),d=n(12),b="LOGIN",j="LOGOUT",p="NEW_BOARD_CREATED",f="BOARD_DELETED",m="BOARD_PATCHED",h="GET_LISTS",O="GET_LISTS_AND_CARDS",g="NEW_LISTS_CREATED",v="LIST_DELETED",x="NEW_CARD_CREATED",_="CARD_DELETED",y="CARD_PATCHED",w="NOTE_DISMISSED",k="NOTE_RECEIVED",N={isLogged:!1,accessToken:"",authentication:{},user:{imageURL:""}};var C=n(13),E=[];var I=n(10),L=n(6),A=n(17),S=n(3),F=n.n(S),T=n(4),P=n(85),D=n.n(P),B=n(135),R=n.n(B),H=n(136),U=n.n(H),q=n(137),z=n.n(q),V="local",G=document.querySelector(".root"),$=[{name:"#003b5c",backgroundColor:"#003b5c"},{name:"#7e2861",backgroundColor:"#7e2861"},{name:"#27461c",backgroundColor:"#27461c"},{name:"#4e2118",backgroundColor:"#4e2118"}],M="https://trello-46.herokuapp.com",W={header:"Authorization",scheme:"Bearer",path:"/authentication",jwtStrategy:["jwt","local","google"],entity:"user",service:"users",cookie:"feathers-jwt",storageKey:"feathers-jwt",storage:window.localStorage},Y=U()(M,{reconnectionDelay:5e3,transports:["websocket"]});Y.on("connect_error",(function(e){console.log("connection error")}));var Z=D()();Z.configure(z()(Y)),Z.configure(R()(W)),Z.configure(D.a.authentication());var J=Z.service("users"),K=Z.service("boards"),X=Z.service("lists"),Q=Z.service("cards"),ee=Z.service("notifications"),te=function(e){return/^https:\/\/images\.unsplash\.com\/.{1,}/g.test(e)},ne=function(e){return new Promise((function(t,n){var r=document.createElement("img");r.src=e,r.onload=function(){return t(e)},r.onerror=function(e){n("Your link has no image")}}))},re=function(){var e=Object(T.a)(F.a.mark((function e(){var t,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.readText();case 3:if(t=e.sent,te(t)){e.next=6;break}return e.abrupt("return",Promise.reject("Your link has no image"));case 6:return e.next=8,ne(t);case 8:return n=e.sent,e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e.catch(0),console.log("e: ",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),ae=function(e,t){return e in t},ce=function e(t){var n=this;Object(A.a)(this,e),this.getSearchObject=function(){var e=n.query;return e?(/^[?#]/.test(e)?e.slice(1):e).split("&").reduce((function(e,t){var n=t.split("="),r=Object(L.a)(n,2),a=r[0],c=r[1];return e[a]=c?decodeURIComponent(c.replace(/\+/g," ")):"",e}),{}):{}},this.getAll=function(){return n.getSearchObject()},this.get=function(e){return n.getSearchObject()[e]},this.setUrl=function(e,t){var r=n.getSearchObject();return r[e]=t,Object.keys(r).map((function(e){return e+"="+r[e]})).join("&")},this.query=t},se={};var oe=[];var ie=[];var ue=Object(i.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case b:return Object(r.a)(Object(r.a)(Object(r.a)({},e),a),{},{isLogged:!0});case j:return N;default:return e}},boards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,a=t.boards,c=void 0===a?[]:a;switch(n){case p:return[].concat(Object(C.a)(e),[r]);case f:return e.filter((function(e){return e._id!==r}));case b:return Object(C.a)(c);case j:return E;case m:return[r].concat(Object(C.a)(e.filter((function(e){return e._id!==r._id}))));default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,c=t.cards;switch(n){case y:var s=e[a.listId].map((function(e){return e._id===a._id?a:e}));return Object(r.a)(Object(r.a)({},e),{},Object(I.a)({},a.listId,s));case g:return Object(r.a)(Object(r.a)({},e),{},Object(I.a)({},a._id,[]));case v:return a in e&&delete e[a],e;case _:var o=a.listId,i=a._id,u=ae(o,e);return u?Object(r.a)(Object(r.a)({},e),{},Object(I.a)({},o,e[o].filter((function(e){return e._id!==i})))):Object(r.a)({},e);case x:var l=a.listId,d=ae(l,e);return d?Object(r.a)(Object(r.a)({},e),{},Object(I.a)({},l,[].concat(Object(C.a)(e[l]),[a]))):Object(r.a)(Object(r.a)({},e),{},Object(I.a)({},l,[a]));case O:var b=c.reduce((function(e,t){var n=t.listId;return n in e?e[n].push(t):e[n]=[t],e}),{});return Object(r.a)(Object(r.a)({},e),b);default:return e}},lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,a=t.lists;switch(n){case v:return e[0]&&e[0].boardId===r.boardId?e.filter((function(e){return e._id!==r._id})):e;case h:return Object(C.a)(r);case O:return Object(C.a)(a);case g:return e[0]&&e[0].boardId===r.boardId||0===e.length?[].concat(Object(C.a)(e),[r]):e;default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,a=t.notes,c=void 0===a?[]:a;switch(n){case b:return[].concat(Object(C.a)(e),Object(C.a)(c));case j:return ie;case w:return e.filter((function(e){return e._id!==r._id}));case k:return[].concat(Object(C.a)(e),[r]);default:return e}}}),le=(n(199),n(9)),de=n(25),be=n(24),je=n(138),pe=function(){function e(){Object(A.a)(this,e)}return Object(je.a)(e,[{key:"handleError",value:function(e,t){switch(e.code){case 401:return"function"===typeof t&&t({type:j}),{message:"Invalid username or password",errorClass:e.className||""};case 408:return"function"===typeof t&&console.log("need dispatch in Error Handler"),{message:"Server doesn't respond",errorClass:e.className||""};case 409:return{message:"User with this parameters already exists",errorClass:e.className||""};case 4011:return{message:e.message,errorClass:e.className||""};default:return{message:"Unexpected error",errorClass:""}}}}]),e}(),fe=function(e){Object(de.a)(n,e);var t=Object(be.a)(n);function n(){var e;Object(A.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).create=function(){var t=Object(T.a)(F.a.mark((function t(n,r){var a,c,s,o,i=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K.create(n);case 3:for(a=t.sent,c=i.length,s=new Array(c>2?c-2:0),o=2;o<c;o++)s[o-2]=i[o];return s.forEach((function(e){"function"===typeof e&&e(a)})),t.abrupt("return",a);case 9:throw t.prev=9,t.t0=t.catch(0),console.log("create a board error",t.t0),e.handleError(t.t0,r);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}(),e.find=Object(T.a)(F.a.mark((function t(){var n,r,a,c,s,o,i,u=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:{},r=u.length>1?u[1]:void 0,t.prev=2,t.next=5,K.find(n);case 5:for(a=t.sent,c=u.length,s=new Array(c>2?c-2:0),o=2;o<c;o++)s[o-2]=u[o];return s.forEach((function(e){"function"===typeof e&&e(a)})),t.abrupt("return",a);case 11:throw t.prev=11,t.t0=t.catch(2),i=e.handleError(t.t0,r),console.log("find boards error",i),i;case 16:case"end":return t.stop()}}),t,null,[[2,11]])}))),e.delete=Object(T.a)(F.a.mark((function t(){var n,r,a,c,s,o,i,u=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:"",r=u.length>1?u[1]:void 0,t.prev=2,t.next=5,K.remove(n);case 5:for(a=t.sent,c=a._id,s=u.length,o=new Array(s>2?s-2:0),i=2;i<s;i++)o[i-2]=u[i];return o.forEach((function(e){"function"===typeof e&&e(c)})),t.abrupt("return",new Promise((function(e){return e("done")})));case 12:throw t.prev=12,t.t0=t.catch(2),console.log("delete a board error",t.t0),e.handleError(t.t0,r);case 17:case"end":return t.stop()}}),t,null,[[2,12]])}))),e.patch=function(){var t=Object(T.a)(F.a.mark((function t(n,r){var a,c,s,o,i,u,l=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=n.boardId,c=n.data,t.next=4,K.patch(a,c);case 4:for(s=t.sent,o=l.length,i=new Array(o>2?o-2:0),u=2;u<o;u++)i[u-2]=l[u];return i.forEach((function(e){"function"===typeof e&&e(s)})),t.abrupt("return",new Promise((function(e){return e("done")})));case 10:throw t.prev=10,t.t0=t.catch(0),console.log("patch a board error",t.t0),e.handleError(t.t0,r);case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}(),e}return n}(pe),me=new fe,he=function(e){Object(de.a)(n,e);var t=Object(be.a)(n);function n(){var e;Object(A.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).create=function(){var t=Object(T.a)(F.a.mark((function t(n,r){var a,c,s,o,i=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee.create(n);case 3:for(a=t.sent,c=i.length,s=new Array(c>2?c-2:0),o=2;o<c;o++)s[o-2]=i[o];return s.forEach((function(e){"function"===typeof e&&e(a)})),t.abrupt("return",a);case 9:throw t.prev=9,t.t0=t.catch(0),console.log("create a notification error",t.t0),e.handleError(t.t0,r);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}(),e.find=Object(T.a)(F.a.mark((function t(){var n,r,a,c,s,o,i,u=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:{},r=u.length>1?u[1]:void 0,t.prev=2,t.next=5,ee.find(n);case 5:for(a=t.sent,c=u.length,s=new Array(c>2?c-2:0),o=2;o<c;o++)s[o-2]=u[o];return s.forEach((function(e){"function"===typeof e&&e(a)})),t.abrupt("return",a);case 11:throw t.prev=11,t.t0=t.catch(2),i=e.handleError(t.t0,r),console.log("find notifications error",i),i;case 16:case"end":return t.stop()}}),t,null,[[2,11]])}))),e.delete=Object(T.a)(F.a.mark((function t(){var n,r,a,c,s,o,i,u=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:"",r=u.length>1?u[1]:void 0,t.prev=2,t.next=5,ee.remove(n);case 5:for(a=t.sent,c=a._id,s=u.length,o=new Array(s>2?s-2:0),i=2;i<s;i++)o[i-2]=u[i];return o.forEach((function(e){"function"===typeof e&&e(c)})),t.abrupt("return",new Promise((function(e){return e("done")})));case 12:throw t.prev=12,t.t0=t.catch(2),console.log("delete a board error",t.t0),e.handleError(t.t0,r);case 17:case"end":return t.stop()}}),t,null,[[2,12]])}))),e}return n}(pe),Oe=new he,ge=function(e){Object(de.a)(n,e);var t=Object(be.a)(n);function n(){var e;Object(A.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).login=function(){var t=Object(T.a)(F.a.mark((function t(n,a){var c,s,o,i,u,l,d,j,p=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([Z.authenticate(Object(r.a)({strategy:V},n)),me.find(),Oe.find()]);case 3:for(c=t.sent,s=Object(L.a)(c,3),o=s[0],i=s[1],u=s[2],console.log("payload: ",o),l=p.length,d=new Array(l>2?l-2:0),j=2;j<l;j++)d[j-2]=p[j];return d.forEach((function(e){"function"===typeof e&&e(o,i.data)})),a({type:b,payload:o,boards:i.data,notes:u.data}),t.abrupt("return",o);case 15:throw t.prev=15,t.t0=t.catch(0),e.handleError(t.t0,a);case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,n){return t.apply(this,arguments)}}(),e.logout=function(){var t=Object(T.a)(F.a.mark((function t(n){var r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.logout();case 3:return r=t.sent,n({type:j}),t.abrupt("return",r);case 8:throw t.prev=8,t.t0=t.catch(0),e.handleError(t.t0,n);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),e.create=function(){var t=Object(T.a)(F.a.mark((function t(n){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J.create(Object(r.a)(Object(r.a)({},n),{},{strategy:V}));case 3:return a=t.sent,t.abrupt("return",a);case 7:throw t.prev=7,t.t0=t.catch(0),e.handleError(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),e.loginFromCache=function(){var t=Object(T.a)(F.a.mark((function t(n){var r,a,c,s,o,i;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("string"===typeof(r=window.localStorage.getItem("feathers-jwt"))&&r.length>0)){t.next=16;break}return t.prev=2,t.next=5,Promise.all([Z.reAuthenticate(),me.find(),Oe.find()]);case 5:a=t.sent,c=Object(L.a)(a,3),s=c[0],o=c[1],i=c[2],n({type:b,payload:s,boards:o.data,notes:i.data}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),console.log(e.handleError(t.t0));case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}(),e.getBoardMembersInfo=Object(T.a)(F.a.mark((function t(){var n,r,a,c,s,o,i=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:[],t.prev=1,t.next=4,J.find({query:{_id:{$in:n}}});case 4:for(r=t.sent,a=r.data,c=i.length,s=new Array(c>1?c-1:0),o=1;o<c;o++)s[o-1]=i[o];return s.forEach((function(e){"function"===typeof e&&e(a)})),t.abrupt("return",a);case 11:throw t.prev=11,t.t0=t.catch(1),e.handleError(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,11]])}))),e.getUsersFromRegex=Object(T.a)(F.a.mark((function t(){var n,r,a,c,s,o,i=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:"",t.prev=1,t.next=4,J.find({query:{nameAlias:{$regex:n,$options:"gi"}}});case 4:for(r=t.sent,a=r.data,c=i.length,s=new Array(c>1?c-1:0),o=1;o<c;o++)s[o-1]=i[o];return s.forEach((function(e){"function"===typeof e&&e(a)})),t.abrupt("return",a);case 11:throw t.prev=11,t.t0=t.catch(1),e.handleError(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,11]])}))),e}return n}(pe),ve=new ge,xe=n(263),_e=n(261),ye=n(262),we=(n(200),n(0)),ke=Object(xe.a)({sources:[_e.a,ye.a]});function Ne(e){var t=e.imgLink,n=e.name,r=e.size,a=e.classList;return Object(we.jsx)(we.Fragment,{children:""===t?Object(we.jsx)(ke,{alt:"avatar",round:!0,name:n,className:"avatar colored unselectable ".concat(a.join(" ")),size:r,maxInitials:2}):Object(we.jsx)(ke,{alt:"avatar",round:!0,src:t,name:n,className:"avatar ".concat(a.join(" ")),size:r,maxInitials:2})})}Ne.defaultProps={imgLink:"",name:"",size:40,classList:[]};var Ce=Object(u.b)((function(e){return{displayName:e.auth.user.displayName,imgLink:e.auth.user.imageURL}}),null)((function(e){var t=e.imgLink,n=e.displayName,r=e.click;return Object(we.jsx)(we.Fragment,{children:Object(we.jsx)("button",{className:"avatar_btn",name:"account",onClick:function(e){e.target.name="account",r(e)},children:Object(we.jsx)(Ne,{imgLink:t,name:n})})})})),Ee=n(36),Ie=n(141),Le=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=Object(o.useCallback)((function(t){var r;("click"===t.type&&!(null===(r=e.current)||void 0===r?void 0:r.contains(t.target))||"keydown"===t.type&&"Escape"===t.code)&&n.forEach((function(e){return e()}))}),[e,n]);Object(o.useEffect)((function(){return document.addEventListener("click",a,{capture:!0}),document.addEventListener("keydown",a),function(){document.removeEventListener("click",a,{capture:!0}),document.removeEventListener("keydown",a)}}),[])},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=G,n=te(e);Object(o.useEffect)((function(){return n?(t.style.background="",t.style.backgroundRepeat="no-repeat",t.style.backgroundSize="cover",t.style.backgroundImage="url(".concat(e,")")):(t.style.backgroundImage="none",t.style.background=e),function(){t.style.background="",t.style.backgroundRepeat="no-repeat",t.style.backgroundSize="cover",t.style.backgroundImage=""}}),[e,n,t])},Se=function(e){var t=Object(r.a)(Object(r.a)({},e),{},{isAddForm:!1}),n=Object(o.useState)(t),a=Object(L.a)(n,2),c=a[0],s=a[1];return{isAddForm:c.isAddForm,formToggle:function(){s(Object(r.a)(Object(r.a)({},t),{},{isAddForm:!c.isAddForm}))},setFormState:s,changeHandler:function(e){var t=e.target.value;s(Object(r.a)(Object(r.a)({},c),{},{name:t}))},formState:c}},Fe=n.p+"static/media/plus.c40a22da.svg";n(240);function Te(e){var t,n=e.toggle,r=e.heading,a=e.popupBody;return Object(we.jsxs)("section",{className:"board_popup card_design ".concat(null===(t=e.classList)||void 0===t?void 0:t.join(" ")),children:[Object(we.jsxs)("header",{className:"popup__header",children:[Object(we.jsx)("h4",{className:"popup__article unselectable",children:r}),Object(we.jsx)("button",{className:"close__btn",onClick:n,children:Object(we.jsx)("img",{src:Fe,alt:"close",className:"menu__ico board__ico",title:"Close the dropdown",draggable:!1})})]}),a&&Object(we.jsx)("ul",{className:"popup__body body_shape",children:a})]})}Te.defaultProps={toggle:function(){return null},heading:"Heading",popupBody:null,classList:[]};n(132);var Pe=function(e){var t=e.initBoardCreationForm;return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)("li",{className:"list__body_mt5",children:Object(we.jsxs)("button",{className:"popup__body__el",onClick:t,children:[Object(we.jsx)("span",{className:"el__span",children:"Create a board"}),Object(we.jsx)("p",{className:"el__article",children:"A board is made up of cards ordered on lists. Use it to manage projects, track information, or organize anything."})]})}),Object(we.jsx)("li",{className:"list__body_mt5",children:Object(we.jsxs)("button",{className:"popup__body__el",children:[Object(we.jsx)("span",{className:"el__span",children:"Start with template"}),Object(we.jsxs)("p",{className:"el__article",children:["Get started faster with a board template."," ",Object(we.jsx)("span",{style:{color:"var(--pink)"},children:"(not implemented)"})]})]})}),Object(we.jsx)("li",{className:"list__body_mt5",children:Object(we.jsxs)("button",{className:"popup__body__el",children:[Object(we.jsx)("span",{className:"el__span",children:"Create a workspace"}),Object(we.jsxs)("p",{className:"el__article",children:["A Workspace is a group of boards and people. Use it to organize your company, side hustle, family, or friends."," ",Object(we.jsx)("span",{style:{color:"var(--pink)"},children:"(not implemented)"})]})]})})]})};function De(e){var t=e.toggle,n=e.initBoardCreationForm,a=Object(o.useContext)(jt);Le(a,t);var c={toggle:t,heading:"Create",classList:["add"],popupBody:Pe({initBoardCreationForm:n})};return Object(we.jsx)(Te,Object(r.a)({},c))}var Be,Re=[{url:n.p+"static/media/info_img1.7babde8d.jpg",title:"Falling down is an accident, staying down is a choice.",changeTipTitle:"Get a new tip"},{url:n.p+"static/media/info_img2.72a6f499.jpg",title:"Tough times don't last, tough people do.",changeTipTitle:"Get a new tip"},{url:n.p+"static/media/info_img3.7521a109.jpg",title:"Stay in touch.",changeTipTitle:"Get a new tip"},{url:n.p+"static/media/info_img4.50a2ad3c.jpg",title:"Strive for progress not perfection.",changeTipTitle:"Get a new tip"},{url:n.p+"static/media/info_img5.4a863af5.jpg",title:"Don't look back, you're not going that way.",changeTipTitle:"Get a new tip"}],He=function(e){var t=e.url,n=e.changeTip,r=e.title,a=e.changeTipTitle;return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)("li",{className:"list__body_mt5",children:Object(we.jsx)("div",{className:"popup__body__el",children:Object(we.jsx)("img",{src:t,alt:"info",className:"info__image card_design",onClick:n})})}),Object(we.jsx)("li",{className:"list__body_mt5",children:Object(we.jsx)("span",{className:"el__span",children:r})}),Object(we.jsx)("li",{className:"list__body_mt5",children:Object(we.jsx)("button",{className:"popup__body__el ta_center",onClick:n,children:Object(we.jsx)("span",{className:"el__span",children:a})})})]})};function Ue(e){var t=e.toggle,n=Object(o.useContext)(jt),a=Object(o.useState)(0),c=Object(L.a)(a,2),s=c[0],i=c[1];Le(n,t);var u={toggle:t,heading:"Information",popupBody:He(Object(r.a)(Object(r.a)({},Re[s]),{},{changeTip:function(){i((function(e){return e>=Re.length-1?0:++e}))}}))};return Object(we.jsx)(Te,Object(r.a)({},u))}var qe=["title","titleId"];function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}function Ve(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ge(e,t){var n=e.title,r=e.titleId,a=Ve(e,qe);return o.createElement("svg",ze({id:"emjy2Mkp6Pu1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 1280 960",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",ref:t,"aria-labelledby":r},a),n?o.createElement("title",{id:r},n):null,Be||(Be=o.createElement("path",{id:"pulse",d:"M138.774788,525.1L249.619634,525.1C280.87182,530.241949,285.441826,485.92911,305.024186,458C318.016939,432.869438,326.903049,480.286264,345.027472,511.5C367.939797,585.323914,377.942191,346.526452,406.932558,193.636824L442.11543,662.410427C450.96695,749.537551,463.164,597.194597,478.53844,502C482.701446,470.032335,490.271629,490.15355,507.040782,511.5C526.563185,540.794177,523.3733,437.840898,539.64346,383.5C557.984866,320.331274,563.137252,452.873029,590.847667,527.2C602.907028,568.704217,610.469762,517.233724,623.250329,502C631.541501,488.549917,634.93232,505.478295,645.552161,517.4C680.193567,539.085026,619.158175,528.527658,756.480965,531.937821",transform:"matrix(1.225226 0 0 1.098308 132.15959 -27.128883)",fill:"none",strokeLinecap:"round"})))}var $e=o.forwardRef(Ge);n.p,n(241);function Me(e){var t=e.isShown,n=null===e||void 0===e?void 0:e.styles;return!0===t?Object(we.jsx)("div",{className:"wrapper",style:Object(r.a)({},n),children:Object(we.jsx)("div",{className:"spinner",children:Object(we.jsx)($e,{})})}):null}Me.defaultProps={isShown:!1};n(242);var We=Object(o.memo)((function(e){var t=e.closeFn;return Object(we.jsx)("button",{className:"close__btn btn_static btn_ml10",onClick:t,children:Object(we.jsx)("img",{src:Fe,alt:"close",className:"board__ico",title:"close",draggable:!1})})}));function Ye(e){var t,n,r=e.submit,a=e.btnText,c=e.loading;if("closeBtn"===e.type)return Object(we.jsx)(We,{closeFn:r});return Object(we.jsx)("section",{className:"progress__btn__section ".concat(null===e||void 0===e||null===(t=e.classList)||void 0===t?void 0:t.join(" ")),children:Object(we.jsx)("button",{className:"innerCreate__btn sec__btn card_design ".concat(null===e||void 0===e||null===(n=e.btnClassList)||void 0===n?void 0:n.join(" ")),onClick:r,disabled:c,children:c?Object(we.jsx)(Me,{isShown:c,styles:{margin:0,width:35,height:35}}):Object(we.jsx)("span",{className:"btn__span",children:a})})})}Ye.defaultProps={submit:function(){return null},btnText:"Button",loading:!1,classList:[],btnClassList:[],type:"btn"};n(243);var Ze=function(e){var t=e.type,n=e.submitProps,a=e.closeFn;switch(t){case"info":return Object(we.jsx)(Ye,{submit:a,type:"closeBtn"});case"invite":return Object(we.jsxs)("section",{className:"note__btns",children:[Object(we.jsx)(Ye,Object(r.a)({},n)),Object(we.jsx)(Ye,{submit:a,type:"closeBtn"})]});default:return null}};function Je(e){var t=e.type,n=e.text,a=e._id,c=e.inviteToBoardId,s=e.userId,o=e.toggle,i=function(){var e=Object(T.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oe.delete(a,null);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("delete note error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(T.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.patch({boardId:c,data:{type:"accept",accepterId:s}});case 3:o(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("accept invitation to board",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),l=Object(le.c)(i),d=Object(le.c)(u),b={type:t,submitProps:{btnText:"Agree",btnClassList:["btn_small"],submit:d.execute,loading:d.loading},closeFn:l.execute};return Object(we.jsx)("li",{className:"list__body_mt5",children:Object(we.jsxs)("div",{className:"note__list__el body_row jc_sb",children:[Object(we.jsx)("span",{className:"el__span note__span ".concat(t),children:n}),Object(we.jsx)(Ze,Object(r.a)({},b))]})})}Ze.defaultProps={closeFn:function(){return null},submitProps:{submit:function(){return null},loading:!1,btnText:"Agree",btnClassList:["btn_small"]}},Je.defaultProps={type:"info",text:"Unhandled notification",_id:""};var Ke=function(e){var t=e.notes,n=e.userId,a=e.toggle;return t.length>0?o.Children.toArray(t.map((function(e){return Object(we.jsx)(Je,Object(r.a)(Object(r.a)({},e),{},{userId:n,toggle:a}))}))):null};function Xe(e){var t=e.toggle,n=e.notes,a=e.userId,c=Object(o.useContext)(jt);Le(c,t);var s={toggle:t,heading:"Notifications",classList:["note"],popupBody:Ke({notes:n,userId:a,toggle:t})};return Object(we.jsx)(Te,Object(r.a)({},s))}var Qe=n(11),et=Object(o.memo)((function(e){var t=e.imageURL,n=e.displayName,r=e.email,a=e.click,c=e.isDisabled,s=e.classList,o=e.innerBody;return Object(we.jsx)(we.Fragment,{children:Object(we.jsxs)("button",{className:"popup__body__el body_row userInfo ".concat(s.join(" ")),onClick:a,disabled:c,children:[o(),Object(we.jsx)(Ne,{imgLink:t,name:n}),Object(we.jsxs)("div",{className:"account__el",children:[Object(we.jsx)("span",{className:"el__span",children:n}),Object(we.jsx)("span",{className:"span_email",children:r})]})]})})}));et.defaultProps={imageURL:"",displayName:"",email:"",click:function(){},isDisabled:!1,classList:[],innerBody:function(){return null}};var tt=["logoutHandler"],nt=function(e){var t=e.logoutHandler,n=Object(a.a)(e,tt);return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)("li",{className:"list__body_mt5",children:Object(we.jsx)(et,Object(r.a)({},n))}),Object(we.jsx)("li",{className:"list__body_mt5",children:Object(we.jsx)("button",{className:"popup__body__el",onClick:t,children:Object(we.jsx)("span",{className:"el__span",children:"Log out"})})})]})};var rt=Object(u.b)((function(e){return{userInfo:e.auth.user}}),(function(e){return{dispatch:e}}))((function(e){var t=e.toggle,n=e.dispatch,a=e.userInfo,c=Object(o.useContext)(jt),s=Object(Qe.g)();Le(c,t);var i=function(){var e=Object(T.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.logout(n);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Logout error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),u={toggle:t,heading:"Account",classList:["account"],popupBody:nt(Object(r.a)(Object(r.a)({},a),{},{click:function(){s.push("/"),t()},logoutHandler:i}))};return Object(we.jsx)(Te,Object(r.a)({},u))})),at=(n(247),Object(o.memo)((function(e){var t=e.message,n=e.errorClass;return Object(we.jsx)("div",{className:"container error ".concat(n),children:Object(we.jsx)("h4",{children:t})})})));at.defaultProps={message:"Unhandled Error",errorClass:""};n(248);function ct(e){var t,n,a=e.children,c=e.form,s=e.loading,i=e.error,u=Object(o.useState)(null),l=Object(L.a)(u,2),d=l[0],b=l[1],j=c.className&&""!==c.className?"form ".concat(s?"loading":"card_design"," ").concat(c.className):"form ".concat(s?"loading":"card_design"),p=""!==(null===e||void 0===e||null===(t=e.form)||void 0===t?void 0:t.bg)?{backgroundColor:null===e||void 0===e||null===(n=e.form)||void 0===n?void 0:n.bg}:""!==e.form.link?{backgroundImage:"url(".concat(e.form.link,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}:null;return Object(o.useEffect)((function(){if(i)return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];e.apply(void 0,r);var c=setTimeout((function(){e(null)}),t);return function(){clearTimeout(c),e(null)}}(b,3e3,i)}),[i]),Object(we.jsxs)("form",Object(r.a)(Object(r.a)({className:j,style:p,onSubmit:function(e){e.preventDefault()}},null===e||void 0===e?void 0:e.containerAttrs),{},{children:[d?Object(we.jsx)(at,Object(r.a)({},d)):null,s?Object(we.jsx)(Me,{isShown:s}):a]}))}ct.defaultProps={children:{},loading:!1,error:null};n(249);function st(e){var t,n=e.renderBody;return Object(we.jsx)("section",{className:"overlay ".concat(null===e||void 0===e||null===(t=e.classList)||void 0===t?void 0:t.join(" ")),children:n()})}st.defaultProps={renderBody:function(){return null},classList:[]};var ot=n.p+"static/media/link.bf0e1ea5.svg",it=Object(o.memo)((function(e){var t=e.form,n=e.changeHandler,r=e.submit;return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)("h3",{className:"form__heading",children:"Add board"}),Object(we.jsx)("input",{type:"text",name:"title",className:"form__input",placeholder:"Enter board title",value:t.title,onChange:n,required:!0,autoFocus:!0}),Object(we.jsxs)("ul",{className:"form__colorPicker",children:[o.Children.toArray($.map((function(e){var t=e.backgroundColor;return Object(we.jsx)("li",{children:Object(we.jsx)("button",{className:"colorPicker__el card_design",style:{backgroundColor:t},onClick:n,value:t,name:"bg"})})}))),Object(we.jsx)("li",{children:Object(we.jsx)("button",{className:"menu__btn card_design menu_linkBg",onClick:n,name:"link",children:Object(we.jsx)("img",{src:ot,alt:"link bg",className:"menu__ico",name:"link",title:"Get link of the background from clipboard"})})}),Object(we.jsx)("li",{children:Object(we.jsx)("input",{className:"colorPicker__el card_design",name:"bg",type:"color",style:{backgroundColor:"#ffffffb0"},onChange:n})})]}),Object(we.jsx)("button",{className:"form__btn",onClick:r,disabled:""===t.title||void 0===t.title,children:"Create Board"})]})}));var ut=Object(u.b)(null,(function(e){return{dispatch:e}}))((function(e){var t=e.overlayHandler,n=e.dispatch,a=Object(o.useRef)(null),c={ref:a};Le(a,(function(){return t(!1)}));var s=Object(o.useState)({bg:"#091921",title:"",link:""}),i=Object(L.a)(s,2),u=i[0],l=i[1],d=function(){var e=Object(T.a)(F.a.mark((function e(r){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&"function"===typeof r.preventDefault&&r.preventDefault(),""===u.title){e.next=7;break}return u.bg=u.bg||u.link,e.next=5,me.create(u,n,(function(){return t(!1)}));case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=Object(le.c)(d),j=b.execute,p=b.loading,f=b.error,m=b.status,h=function(){var e=Object(T.a)(F.a.mark((function e(t){var n,a,c,s;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"function"===typeof t.preventDefault&&t.preventDefault(),n=t.target,a=n.name,c=n.value,"link"!==a){e.next=8;break}return e.next=5,re();case 5:return s=e.sent,l(Object(r.a)(Object(r.a)({},u),{},{bg:"",link:s})),e.abrupt("return");case 8:u[a]!==c&&l(Object(r.a)(Object(r.a)({},u),{},Object(I.a)({},a,c)));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O={form:u,changeHandler:h,submit:j};return Object(we.jsx)(st,{renderBody:function(){return Object(we.jsx)(ct,{form:u,error:f,loading:p,containerAttrs:c,children:"success"===m?Object(we.jsx)(Qe.a,{to:"/profile"}):Object(we.jsx)(it,Object(r.a)({},O))})}})})),lt=n.p+"static/media/info.851eea7f.svg",dt=n.p+"static/media/notification.b5905960.svg";n(250);var bt=Object(u.b)((function(e){return{notifications:e.notes,userId:e.auth.user._id}}),null)((function(e){var t=e.notifications,n=e.userId,a={add:!1,info:!1,note:!1,account:!1},c=Object(o.useState)(a),s=Object(L.a)(c,2),i=s[0],u=s[1],l=Object(o.useState)(!1),d=Object(L.a)(l,2),b=d[0],j=d[1],p=function(e){var t=e.target.name;u(Object(r.a)(Object(r.a)({},a),{},Object(I.a)({},t,!i[t])))};return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)("button",{className:"menu__btn",name:"add",onClick:p,title:"Create",children:Object(we.jsx)("img",{src:Fe,alt:"add",className:"menu__ico",name:"add"})}),i.add&&Object(we.jsx)(De,{toggle:function(){return u(Object(r.a)(Object(r.a)({},a),{},{add:!i.add}))},initBoardCreationForm:function(){j(!0),u(a)}}),Object(we.jsx)("button",{className:"menu__btn",name:"info",onClick:p,title:"Information",children:Object(we.jsx)("img",{src:lt,alt:"info",className:"menu__ico",name:"info"})}),i.info&&Object(we.jsx)(Ue,{toggle:function(){return u(Object(r.a)(Object(r.a)({},a),{},{info:!i.info}))}}),Object(we.jsxs)("button",{className:"menu__btn",name:"note",onClick:p,title:"Notifications",children:[t.length>0?Object(we.jsx)("div",{className:"badges",children:t.length>=99?99:t.length}):null,Object(we.jsx)("img",{src:dt,alt:"notification",className:"menu__ico",name:"note"})]}),i.note&&Object(we.jsx)(Xe,{toggle:function(){return u(Object(r.a)(Object(r.a)({},a),{},{note:!i.note}))},notes:t,userId:n}),Object(we.jsx)(Ce,{click:p}),i.account&&Object(we.jsx)(rt,{toggle:function(){return u(Object(r.a)(Object(r.a)({},a),{},{account:!i.account}))}}),b&&Object(we.jsx)(ut,{overlayHandler:j})]})})),jt=Object(o.createContext)(null);function pt(){var e=Object(o.useRef)(null);return Object(we.jsx)(jt.Provider,{value:e,children:Object(we.jsx)("nav",{className:"userSection",ref:e,children:Object(we.jsx)(bt,{})})})}n(251);var ft=Object(o.memo)((function(e){var t=e.isLogged,n=Object(o.useRef)(null),r=Object(o.useRef)(null);return Object(we.jsxs)("header",{className:"header unselectable",children:[Object(we.jsx)(d.b,{to:"/",className:"header__link",activeClassName:"",children:Object(we.jsx)("h1",{className:"header__article",children:"TrelloF"})}),!1===t?Object(we.jsxs)("div",{className:"header__log",children:[Object(we.jsx)(d.b,{to:"/login",ref:n,tabIndex:"-1",children:Object(we.jsx)("button",{className:"log__btn",onClick:function(){return n.current.click()},children:"Log in"})}),Object(we.jsx)(d.b,{to:"/signup",ref:r,tabIndex:"-1",children:Object(we.jsx)("button",{className:"log__btn log__btn_sign",onClick:function(){return r.current.click()},children:"Sign up"})})]}):Object(we.jsx)(pt,{})]})}));var mt=Object(u.b)((function(e){return{isLogged:e.auth.isLogged}}),null)((function(e){var t=e.isLogged;return Object(we.jsx)(ft,{isLogged:t})})),ht=function(e){Object(de.a)(n,e);var t=Object(be.a)(n);function n(){var e;Object(A.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).create=function(){var t=Object(T.a)(F.a.mark((function t(n,r){var a,c,s,o,i=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X.create(n);case 3:for(a=t.sent,c=i.length,s=new Array(c>2?c-2:0),o=2;o<c;o++)s[o-2]=i[o];return s.forEach((function(e){"function"===typeof e&&e(a)})),t.abrupt("return",a);case 9:throw t.prev=9,t.t0=t.catch(0),console.log("create a list error",t.t0),e.handleError(t.t0,r);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}(),e.find=function(){var t=Object(T.a)(F.a.mark((function t(n,r){var a,c,s,o,i=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X.find({query:{props:n}});case 3:for(a=t.sent,c=i.length,s=new Array(c>2?c-2:0),o=2;o<c;o++)s[o-2]=i[o];return s.forEach((function(e){"function"===typeof e&&e(a.data)})),t.abrupt("return",a.data);case 9:throw t.prev=9,t.t0=t.catch(0),console.log("find a list error",t.t0),e.handleError(t.t0,r);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}(),e.delete=function(){var t=Object(T.a)(F.a.mark((function t(n,r){var a,c,s,o=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X.remove({_id:n});case 3:for(a=o.length,c=new Array(a>2?a-2:0),s=2;s<a;s++)c[s-2]=o[s];return c.forEach((function(e){"function"===typeof e&&e(n)})),t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),console.log("delete list error",t.t0),e.handleError(t.t0,r);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}(),e}return n}(pe),Ot=new ht,gt=function(e){Object(de.a)(n,e);var t=Object(be.a)(n);function n(){var e;Object(A.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).create=function(){var t=Object(T.a)(F.a.mark((function t(n,r){var a,c,s,o,i=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.create(n);case 3:for(a=t.sent,c=i.length,s=new Array(c>2?c-2:0),o=2;o<c;o++)s[o-2]=i[o];return s.forEach((function(e){"function"===typeof e&&e(a)})),t.abrupt("return",a);case 9:throw t.prev=9,t.t0=t.catch(0),console.log("create a card error",t.t0),e.handleError(t.t0,r);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}(),e.find=function(){var t=Object(T.a)(F.a.mark((function t(n,r){var a,c,s,o,i,u=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.find({query:{props:n}});case 3:for(a=t.sent,c=a.data,s=u.length,o=new Array(s>2?s-2:0),i=2;i<s;i++)o[i-2]=u[i];return o.forEach((function(e){"function"===typeof e&&e(c)})),t.abrupt("return",c);case 10:throw t.prev=10,t.t0=t.catch(0),console.log("find a card error",t.t0),e.handleError(t.t0,r);case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}(),e.delete=function(){var t=Object(T.a)(F.a.mark((function t(n,r){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.remove({_id:n});case 3:return t.abrupt("return",n);case 6:throw t.prev=6,t.t0=t.catch(0),console.log("delete card error",t.t0),e.handleError(t.t0,r);case 11:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}(),e.patch=function(){var t=Object(T.a)(F.a.mark((function t(n,r,a){var c;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.patch(r,n);case 3:return c=t.sent,t.abrupt("return",c);case 7:throw t.prev=7,t.t0=t.catch(0),console.log("patch card error",t.t0),e.handleError(t.t0,a);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n,r){return t.apply(this,arguments)}}(),e}return n}(pe),vt=new gt;function xt(e){var t=e.textAreaHeight,n=e.name,r=e.toggleOverlay,a=e.removeCard,c=e.patchCard,s=Object(o.useState)({name:n,textAreaHeight:t}),i=Object(L.a)(s,2),u=i[0],l=i[1],d=Object(o.useRef)(null);Le(d,r);var b=Object(le.c)(Object(T.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===(t=u.name)||" "===t){e.next=4;break}return e.next=4,c(t);case 4:case"end":return e.stop()}}),e)}))));return Object(we.jsxs)("section",{className:"edit__card",ref:d,children:[Object(we.jsxs)("div",{className:"edit__container",children:[Object(we.jsx)("textarea",{onChange:function(e){var t=e.target.value,n=t.length>60?Math.round(1.19*t.length):75;l({textAreaHeight:n,name:t})},onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},className:"card__text card_textarea",defaultValue:u.name,autoFocus:!0,onFocus:function(e){return e.target.select()},style:{height:"".concat(u.textAreaHeight,"px")}}),Object(we.jsx)("section",{className:"edit__controls",children:Object(we.jsx)(Ye,{submit:a,btnText:"Remove",loading:!1,btnClassList:["control__btn"]})})]}),Object(we.jsx)(Ye,{submit:b.execute,btnText:"Save",loading:b.loading,classList:["edit__submit__section"]})]})}var _t=n.p+"static/media/edit.0df1dbd3.svg";n(252);function yt(e){var t,n=e.removeCard,a=e.card,c=a.name,s=a._id,i=Object(o.useState)(!1),u=Object(L.a)(i,2),l=u[0],d=u[1],b=Object(o.useRef)(null),j=Object(o.useCallback)(function(){var t=Object(T.a)(F.a.mark((function t(n){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vt.patch(Object(r.a)(Object(r.a)({},e.card),{},{name:n}),s);case 3:return a=t.sent,d(!1),t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(0),console.log("card edit error",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),[e.card,s]),p=function(){d((function(e){return!e}))},f={textAreaHeight:(null===b||void 0===b||null===(t=b.current)||void 0===t?void 0:t.scrollHeight)+20,name:c,toggleOverlay:p,removeCard:n,patchCard:j};return Object(we.jsx)(we.Fragment,{children:Object(we.jsx)("div",{className:"card",children:l?Object(we.jsx)(we.Fragment,{children:Object(we.jsx)(xt,Object(r.a)({},f))}):Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)("span",{className:"card__text unselectable",ref:b,children:c}),Object(we.jsx)("button",{className:"menu__btn edit__btn",title:"Edit the card",onClick:p,children:Object(we.jsx)("img",{src:_t,alt:"edit",className:"menu__ico edit__ico"})})]})})})}var wt=Object(o.memo)((function(e){var t=e.inputPlaceholder,n=e.changeHandler,r=e.submit,a=e.closeFn,c=e.btnText,s=e.loading,o=e.btnClassList,i=e.classList;return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)("input",{type:"text",name:"list_name",className:"form__input add__list__input",placeholder:t,onChange:n,autoFocus:!0}),Object(we.jsxs)("div",{className:"add__list__btns",children:[Object(we.jsx)(Ye,{submit:r,btnText:c,loading:s,btnClassList:o,classList:i}),Object(we.jsx)(Ye,{type:"closeBtn",submit:a})]})]})}));function kt(e){var t=e._id,n=e.boardId,a=Se({className:"p_5",name:"",listId:t,boardId:n}),c=a.isAddForm,s=a.formToggle,o=a.changeHandler,i=a.formState,l=Object(u.c)(),d=function(){var e=Object(T.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"function"===typeof t.preventDefault&&t.preventDefault(),""!==i.name&&" "!==i.name){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,vt.create(i,l);case 6:s(),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(3),console.log("create card error",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),b=Object(Ee.a)(d,1e3),j=Object(le.c)(b),p=j.execute,f=j.loading,m={inputPlaceholder:"Enter a title for the card",changeHandler:o,submit:p,closeFn:s,btnText:"Add card",loading:f};return Object(we.jsx)("div",{className:"list__body",children:c?Object(we.jsx)(ct,{form:i,children:Object(we.jsx)(wt,Object(r.a)({},m))}):Object(we.jsxs)("button",{className:"add__toggler card_design",onClick:s,children:[Object(we.jsx)("img",{src:Fe,alt:"add",className:"menu__ico",title:"add the card"}),"Add another card"]})})}var Nt=n.p+"static/media/more.5666b46a.svg",Ct=function(e){var t=e.deleteList;return Object(we.jsx)(we.Fragment,{children:Object(we.jsx)("li",{className:"list__body_mt5",children:Object(we.jsxs)("button",{className:"popup__body__el",onClick:t,children:[Object(we.jsx)("span",{className:"el__span",children:"Delete the list"}),Object(we.jsx)("p",{className:"el__article",children:"Deleting this list"})]})})})};function Et(e){var t=e.deleteFn,n=Object(o.useState)(!1),a=Object(L.a)(n,2),c=a[0],s=a[1],i=Object(o.useRef)(null),u=function(){s((function(e){return!e}))};Le(i,(function(){return s(!1)}));var l={toggle:u,heading:"List actions",popupBody:Ct({deleteList:t((function(){return s(!1)}))}),classList:["list_drop"]};return Object(we.jsx)(we.Fragment,{children:Object(we.jsxs)("section",{className:"list__btnSection",ref:i,children:[Object(we.jsx)("button",{className:"menu__btn more__btn",onClick:u,children:Object(we.jsx)("img",{src:Nt,alt:"more",className:"menu__ico",title:"List actions"})}),c&&Object(we.jsx)(Te,Object(r.a)({},l))]})})}n(253);var It=function(e){var t=e.cards,n=e.deleteCard;return t.map((function(e){return Object(we.jsx)(yt,{card:e,removeCard:n(e._id)},e._id)}))};var Lt=Object(u.b)((function(e,t){var n=t.list._id;return{cards:e.cards[n]||[]}}),(function(e){return{dispatch:e}}))((function(e){var t=e.dispatch,n=e.list,r=n.name,a=n._id,c=n.boardId,s=e.cards,o=function(){var e=Object(T.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ot.delete(a,t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("delete list error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),i=Object(le.c)(o);return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)("section",{className:"card_design list",children:i.loading?Object(we.jsx)("div",{className:"centeredContainer",children:Object(we.jsx)(Me,{isShown:i.loading})}):Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)("header",{className:"popup__header list__header",children:Object(we.jsx)("h3",{className:"list__heading unselectable",children:r})}),Object(we.jsx)("section",{className:"list__body",children:Object(we.jsx)(It,{cards:s,deleteCard:function(e){return Object(T.a)(F.a.mark((function n(){return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,vt.delete(e,t);case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log("card delete error /list component/",n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))}})}),Object(we.jsx)("section",{className:"list__body",children:Object(we.jsx)(kt,{_id:a,boardId:c})})]})}),Object(we.jsx)(Et,{deleteFn:function(e){return Object(T.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(),t.next=3,i.execute();case 3:case"end":return t.stop()}}),t)})))}})]})})),At=function(e){return e.lists.map((function(e){return Object(we.jsx)(Lt,{list:e},e._id)}))};var St=Object(u.b)((function(e,t){var n=t._boardId;return{isLogged:e.auth.isLogged,localBoard:e.boards.find((function(e){return e._id===n})),lists:e.lists}}),(function(e){return{dispatch:e}}))((function(e){var t=e.localBoard,n=e.dispatch,r=e.isLogged,a=e.lists,c=e._boardId,s=Object(le.a)(function(){var e=Object(T.a)(F.a.mark((function e(t){var r,a,c,s;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([Ot.find(t,n),vt.find(t,n)]);case 3:return r=e.sent,a=Object(L.a)(r,2),c=a[0],s=a[1],n({type:O,lists:c,cards:s}),e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[c,n]),o=s.loading;return Ae(null===t||void 0===t?void 0:t.bg),void 0!==t&&r?Object(we.jsx)(we.Fragment,{children:o?Object(we.jsx)(Me,{isShown:o}):Object(we.jsx)(At,{lists:a.filter((function(e){return e.boardId===c}))})}):Object(we.jsx)(Qe.a,{to:"/"})})),Ft=Object(o.memo)((function(e){var t=e.inputPlaceholder,n=e.changeHandler,r=e.submit,a=e.closeFn,c=e.btnText,s=e.loading,o=e.btnClassList,i=e.classList;return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)("input",{type:"text",name:"list_name",className:"form__input add__list__input",placeholder:t,onChange:n,autoFocus:!0}),Object(we.jsxs)("div",{className:"add__list__btns",children:[Object(we.jsx)(Ye,{submit:r,btnText:c,loading:s,btnClassList:o,classList:i}),Object(we.jsx)(Ye,{type:"closeBtn",submit:a})]})]})}));function Tt(e){var t=e._boardId,n=Se({className:"add__list__form",name:"",boardId:t}),a=n.isAddForm,c=n.formToggle,s=n.changeHandler,o=n.formState,i=Object(u.c)(),l=function(){var e=Object(T.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"function"===typeof t.preventDefault&&t.preventDefault(),""!==o.name&&" "!==o.name){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,Ot.create(o,i);case 6:c(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log("create lists error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),d=Object(Ee.a)(l,1e3),b=Object(le.c)(d),j=b.execute,p=b.loading,f={inputPlaceholder:"Enter list title",changeHandler:s,submit:j,closeFn:c,btnText:"Add list",loading:p};return Object(we.jsx)("div",{className:a?"add__form":"add__form_wd",children:a?Object(we.jsx)(ct,{form:o,children:Object(we.jsx)(Ft,Object(r.a)({},f))}):Object(we.jsxs)("button",{className:"add__toggler card_design",onClick:c,children:[Object(we.jsx)("img",{src:Fe,alt:"add",className:"menu__ico",title:"add the list"}),"Add another list"]})})}function Pt(e){var t=e.users,n=e.boardId,a=e.ownerId,c=e.setChecks,s=e.checks;return Object(o.useEffect)((function(){c({})}),[t]),Object(we.jsx)("ul",{className:"innerList",children:o.Children.toArray(t.map((function(e){var t=e._id,o=a===t||e.subs.includes(n),i=function(){c((function(e){return e.hasOwnProperty(t)?Object(r.a)(Object(r.a)({},e),{},Object(I.a)({},t,!e[t])):Object(r.a)(Object(r.a)({},e),{},Object(I.a)({},t,!0))}))},u=s[t]||!1,l=o?function(){return null}:function(){return function(e){var t=e.inputChange,n=e.value;return Object(we.jsx)(we.Fragment,{children:Object(we.jsx)("input",{type:"checkbox",name:"invited",onChange:t,onClick:t,className:"userInfo__check",checked:n})})}({inputChange:i,value:u})};return Object(we.jsx)("li",{className:"list__body_li",children:Object(we.jsx)(et,Object(r.a)(Object(r.a)({},e),{},{isDisabled:o,click:i,innerBody:l}))})})))})}var Dt=function(e){var t=e.toggle,n=e.changeHandler,a=e.requestUsersState,c=e.loading,s=e.ownerId,i=e.boardId,u=e.requestUsersState,l=u.users,d=u.value,b=Object(o.useState)({}),j=Object(L.a)(b,2),p=j[0],f=j[1],m={submit:function(){var e=Object(T.a)(F.a.mark((function e(){var n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Object.entries(p).reduce((function(e,t){var n=Object(L.a)(t,2),r=n[0];return n[1]&&e.push(r),e}),[])).length){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,r={members:n,type:"subscribe"},e.next=7,me.patch({boardId:i,data:r});case 7:t(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("invite drop component error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),btnText:"SEND INVITATION",loading:c,btnClassList:["w_100pr"],classList:["w_100pr"]};return Object(we.jsxs)(we.Fragment,{children:[l.length>0&&Object(we.jsx)(Pt,{users:l,boardId:i,ownerId:s,setChecks:f,checks:p}),Object(we.jsx)("li",{className:"list__body_li",children:Object(we.jsx)(ct,{form:a,children:Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)("input",{type:"text",name:"invite",className:"form__input add__list__input",placeholder:"Email or name",onChange:n,value:d,autoFocus:!0}),Object(we.jsx)(Ye,Object(r.a)({},m))]})})})]})};function Bt(e){var t=e.toggle,n=e.boardId,a=e.ownerId,c=Object(o.useState)([]),s=Object(L.a)(c,2),i=s[0],u=s[1],l=function(e){var t=Object(o.useState)(""),n=Object(L.a)(t,2),r=n[0],a=n[1],c=Object(Ie.a)((function(){return Object(Ee.a)(e,2e3)})),s=Object(le.b)(function(){var e=Object(T.a)(F.a.mark((function e(t,n){var r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=4;break}r=[],e.next=7;break;case 4:return e.next=6,c(n);case 6:r=e.sent;case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[r]);return{inputText:r,setInputText:a,search:s}}(function(){var e=Object(T.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ve.getUsersFromRegex(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=l.setInputText,b=l.inputText,j=l.search,p=j.loading,f=j.result,m=function(){var e=Object(T.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,d(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){Array.isArray(f)&&u(f)}),[f]);var h={toggle:t,heading:"Invite to board",classList:["add"],popupBody:Dt({ownerId:a,changeHandler:m,requestUsersState:{value:b,className:"invite__form",users:i},boardId:n,loading:p,toggle:t})};return Object(we.jsx)(Te,Object(r.a)({},h))}function Rt(e){var t=e.boardId,n=e.ownerId,r=Object(o.useState)(!1),a=Object(L.a)(r,2),c=a[0],s=a[1],i=Object(o.useRef)(null),u=function(){s((function(e){return!e}))};return Le(i,(function(){return s(!1)})),Object(we.jsxs)("section",{className:"invite__section",ref:i,children:[c&&Object(we.jsx)(Bt,{toggle:u,boardId:t,ownerId:n}),Object(we.jsx)("button",{className:"add__toggler card_design invite__btn ".concat(c?"active":""),onClick:u,children:"Invite"})]})}var Ht=n.p+"static/media/owner.7c592e8e.svg",Ut=function(e){var t=e.subs,n=e.ownerId;return Object(we.jsx)("section",{className:"subsSection",children:t.map((function(e){var t=e._id,r=e.imageURL,a=e.displayName;return t===n?Object(we.jsxs)("section",{className:"avatar__container",children:[Object(we.jsx)(Ne,{imgLink:r,name:"".concat(a," owner"),size:25}),Object(we.jsx)("img",{src:Ht,className:"avatar__ico",alt:"owner"})]},t):Object(we.jsx)(Ne,{imgLink:r,name:a,size:25},t)}))})};var qt=Object(u.b)((function(e,t){var n=t._boardId;return{localBoard:e.boards.find((function(e){return e._id===n}))||{},currentUser:e.auth.user._id}}),null)((function(e){var t=e.currentUser,n=e.localBoard,r=e.localBoard,a=r.title,c=r.memberIds,s=r.ownerId,i=r._id,u=Object(o.useState)([]),l=Object(L.a)(u,2),d=l[0],b=l[1];return Object(o.useEffect)((function(){return c&&s&&ve.getBoardMembersInfo([s].concat(Object(C.a)(c)),(function(e){b((function(t){return[].concat(Object(C.a)(e),Object(C.a)(t))}))})),function(){return b([])}}),[c]),n?Object(we.jsx)("section",{className:"boards__header",children:Object(we.jsxs)("div",{className:"header__wrapper card_design",children:[Object(we.jsx)("h4",{className:"unselectable",title:"Board name",children:a}),Object(we.jsx)("span",{className:"span_divider"}),Object(we.jsx)(Ut,{subs:d,ownerId:s}),Object(we.jsx)("span",{className:"span_divider"}),t===s?Object(we.jsx)(Rt,{ownerId:s,boardId:i}):null]})}):null}));n(254);var zt={username:/^[a-zA-Z0-9]{4,16}$/,password:/^(?=.*[0-9])(?=.*[a-zA-Z])(?=\S+$).{4,16}$/,displayName:/^[A-Z]{1}\w{2,10}\s{1}[A-Z]{1}\w{2,11}$/,email:/^[a-zA-Z\d]{1,15}@[a-z]{1,9}\.{1}([a-z]{2,4}){1}$/},Vt={username:"Username must be from 4 to 16 numbers of latin characters",password:"Your password must be 4-16 characters, and include at least one number.",displayName:"Enter your name and surname divided by space. First letters are capital :)",confirmPassword:"Passwords should match",email:"Enter your email"},Gt=function(e,t){var n={message:"",isValidated:!0,name:""};return t in zt&&!zt[t].test(e)&&(n.message=Vt[t],n.name=t,n.isValidated=!1),n},$t=function(e,t){var n=e.password,r=e.username,a=e.displayName,c=e.email,s=[],o={data:null,isValidated:!1};if("signup"===t){var i={password:n,username:r,displayName:a,email:c};for(var u in i)s.push(Gt(i[u],u));return o.data=e,o.isValidated=s.every((function(e){return!0===e.isValidated})),o}if("login"===t){var l={password:n,username:r};for(var d in l)s.push(Gt(l[d],d));return o.data=e,o.isValidated=s.every((function(e){return!0===e.isValidated})),o}return o},Mt=n.p+"static/media/google_icon.d3e53ba5.svg",Wt=(n(255),Object(o.memo)((function(e){var t=e.warn,n=e.form,r=e.changeHandler,a=e.submit,c=function(){var e=Object(T.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{"google"===t&&window.location.replace("".concat(M,"/oauth/google"))}catch(n){console.log("",n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)("h3",{className:"form__heading",children:"Login"}),Object(we.jsx)("input",{type:"text",name:"username",className:"form__input",placeholder:"Enter username",value:n.username,onChange:r,required:!0,autoFocus:!0}),t.username?Object(we.jsx)("span",{className:"form__warning",children:t.username}):null,Object(we.jsx)("input",{type:"password",name:"password",className:"form__input","data-validatefor":"confirmPassword",placeholder:"Enter password",value:n.password,onChange:r,required:!0}),t.password?Object(we.jsx)("span",{className:"form__warning",children:t.password}):null,Object(we.jsx)("button",{className:"form__btn",onClick:a,children:"Log in"}),Object(we.jsxs)("button",{className:"form__btn login_via",type:"button","data-oauthtype":"google",onClick:function(e){var t=e.currentTarget.dataset.oauthtype;c(t)},children:[Object(we.jsx)("img",{src:Mt,alt:"google",className:"login_via_icon"})," ","Continue with Google"]}),Object(we.jsx)(d.b,{to:"/signup",className:"form__link",children:"Sign up for an account"})]})})));var Yt=Object(u.b)((function(e){return{isLogged:e.auth.isLogged}}),(function(e){return{dispatch:e}}))((function(e){var t=e.dispatch,n=e.isLogged,a={username:"",password:"",confirmPassword:"",displayName:"",email:"",className:""},c=Object(o.useState)(a),s=Object(L.a)(c,2),i=s[0],u=s[1],l=Object(o.useState)(a),d=Object(L.a)(l,2),b=d[0],j=d[1],p=function(){var e=Object(T.a)(F.a.mark((function e(n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.login(n,t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),f=Object(le.c)(p),m=f.execute,h=f.loading,O=f.error;if(!0===n)return Object(we.jsx)(Qe.a,{to:"/profile"});var g={warn:b,form:i,changeHandler:function(e){var t=e.target,n=t.name,a=t.value,c=Gt(a,n),s=c.message,o=c.isValidated;j(o?Object(r.a)(Object(r.a)({},b),{},Object(I.a)({},n,"")):Object(r.a)(Object(r.a)({},b),{},Object(I.a)({},n,s))),u(Object(r.a)(Object(r.a)({},i),{},Object(I.a)({},n,a)))},submit:function(e){e&&"function"===typeof e.preventDefault&&e.preventDefault();var t=$t(i,"login"),n=t.data;t.isValidated&&Object.values(b).every((function(e){return""===e}))&&(m(n),u(Object(r.a)(Object(r.a)({},a),{},{username:i.username})))}};return Object(we.jsx)("div",{className:"form__container",children:Object(we.jsx)(ct,{form:i,error:O,loading:h,children:Object(we.jsx)(Wt,Object(r.a)({},g))})})})),Zt=(n(256),Object(o.memo)((function(e){var t=e.confirmBlur,n=e.warn,r=e.form,a=e.changeHandler,c=e.submit,s=function(){var e=Object(T.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{"google"===t&&window.location.replace("".concat(M,"/oauth/google"))}catch(n){console.log("",n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)("h3",{className:"form__heading",children:"Sign up for your account"}),Object(we.jsx)("input",{type:"text",name:"username",className:"form__input",placeholder:"Enter username",value:r.username,onChange:a,required:!0,autoFocus:!0}),n.username?Object(we.jsx)("span",{className:"form__warning",children:n.username}):null,Object(we.jsx)("input",{type:"password",name:"password",className:"form__input","data-validatefor":"confirmPassword",placeholder:"Enter password",value:r.password,onChange:a,required:!0}),n.password?Object(we.jsx)("span",{className:"form__warning",children:n.password}):null,Object(we.jsx)("input",{type:"password",name:"confirmPassword","data-validatefor":"password",className:"form__input",placeholder:"Confirm password",value:r.confirmPassword,onChange:a,onBlur:t,required:!0}),n.confirmPassword?Object(we.jsx)("span",{className:"form__warning",children:n.confirmPassword}):null,Object(we.jsx)("input",{type:"text",name:"displayName",className:"form__input",placeholder:"Enter Your full name",value:r.displayName,onChange:a,required:!0}),n.displayName?Object(we.jsx)("span",{className:"form__warning",children:n.displayName}):null,Object(we.jsx)("input",{type:"email",name:"email",className:"form__input",placeholder:"Enter Your Email",value:r.email,onChange:a,required:!0}),n.email?Object(we.jsx)("span",{className:"form__warning",children:n.email}):null,Object(we.jsx)("button",{className:"form__btn",onClick:c,children:"Sign up"}),Object(we.jsxs)("button",{className:"form__btn login_via",type:"button","data-oauthtype":"google",onClick:function(e){var t=e.currentTarget.dataset.oauthtype;s(t)},children:[Object(we.jsx)("img",{src:Mt,alt:"google",className:"login_via_icon"})," ","Continue with Google"]})]})})));var Jt=Object(u.b)((function(e){return{isLogged:e.auth.isLogged}}),(function(e){return{dispatch:e}}))((function(e){var t=e.isLogged,n=e.dispatch,a=function(){var e=Object(T.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.create(t,n);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),c=Object(le.c)(a),s=c.execute,i=c.loading,u=c.error,l=c.status,d={username:"",password:"",confirmPassword:"",displayName:"",email:"",className:""},b=Object(o.useState)(d),j=Object(L.a)(b,2),p=j[0],f=j[1],m=Object(o.useState)(d),h=Object(L.a)(m,2),O=h[0],g=h[1];if(!0===t||"success"===l)return Object(we.jsx)(Qe.a,{to:"/profile"});var v={confirmBlur:function(e){var t=e.target,n=t.name,a=t.value,c=t.dataset.validatefor,s=function(e,t){var n={message:"",isValidated:!0};return e!==t&&(n.message=Vt.confirmPassword,n.isValidated=!1),n}(a,p[c]),o=s.message,i=s.isValidated;g(i?Object(r.a)(Object(r.a)({},O),{},Object(I.a)({},n,"")):Object(r.a)(Object(r.a)({},O),{},Object(I.a)({},n,o)))},warn:O,form:p,changeHandler:function(e){var t=e.target,n=t.name,a=t.value,c=Gt(a,n),s=c.message,o=c.isValidated;g(o?Object(r.a)(Object(r.a)({},O),{},Object(I.a)({},n,"")):Object(r.a)(Object(r.a)({},O),{},Object(I.a)({},n,s))),f(Object(r.a)(Object(r.a)({},p),{},Object(I.a)({},n,a)))},submit:function(e){e&&"function"===typeof e.preventDefault&&e.preventDefault();var t=$t(p,"signup"),n=t.data;t.isValidated&&Object.values(O).every((function(e){return""===e}))&&(null===s||void 0===s||s(n),f(d))}};return Object(we.jsx)("div",{className:"form__container",children:Object(we.jsx)(ct,{form:p,error:u,loading:i,children:Object(we.jsx)(Zt,Object(r.a)({},v))})})}));function Kt(e){var t=e._id,n=e.bg,r=e.deleteIco,a=e.title,c=e.bgChecker,s=e.dispatch,i=Object(o.useRef)(null),u=function(){var e=Object(T.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.target.name,e.next=4,me.delete(n,s);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("delete board err ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),l=Object(le.c)(u),b=l.execute,j=l.loading;return j?Object(we.jsx)("div",{className:"board__card centeredContainer",children:Object(we.jsx)(Me,{isShown:j})}):Object(we.jsxs)("div",{className:"board__card card_design",name:t,style:c?{backgroundImage:"url(".concat(n,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"}:{background:n},title:a,children:[Object(we.jsx)(d.b,{to:"/board/".concat(t),ref:i,hidden:!0}),Object(we.jsx)("button",{className:"close__btn",onClick:b,name:t,children:Object(we.jsx)("img",{src:r,name:t,alt:"delete",className:"menu__ico board__ico",title:"Delete the board",draggable:!1})}),Object(we.jsx)("button",{className:"form__btn card__btn",title:"Go to the board",onClick:function(e){i.current.click()},children:a})]})}n(257);var Xt=Object(u.b)((function(e){return{isLogged:e.auth.isLogged,boards:e.boards}}),(function(e){return{dispatch:e}}))((function(e){var t=e.isLogged,n=e.boards,a=e.dispatch;return Ae(),!1===t?Object(we.jsx)(Qe.a,{to:"login"}):Object(we.jsx)("div",{className:"profile container",children:o.Children.toArray(n.map((function(e){var t=te(e.bg),n=Object(r.a)(Object(r.a)({},e),{},{deleteIco:Fe,bgChecker:t,dispatch:a});return Object(we.jsx)(Kt,Object(r.a)({},n))})))})})),Qt=[{path:"/login",component:Yt},{path:"/signup",component:Jt}],en=[{path:"/",component:Xt},{path:"/board/:id",component:function(e){var t=e.match.params.id;return Object(we.jsxs)("section",{className:"boards",children:[Object(we.jsx)(qt,{_boardId:t}),Object(we.jsxs)("div",{className:"container",children:[Object(we.jsx)(St,{_boardId:t}),Object(we.jsx)(Tt,{_boardId:t})]})]})}},{path:"/profile",component:Xt}];function tn(e){var t=Object(u.c)(),n=Object(Qe.g)(),r=Object(o.useState)(!0),a=Object(L.a)(r,2),c=a[0],s=a[1];return Object(o.useEffect)((function(){var r=function(){var r=Object(T.a)(F.a.mark((function r(){var a,c;return F.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a=new ce(e.location.search),c=a.get("code"),r.next=5,ve.login({strategy:"google",code:c},t);case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.log("login with google error",r.t0);case 10:return r.prev=10,s((function(){return!1})),n.push("/profile"),r.finish(10);case 14:case"end":return r.stop()}}),r,null,[[0,7,10,14]])})));return function(){return r.apply(this,arguments)}}();return r(),function(){return s((function(){return!1}))}})),Object(we.jsx)(we.Fragment,{children:Object(we.jsx)(Me,{isShown:c,styles:{margin:"10% auto"}})})}var nn=Object(u.b)((function(e){return{isLogged:e.auth.isLogged}}),null)((function(e){var t=e.isLogged;return Object(we.jsxs)(Qe.d,{children:[!0===t?o.Children.toArray(en.map((function(e){var t=e.path,n=e.component;return Object(we.jsx)(Qe.b,{exact:!0,path:t,component:n})}))):null,o.Children.toArray(Qt.map((function(e){var t=e.path,n=e.component;return Object(we.jsx)(Qe.b,{exact:!0,path:t,component:n})}))),Object(we.jsx)(Qe.b,{component:function(e){return e.location.search&&!t&&(n=e.location.search,/\/?code=4.+/g.test(n))?Object(we.jsx)(tn,Object(r.a)({},e)):Object(we.jsx)(Qe.a,{to:"/login"});var n}})]})}));n(258);var rn,an=Object(u.b)(null,(function(e){return{dispatch:e}}))((function(e){var t=e.dispatch,n=Object(le.a)(ve.loginFromCache,[t]).loading;return Object(we.jsx)(we.Fragment,{children:n?Object(we.jsx)("div",{className:"centeredContainer mt_10",children:Object(we.jsx)(Me,{isShown:n})}):Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)(mt,{}),Object(we.jsx)("main",{children:Object(we.jsx)(nn,{})})]})})})),cn=["children"],sn=[u.a,d.a].reduce((function(e,t){return function(n){var c=n.children,s=Object(a.a)(n,cn);return Object(we.jsx)(e,Object(r.a)(Object(r.a)({},s),{},{children:Object(we.jsx)(t,{children:c})}))}})),on=Object(i.createStore)(ue,Object(l.composeWithDevTools)());rn=on.dispatch,ee.on("created",(function(e){rn({type:k,payload:e})})),ee.on("removed",(function(e){rn({type:w,payload:e})})),K.on("patched",(function(e){rn({type:m,payload:e})})),K.on("created",(function(e){rn({type:p,payload:e})})),K.on("removed",(function(e){var t=e._id;rn({type:f,payload:t})})),X.on("created",(function(e){rn({type:g,payload:e})})),X.on("removed",(function(e){rn({type:v,payload:e})})),Q.on("removed",(function(e){var t=e._id,n=e.listId;rn({type:_,payload:{_id:t,listId:n}})})),Q.on("created",(function(e){rn({type:x,payload:e})})),Q.on("patched",(function(e){rn({type:y,payload:e})})),s.a.render(Object(we.jsx)(o.StrictMode,{children:Object(we.jsx)(sn,{store:on,children:Object(we.jsx)(an,{})})}),document.getElementById("root")),window.onerror=function(e){console.log("window error",e.message)}}},[[259,1,2]]]);
//# sourceMappingURL=main.24b37538.chunk.js.map